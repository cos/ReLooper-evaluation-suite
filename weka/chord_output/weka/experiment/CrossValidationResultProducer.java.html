<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD>
<LINK REL=STYLESHEET TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
<META NAME="GENERATOR" CONTENT="Java2HTML Version 1.5">
<TITLE>weka.experiment.CrossValidationResultProducer (Java2HTML)</TITLE>
</HEAD>
<BODY><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">CrossValidationResultProducer.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>
<pre ID="Classes">
<FONT ID="LN">1   </FONT><A NAME="1"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">2   </FONT><A NAME="2"></A> *    This program is free software; you can redistribute it and/or modify
<FONT ID="LN">3   </FONT><A NAME="3"></A> *    it under the terms of the GNU General Public License as published by
<FONT ID="LN">4   </FONT><A NAME="4"></A> *    the Free Software Foundation; either version 2 of the License, or
<FONT ID="LN">5   </FONT><A NAME="5"></A> *    (at your option) any later version.
<FONT ID="LN">6   </FONT><A NAME="6"></A> *
<FONT ID="LN">7   </FONT><A NAME="7"></A> *    This program is distributed in the hope that it will be useful,
<FONT ID="LN">8   </FONT><A NAME="8"></A> *    but WITHOUT ANY WARRANTY; without even the implied warranty of
<FONT ID="LN">9   </FONT><A NAME="9"></A> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
<FONT ID="LN">10  </FONT><A NAME="10"></A> *    GNU General Public License for more details.
<FONT ID="LN">11  </FONT><A NAME="11"></A> *
<FONT ID="LN">12  </FONT><A NAME="12"></A> *    You should have received a copy of the GNU General Public License
<FONT ID="LN">13  </FONT><A NAME="13"></A> *    along with this program; if not, write to the Free Software
<FONT ID="LN">14  </FONT><A NAME="14"></A> *    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
<FONT ID="LN">15  </FONT><A NAME="15"></A> */</FONT>
<FONT ID="LN">16  </FONT><A NAME="16"></A>
<FONT ID="LN">17  </FONT><A NAME="17"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">18  </FONT><A NAME="18"></A> *    CrossValidationResultProducer.java
<FONT ID="LN">19  </FONT><A NAME="19"></A> *    Copyright (C) 1999 University of Waikato, Hamilton, New Zealand
<FONT ID="LN">20  </FONT><A NAME="20"></A> *
<FONT ID="LN">21  </FONT><A NAME="21"></A> */</FONT>
<FONT ID="LN">22  </FONT><A NAME="22"></A>
<FONT ID="LN">23  </FONT><A NAME="23"></A>
<FONT ID="LN">24  </FONT><A NAME="24"></A><FONT ID="Package">package</FONT> weka.experiment;
<FONT ID="LN">25  </FONT><A NAME="25"></A>
<FONT ID="LN">26  </FONT><A NAME="26"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/AdditionalMeasureProducer.java.html">weka.core.AdditionalMeasureProducer</A>;
<FONT ID="LN">27  </FONT><A NAME="27"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Instances.java.html">weka.core.Instances</A>;
<FONT ID="LN">28  </FONT><A NAME="28"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Option.java.html">weka.core.Option</A>;
<FONT ID="LN">29  </FONT><A NAME="29"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/OptionHandler.java.html">weka.core.OptionHandler</A>;
<FONT ID="LN">30  </FONT><A NAME="30"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/RevisionHandler.java.html">weka.core.RevisionHandler</A>;
<FONT ID="LN">31  </FONT><A NAME="31"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/RevisionUtils.java.html">weka.core.RevisionUtils</A>;
<FONT ID="LN">32  </FONT><A NAME="32"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Utils.java.html">weka.core.Utils</A>;
<FONT ID="LN">33  </FONT><A NAME="33"></A>
<FONT ID="LN">34  </FONT><A NAME="34"></A><FONT ID="Import">import</FONT> java.io.File;
<FONT ID="LN">35  </FONT><A NAME="35"></A><FONT ID="Import">import</FONT> java.util.Calendar;
<FONT ID="LN">36  </FONT><A NAME="36"></A><FONT ID="Import">import</FONT> java.util.Enumeration;
<FONT ID="LN">37  </FONT><A NAME="37"></A><FONT ID="Import">import</FONT> java.util.Random;
<FONT ID="LN">38  </FONT><A NAME="38"></A><FONT ID="Import">import</FONT> java.util.TimeZone;
<FONT ID="LN">39  </FONT><A NAME="39"></A><FONT ID="Import">import</FONT> java.util.Vector;
<FONT ID="LN">40  </FONT><A NAME="40"></A>
<FONT ID="LN">41  </FONT><A NAME="41"></A>
<FONT ID="LN">42  </FONT><A NAME="42"></A><FONT ID="FormalComment">/**
<FONT ID="LN">43  </FONT><A NAME="43"></A> &lt;!-- globalinfo-start --&gt;
<FONT ID="LN">44  </FONT><A NAME="44"></A> * Generates for each run, carries out an n-fold cross-validation, using the set SplitEvaluator to generate some results. If the class attribute is nominal, the dataset is stratified. Results for each fold are generated, so you may wish to use this in addition with an AveragingResultProducer to obtain averages for each run.
<FONT ID="LN">45  </FONT><A NAME="45"></A> * &lt;p/&gt;
<FONT ID="LN">46  </FONT><A NAME="46"></A> &lt;!-- globalinfo-end --&gt;
<FONT ID="LN">47  </FONT><A NAME="47"></A> *
<FONT ID="LN">48  </FONT><A NAME="48"></A> &lt;!-- options-start --&gt;
<FONT ID="LN">49  </FONT><A NAME="49"></A> * Valid options are: &lt;p/&gt;
<FONT ID="LN">50  </FONT><A NAME="50"></A> * 
<FONT ID="LN">51  </FONT><A NAME="51"></A> * &lt;pre&gt; -X &amp;lt;number of folds&amp;gt;
<FONT ID="LN">52  </FONT><A NAME="52"></A> *  The number of folds to use for the cross-validation.
<FONT ID="LN">53  </FONT><A NAME="53"></A> *  (default 10)&lt;/pre&gt;
<FONT ID="LN">54  </FONT><A NAME="54"></A> * 
<FONT ID="LN">55  </FONT><A NAME="55"></A> * &lt;pre&gt; -D
<FONT ID="LN">56  </FONT><A NAME="56"></A> * Save raw split evaluator output.&lt;/pre&gt;
<FONT ID="LN">57  </FONT><A NAME="57"></A> * 
<FONT ID="LN">58  </FONT><A NAME="58"></A> * &lt;pre&gt; -O &amp;lt;file/directory name/path&amp;gt;
<FONT ID="LN">59  </FONT><A NAME="59"></A> *  The filename where raw output will be stored.
<FONT ID="LN">60  </FONT><A NAME="60"></A> *  If a directory name is specified then then individual
<FONT ID="LN">61  </FONT><A NAME="61"></A> *  outputs will be gzipped, otherwise all output will be
<FONT ID="LN">62  </FONT><A NAME="62"></A> *  zipped to the named file. Use in conjuction with -D. (default splitEvalutorOut.zip)&lt;/pre&gt;
<FONT ID="LN">63  </FONT><A NAME="63"></A> * 
<FONT ID="LN">64  </FONT><A NAME="64"></A> * &lt;pre&gt; -W &amp;lt;class name&amp;gt;
<FONT ID="LN">65  </FONT><A NAME="65"></A> *  The full class name of a SplitEvaluator.
<FONT ID="LN">66  </FONT><A NAME="66"></A> *  eg: weka.experiment.ClassifierSplitEvaluator&lt;/pre&gt;
<FONT ID="LN">67  </FONT><A NAME="67"></A> * 
<FONT ID="LN">68  </FONT><A NAME="68"></A> * &lt;pre&gt; 
<FONT ID="LN">69  </FONT><A NAME="69"></A> * Options specific to split evaluator weka.experiment.ClassifierSplitEvaluator:
<FONT ID="LN">70  </FONT><A NAME="70"></A> * &lt;/pre&gt;
<FONT ID="LN">71  </FONT><A NAME="71"></A> * 
<FONT ID="LN">72  </FONT><A NAME="72"></A> * &lt;pre&gt; -W &amp;lt;class name&amp;gt;
<FONT ID="LN">73  </FONT><A NAME="73"></A> *  The full class name of the classifier.
<FONT ID="LN">74  </FONT><A NAME="74"></A> *  eg: weka.classifiers.bayes.NaiveBayes&lt;/pre&gt;
<FONT ID="LN">75  </FONT><A NAME="75"></A> * 
<FONT ID="LN">76  </FONT><A NAME="76"></A> * &lt;pre&gt; -C &amp;lt;index&amp;gt;
<FONT ID="LN">77  </FONT><A NAME="77"></A> *  The index of the class for which IR statistics
<FONT ID="LN">78  </FONT><A NAME="78"></A> *  are to be output. (default 1)&lt;/pre&gt;
<FONT ID="LN">79  </FONT><A NAME="79"></A> * 
<FONT ID="LN">80  </FONT><A NAME="80"></A> * &lt;pre&gt; -I &amp;lt;index&amp;gt;
<FONT ID="LN">81  </FONT><A NAME="81"></A> *  The index of an attribute to output in the
<FONT ID="LN">82  </FONT><A NAME="82"></A> *  results. This attribute should identify an
<FONT ID="LN">83  </FONT><A NAME="83"></A> *  instance in order to know which instances are
<FONT ID="LN">84  </FONT><A NAME="84"></A> *  in the test set of a cross validation. if 0
<FONT ID="LN">85  </FONT><A NAME="85"></A> *  no output (default 0).&lt;/pre&gt;
<FONT ID="LN">86  </FONT><A NAME="86"></A> * 
<FONT ID="LN">87  </FONT><A NAME="87"></A> * &lt;pre&gt; -P
<FONT ID="LN">88  </FONT><A NAME="88"></A> *  Add target and prediction columns to the result
<FONT ID="LN">89  </FONT><A NAME="89"></A> *  for each fold.&lt;/pre&gt;
<FONT ID="LN">90  </FONT><A NAME="90"></A> * 
<FONT ID="LN">91  </FONT><A NAME="91"></A> * &lt;pre&gt; 
<FONT ID="LN">92  </FONT><A NAME="92"></A> * Options specific to classifier weka.classifiers.rules.ZeroR:
<FONT ID="LN">93  </FONT><A NAME="93"></A> * &lt;/pre&gt;
<FONT ID="LN">94  </FONT><A NAME="94"></A> * 
<FONT ID="LN">95  </FONT><A NAME="95"></A> * &lt;pre&gt; -D
<FONT ID="LN">96  </FONT><A NAME="96"></A> *  If set, classifier is run in debug mode and
<FONT ID="LN">97  </FONT><A NAME="97"></A> *  may output additional info to the console&lt;/pre&gt;
<FONT ID="LN">98  </FONT><A NAME="98"></A> * 
<FONT ID="LN">99  </FONT><A NAME="99"></A> &lt;!-- options-end --&gt;
<FONT ID="LN">100 </FONT><A NAME="100"></A> * 
<FONT ID="LN">101 </FONT><A NAME="101"></A> * All options after -- will be passed to the split evaluator.
<FONT ID="LN">102 </FONT><A NAME="102"></A> *
<FONT ID="LN">103 </FONT><A NAME="103"></A> * @author Len Trigg (trigg@cs.waikato.ac.nz)
<FONT ID="LN">104 </FONT><A NAME="104"></A> * @version $Revision: 1.17 $
<FONT ID="LN">105 </FONT><A NAME="105"></A> */</FONT>
<FONT ID="LN">106 </FONT><A NAME="106"></A><FONT ID="Public">public</FONT> <FONT ID="Class">class</FONT> CrossValidationResultProducer 
<FONT ID="LN">107 </FONT><A NAME="107"></A>  <FONT ID="Implements">implements</FONT> <A HREF="../../weka/experiment/ResultProducer.java.html">ResultProducer</A>, <A HREF="../../weka/core/OptionHandler.java.html">OptionHandler</A>, <A HREF="../../weka/core/AdditionalMeasureProducer.java.html">AdditionalMeasureProducer</A>, 
<FONT ID="LN">108 </FONT><A NAME="108"></A>             <A HREF="../../weka/core/RevisionHandler.java.html">RevisionHandler</A> {
<FONT ID="LN">109 </FONT><A NAME="109"></A>  
<FONT ID="LN">110 </FONT><A NAME="110"></A>  <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">111 </FONT><A NAME="111"></A>  <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = -<FONT ID="IntegerLiteral">1580053925080091917L</FONT>;
<FONT ID="LN">112 </FONT><A NAME="112"></A>  
<FONT ID="LN">113 </FONT><A NAME="113"></A>  <FONT ID="FormalComment">/** The dataset of interest */</FONT>
<FONT ID="LN">114 </FONT><A NAME="114"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../weka/core/Instances.java.html">Instances</A> m_Instances;
<FONT ID="LN">115 </FONT><A NAME="115"></A>
<FONT ID="LN">116 </FONT><A NAME="116"></A>  <FONT ID="FormalComment">/** The ResultListener to send results to */</FONT>
<FONT ID="LN">117 </FONT><A NAME="117"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../weka/experiment/ResultListener.java.html">ResultListener</A> m_ResultListener = <FONT ID="New">new</FONT> <A HREF="../../weka/experiment/CSVResultListener.java.html">CSVResultListener</A>();
<FONT ID="LN">118 </FONT><A NAME="118"></A>
<FONT ID="LN">119 </FONT><A NAME="119"></A>  <FONT ID="FormalComment">/** The number of folds in the cross-validation */</FONT>
<FONT ID="LN">120 </FONT><A NAME="120"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_NumFolds = <FONT ID="IntegerLiteral">10</FONT>;
<FONT ID="LN">121 </FONT><A NAME="121"></A>
<FONT ID="LN">122 </FONT><A NAME="122"></A>  <FONT ID="FormalComment">/** Save raw output of split evaluators --- for debugging purposes */</FONT>
<FONT ID="LN">123 </FONT><A NAME="123"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Boolean">boolean</FONT> m_debugOutput = <FONT ID="False">false</FONT>;
<FONT ID="LN">124 </FONT><A NAME="124"></A>
<FONT ID="LN">125 </FONT><A NAME="125"></A>  <FONT ID="FormalComment">/** The output zipper to use for saving raw splitEvaluator output */</FONT>
<FONT ID="LN">126 </FONT><A NAME="126"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../weka/experiment/OutputZipper.java.html">OutputZipper</A> m_ZipDest = <FONT ID="Null">null</FONT>;
<FONT ID="LN">127 </FONT><A NAME="127"></A>
<FONT ID="LN">128 </FONT><A NAME="128"></A>  <FONT ID="FormalComment">/** The destination output file/directory for raw output */</FONT>
<FONT ID="LN">129 </FONT><A NAME="129"></A>  <FONT ID="Protected">protected</FONT> File m_OutputFile = <FONT ID="New">new</FONT> File(
<FONT ID="LN">130 </FONT><A NAME="130"></A>                <FONT ID="New">new</FONT> File(System.getProperty(<FONT ID="StringLiteral">"user.dir"</FONT>)), 
<FONT ID="LN">131 </FONT><A NAME="131"></A>                <FONT ID="StringLiteral">"splitEvalutorOut.zip"</FONT>);
<FONT ID="LN">132 </FONT><A NAME="132"></A>
<FONT ID="LN">133 </FONT><A NAME="133"></A>  <FONT ID="FormalComment">/** The SplitEvaluator used to generate results */</FONT>
<FONT ID="LN">134 </FONT><A NAME="134"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../weka/experiment/SplitEvaluator.java.html">SplitEvaluator</A> m_SplitEvaluator = <FONT ID="New">new</FONT> <A HREF="../../weka/experiment/ClassifierSplitEvaluator.java.html">ClassifierSplitEvaluator</A>();
<FONT ID="LN">135 </FONT><A NAME="135"></A>
<FONT ID="LN">136 </FONT><A NAME="136"></A>  <FONT ID="FormalComment">/** The names of any additional measures to look for in SplitEvaluators */</FONT>
<FONT ID="LN">137 </FONT><A NAME="137"></A>  <FONT ID="Protected">protected</FONT> String [] m_AdditionalMeasures = <FONT ID="Null">null</FONT>;
<FONT ID="LN">138 </FONT><A NAME="138"></A>
<FONT ID="LN">139 </FONT><A NAME="139"></A>  <FONT ID="FormalComment">/** The name of the key field containing the dataset name */</FONT>
<FONT ID="LN">140 </FONT><A NAME="140"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> String DATASET_FIELD_NAME = <FONT ID="StringLiteral">"Dataset"</FONT>;
<FONT ID="LN">141 </FONT><A NAME="141"></A>
<FONT ID="LN">142 </FONT><A NAME="142"></A>  <FONT ID="FormalComment">/** The name of the key field containing the run number */</FONT>
<FONT ID="LN">143 </FONT><A NAME="143"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> String RUN_FIELD_NAME = <FONT ID="StringLiteral">"Run"</FONT>;
<FONT ID="LN">144 </FONT><A NAME="144"></A>
<FONT ID="LN">145 </FONT><A NAME="145"></A>  <FONT ID="FormalComment">/** The name of the key field containing the fold number */</FONT>
<FONT ID="LN">146 </FONT><A NAME="146"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> String FOLD_FIELD_NAME = <FONT ID="StringLiteral">"Fold"</FONT>;
<FONT ID="LN">147 </FONT><A NAME="147"></A>
<FONT ID="LN">148 </FONT><A NAME="148"></A>  <FONT ID="FormalComment">/** The name of the result field containing the timestamp */</FONT>
<FONT ID="LN">149 </FONT><A NAME="149"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> String TIMESTAMP_FIELD_NAME = <FONT ID="StringLiteral">"Date_time"</FONT>;
<FONT ID="LN">150 </FONT><A NAME="150"></A>
<FONT ID="LN">151 </FONT><A NAME="151"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">152 </FONT><A NAME="152"></A>   * Returns a string describing this result producer
<FONT ID="LN">153 </FONT><A NAME="153"></A>   * @return a description of the result producer suitable for
<FONT ID="LN">154 </FONT><A NAME="154"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">155 </FONT><A NAME="155"></A>   */</FONT>
<FONT ID="LN">156 </FONT><A NAME="156"></A>  <FONT ID="Public">public</FONT> String globalInfo() {
<FONT ID="LN">157 </FONT><A NAME="157"></A>    <FONT ID="Return">return</FONT> 
<FONT ID="LN">158 </FONT><A NAME="158"></A>        <FONT ID="StringLiteral">"Generates for each run, carries out an n-fold cross-validation, "</FONT>
<FONT ID="LN">159 </FONT><A NAME="159"></A>      + <FONT ID="StringLiteral">"using the set SplitEvaluator to generate some results. If the class "</FONT>
<FONT ID="LN">160 </FONT><A NAME="160"></A>      + <FONT ID="StringLiteral">"attribute is nominal, the dataset is stratified. Results for each fold "</FONT>
<FONT ID="LN">161 </FONT><A NAME="161"></A>      + <FONT ID="StringLiteral">"are generated, so you may wish to use this in addition with an "</FONT>
<FONT ID="LN">162 </FONT><A NAME="162"></A>      + <FONT ID="StringLiteral">"AveragingResultProducer to obtain averages for each run."</FONT>;
<FONT ID="LN">163 </FONT><A NAME="163"></A>  }
<FONT ID="LN">164 </FONT><A NAME="164"></A>
<FONT ID="LN">165 </FONT><A NAME="165"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">166 </FONT><A NAME="166"></A>   * Sets the dataset that results will be obtained for.
<FONT ID="LN">167 </FONT><A NAME="167"></A>   *
<FONT ID="LN">168 </FONT><A NAME="168"></A>   * @param instances a value of type 'Instances'.
<FONT ID="LN">169 </FONT><A NAME="169"></A>   */</FONT>
<FONT ID="LN">170 </FONT><A NAME="170"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setInstances(<A HREF="../../weka/core/Instances.java.html">Instances</A> instances) {
<FONT ID="LN">171 </FONT><A NAME="171"></A>    
<FONT ID="LN">172 </FONT><A NAME="172"></A>    m_Instances = instances;
<FONT ID="LN">173 </FONT><A NAME="173"></A>  }
<FONT ID="LN">174 </FONT><A NAME="174"></A>
<FONT ID="LN">175 </FONT><A NAME="175"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">176 </FONT><A NAME="176"></A>   * Sets the object to send results of each run to.
<FONT ID="LN">177 </FONT><A NAME="177"></A>   *
<FONT ID="LN">178 </FONT><A NAME="178"></A>   * @param listener a value of type 'ResultListener'
<FONT ID="LN">179 </FONT><A NAME="179"></A>   */</FONT>
<FONT ID="LN">180 </FONT><A NAME="180"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setResultListener(<A HREF="../../weka/experiment/ResultListener.java.html">ResultListener</A> listener) {
<FONT ID="LN">181 </FONT><A NAME="181"></A>
<FONT ID="LN">182 </FONT><A NAME="182"></A>    m_ResultListener = listener;
<FONT ID="LN">183 </FONT><A NAME="183"></A>  }
<FONT ID="LN">184 </FONT><A NAME="184"></A>
<FONT ID="LN">185 </FONT><A NAME="185"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">186 </FONT><A NAME="186"></A>   * Set a list of method names for additional measures to look for
<FONT ID="LN">187 </FONT><A NAME="187"></A>   * in SplitEvaluators. This could contain many measures (of which only a
<FONT ID="LN">188 </FONT><A NAME="188"></A>   * subset may be produceable by the current SplitEvaluator) if an experiment
<FONT ID="LN">189 </FONT><A NAME="189"></A>   * is the type that iterates over a set of properties.
<FONT ID="LN">190 </FONT><A NAME="190"></A>   * @param additionalMeasures an array of measure names, null if none
<FONT ID="LN">191 </FONT><A NAME="191"></A>   */</FONT>
<FONT ID="LN">192 </FONT><A NAME="192"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setAdditionalMeasures(String [] additionalMeasures) {
<FONT ID="LN">193 </FONT><A NAME="193"></A>    m_AdditionalMeasures = additionalMeasures;
<FONT ID="LN">194 </FONT><A NAME="194"></A>
<FONT ID="LN">195 </FONT><A NAME="195"></A>    <FONT ID="If">if</FONT> (m_SplitEvaluator != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">196 </FONT><A NAME="196"></A>      System.err.println(<FONT ID="StringLiteral">"CrossValidationResultProducer: setting additional "</FONT>
<FONT ID="LN">197 </FONT><A NAME="197"></A>             +<FONT ID="StringLiteral">"measures for "</FONT>
<FONT ID="LN">198 </FONT><A NAME="198"></A>             +<FONT ID="StringLiteral">"split evaluator"</FONT>);
<FONT ID="LN">199 </FONT><A NAME="199"></A>      m_SplitEvaluator.setAdditionalMeasures(m_AdditionalMeasures);
<FONT ID="LN">200 </FONT><A NAME="200"></A>    }
<FONT ID="LN">201 </FONT><A NAME="201"></A>  }
<FONT ID="LN">202 </FONT><A NAME="202"></A>
<FONT ID="LN">203 </FONT><A NAME="203"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">204 </FONT><A NAME="204"></A>   * Returns an enumeration of any additional measure names that might be
<FONT ID="LN">205 </FONT><A NAME="205"></A>   * in the SplitEvaluator
<FONT ID="LN">206 </FONT><A NAME="206"></A>   * @return an enumeration of the measure names
<FONT ID="LN">207 </FONT><A NAME="207"></A>   */</FONT>
<FONT ID="LN">208 </FONT><A NAME="208"></A>  <FONT ID="Public">public</FONT> Enumeration enumerateMeasures() {
<FONT ID="LN">209 </FONT><A NAME="209"></A>    Vector newVector = <FONT ID="New">new</FONT> Vector();
<FONT ID="LN">210 </FONT><A NAME="210"></A>    <FONT ID="If">if</FONT> (m_SplitEvaluator <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../weka/core/AdditionalMeasureProducer.java.html">AdditionalMeasureProducer</A>) {
<FONT ID="LN">211 </FONT><A NAME="211"></A>      Enumeration en = ((<A HREF="../../weka/core/AdditionalMeasureProducer.java.html">AdditionalMeasureProducer</A>)m_SplitEvaluator).
<FONT ID="LN">212 </FONT><A NAME="212"></A>    enumerateMeasures();
<FONT ID="LN">213 </FONT><A NAME="213"></A>      <FONT ID="While">while</FONT> (en.hasMoreElements()) {
<FONT ID="LN">214 </FONT><A NAME="214"></A>    String mname = (String)en.nextElement();
<FONT ID="LN">215 </FONT><A NAME="215"></A>    newVector.addElement(mname);
<FONT ID="LN">216 </FONT><A NAME="216"></A>      }
<FONT ID="LN">217 </FONT><A NAME="217"></A>    }
<FONT ID="LN">218 </FONT><A NAME="218"></A>    <FONT ID="Return">return</FONT> newVector.elements();
<FONT ID="LN">219 </FONT><A NAME="219"></A>  }
<FONT ID="LN">220 </FONT><A NAME="220"></A>  
<FONT ID="LN">221 </FONT><A NAME="221"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">222 </FONT><A NAME="222"></A>   * Returns the value of the named measure
<FONT ID="LN">223 </FONT><A NAME="223"></A>   * @param additionalMeasureName the name of the measure to query for its value
<FONT ID="LN">224 </FONT><A NAME="224"></A>   * @return the value of the named measure
<FONT ID="LN">225 </FONT><A NAME="225"></A>   * @throws IllegalArgumentException if the named measure is not supported
<FONT ID="LN">226 </FONT><A NAME="226"></A>   */</FONT>
<FONT ID="LN">227 </FONT><A NAME="227"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getMeasure(String additionalMeasureName) {
<FONT ID="LN">228 </FONT><A NAME="228"></A>    <FONT ID="If">if</FONT> (m_SplitEvaluator <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../weka/core/AdditionalMeasureProducer.java.html">AdditionalMeasureProducer</A>) {
<FONT ID="LN">229 </FONT><A NAME="229"></A>      <FONT ID="Return">return</FONT> ((<A HREF="../../weka/core/AdditionalMeasureProducer.java.html">AdditionalMeasureProducer</A>)m_SplitEvaluator).
<FONT ID="LN">230 </FONT><A NAME="230"></A>    getMeasure(additionalMeasureName);
<FONT ID="LN">231 </FONT><A NAME="231"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">232 </FONT><A NAME="232"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> IllegalArgumentException(<FONT ID="StringLiteral">"CrossValidationResultProducer: "</FONT>
<FONT ID="LN">233 </FONT><A NAME="233"></A>              +<FONT ID="StringLiteral">"Can't return value for : "</FONT>+additionalMeasureName
<FONT ID="LN">234 </FONT><A NAME="234"></A>              +<FONT ID="StringLiteral">". "</FONT>+m_SplitEvaluator.getClass().getName()+<FONT ID="StringLiteral">" "</FONT>
<FONT ID="LN">235 </FONT><A NAME="235"></A>              +<FONT ID="StringLiteral">"is not an AdditionalMeasureProducer"</FONT>);
<FONT ID="LN">236 </FONT><A NAME="236"></A>    }
<FONT ID="LN">237 </FONT><A NAME="237"></A>  }
<FONT ID="LN">238 </FONT><A NAME="238"></A>  
<FONT ID="LN">239 </FONT><A NAME="239"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">240 </FONT><A NAME="240"></A>   * Gets a Double representing the current date and time.
<FONT ID="LN">241 </FONT><A NAME="241"></A>   * eg: 1:46pm on 20/5/1999 -&gt; 19990520.1346
<FONT ID="LN">242 </FONT><A NAME="242"></A>   *
<FONT ID="LN">243 </FONT><A NAME="243"></A>   * @return a value of type Double
<FONT ID="LN">244 </FONT><A NAME="244"></A>   */</FONT>
<FONT ID="LN">245 </FONT><A NAME="245"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> Double getTimestamp() {
<FONT ID="LN">246 </FONT><A NAME="246"></A>
<FONT ID="LN">247 </FONT><A NAME="247"></A>    Calendar now = Calendar.getInstance(TimeZone.getTimeZone(<FONT ID="StringLiteral">"UTC"</FONT>));
<FONT ID="LN">248 </FONT><A NAME="248"></A>    <FONT ID="Double">double</FONT> timestamp = now.get(Calendar.YEAR) * <FONT ID="IntegerLiteral">10000</FONT>
<FONT ID="LN">249 </FONT><A NAME="249"></A>      + (now.get(Calendar.MONTH) + <FONT ID="IntegerLiteral">1</FONT>) * <FONT ID="IntegerLiteral">100</FONT>
<FONT ID="LN">250 </FONT><A NAME="250"></A>      + now.get(Calendar.DAY_OF_MONTH)
<FONT ID="LN">251 </FONT><A NAME="251"></A>      + now.get(Calendar.HOUR_OF_DAY) / <FONT ID="FloatPointLiteral">100.0</FONT>
<FONT ID="LN">252 </FONT><A NAME="252"></A>      + now.get(Calendar.MINUTE) / <FONT ID="FloatPointLiteral">10000.0</FONT>;
<FONT ID="LN">253 </FONT><A NAME="253"></A>    <FONT ID="Return">return</FONT> <FONT ID="New">new</FONT> Double(timestamp);
<FONT ID="LN">254 </FONT><A NAME="254"></A>  }
<FONT ID="LN">255 </FONT><A NAME="255"></A>  
<FONT ID="LN">256 </FONT><A NAME="256"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">257 </FONT><A NAME="257"></A>   * Prepare to generate results.
<FONT ID="LN">258 </FONT><A NAME="258"></A>   *
<FONT ID="LN">259 </FONT><A NAME="259"></A>   * @throws Exception if an error occurs during preprocessing.
<FONT ID="LN">260 </FONT><A NAME="260"></A>   */</FONT>
<FONT ID="LN">261 </FONT><A NAME="261"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> preProcess() <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">262 </FONT><A NAME="262"></A>
<FONT ID="LN">263 </FONT><A NAME="263"></A>    <FONT ID="If">if</FONT> (m_SplitEvaluator == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">264 </FONT><A NAME="264"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"No SplitEvalutor set"</FONT>);
<FONT ID="LN">265 </FONT><A NAME="265"></A>    }
<FONT ID="LN">266 </FONT><A NAME="266"></A>    <FONT ID="If">if</FONT> (m_ResultListener == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">267 </FONT><A NAME="267"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"No ResultListener set"</FONT>);
<FONT ID="LN">268 </FONT><A NAME="268"></A>    }
<FONT ID="LN">269 </FONT><A NAME="269"></A>    m_ResultListener.preProcess(<FONT ID="This">this</FONT>);
<FONT ID="LN">270 </FONT><A NAME="270"></A>  }
<FONT ID="LN">271 </FONT><A NAME="271"></A>  
<FONT ID="LN">272 </FONT><A NAME="272"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">273 </FONT><A NAME="273"></A>   * Perform any postprocessing. When this method is called, it indicates
<FONT ID="LN">274 </FONT><A NAME="274"></A>   * that no more requests to generate results for the current experiment
<FONT ID="LN">275 </FONT><A NAME="275"></A>   * will be sent.
<FONT ID="LN">276 </FONT><A NAME="276"></A>   *
<FONT ID="LN">277 </FONT><A NAME="277"></A>   * @throws Exception if an error occurs
<FONT ID="LN">278 </FONT><A NAME="278"></A>   */</FONT>
<FONT ID="LN">279 </FONT><A NAME="279"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> postProcess() <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">280 </FONT><A NAME="280"></A>
<FONT ID="LN">281 </FONT><A NAME="281"></A>    m_ResultListener.postProcess(<FONT ID="This">this</FONT>);
<FONT ID="LN">282 </FONT><A NAME="282"></A>
<FONT ID="LN">283 </FONT><A NAME="283"></A>    <FONT ID="If">if</FONT> (m_debugOutput) {
<FONT ID="LN">284 </FONT><A NAME="284"></A>      <FONT ID="If">if</FONT> (m_ZipDest != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">285 </FONT><A NAME="285"></A>    m_ZipDest.finished();
<FONT ID="LN">286 </FONT><A NAME="286"></A>    m_ZipDest = <FONT ID="Null">null</FONT>;
<FONT ID="LN">287 </FONT><A NAME="287"></A>      }
<FONT ID="LN">288 </FONT><A NAME="288"></A>    }
<FONT ID="LN">289 </FONT><A NAME="289"></A>  }
<FONT ID="LN">290 </FONT><A NAME="290"></A>  
<FONT ID="LN">291 </FONT><A NAME="291"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">292 </FONT><A NAME="292"></A>   * Gets the keys for a specified run number. Different run
<FONT ID="LN">293 </FONT><A NAME="293"></A>   * numbers correspond to different randomizations of the data. Keys
<FONT ID="LN">294 </FONT><A NAME="294"></A>   * produced should be sent to the current ResultListener
<FONT ID="LN">295 </FONT><A NAME="295"></A>   *
<FONT ID="LN">296 </FONT><A NAME="296"></A>   * @param run the run number to get keys for.
<FONT ID="LN">297 </FONT><A NAME="297"></A>   * @throws Exception if a problem occurs while getting the keys
<FONT ID="LN">298 </FONT><A NAME="298"></A>   */</FONT>
<FONT ID="LN">299 </FONT><A NAME="299"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> doRunKeys(<FONT ID="Int">int</FONT> run) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">300 </FONT><A NAME="300"></A>    <FONT ID="If">if</FONT> (m_Instances == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">301 </FONT><A NAME="301"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"No Instances set"</FONT>);
<FONT ID="LN">302 </FONT><A NAME="302"></A>    }
<FONT ID="LN">303 </FONT><A NAME="303"></A>    <FONT ID="MultiLineComment">/*    // Randomize on a copy of the original dataset
<FONT ID="LN">304 </FONT><A NAME="304"></A>    Instances runInstances = new Instances(m_Instances);
<FONT ID="LN">305 </FONT><A NAME="305"></A>    runInstances.randomize(new Random(run));
<FONT ID="LN">306 </FONT><A NAME="306"></A>    if (runInstances.classAttribute().isNominal()) {
<FONT ID="LN">307 </FONT><A NAME="307"></A>      runInstances.stratify(m_NumFolds);
<FONT ID="LN">308 </FONT><A NAME="308"></A>      } */</FONT>
<FONT ID="LN">309 </FONT><A NAME="309"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> fold = <FONT ID="IntegerLiteral">0</FONT>; fold &lt; m_NumFolds; fold++) {
<FONT ID="LN">310 </FONT><A NAME="310"></A>      <FONT ID="SingleLineComment">// Add in some fields to the key like run and fold number, dataset name
<FONT ID="LN">311 </FONT><A NAME="311"></A></FONT>      Object [] seKey = m_SplitEvaluator.getKey();
<FONT ID="LN">312 </FONT><A NAME="312"></A>      Object [] key = <FONT ID="New">new</FONT> Object [seKey.length + <FONT ID="IntegerLiteral">3</FONT>];
<FONT ID="LN">313 </FONT><A NAME="313"></A>      key[<FONT ID="IntegerLiteral">0</FONT>] = Utils.backQuoteChars(m_Instances.relationName());
<FONT ID="LN">314 </FONT><A NAME="314"></A>      key[<FONT ID="IntegerLiteral">1</FONT>] = <FONT ID="StringLiteral">""</FONT> + run;
<FONT ID="LN">315 </FONT><A NAME="315"></A>      key[<FONT ID="IntegerLiteral">2</FONT>] = <FONT ID="StringLiteral">""</FONT> + (fold + <FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">316 </FONT><A NAME="316"></A>      System.arraycopy(seKey, <FONT ID="IntegerLiteral">0</FONT>, key, <FONT ID="IntegerLiteral">3</FONT>, seKey.length);
<FONT ID="LN">317 </FONT><A NAME="317"></A>      <FONT ID="If">if</FONT> (m_ResultListener.isResultRequired(<FONT ID="This">this</FONT>, key)) {
<FONT ID="LN">318 </FONT><A NAME="318"></A>    <FONT ID="Try">try</FONT> {
<FONT ID="LN">319 </FONT><A NAME="319"></A>      m_ResultListener.acceptResult(<FONT ID="This">this</FONT>, key, <FONT ID="Null">null</FONT>);
<FONT ID="LN">320 </FONT><A NAME="320"></A>    } <FONT ID="Catch">catch</FONT> (Exception ex) {
<FONT ID="LN">321 </FONT><A NAME="321"></A>      <FONT ID="SingleLineComment">// Save the train and test datasets for debugging purposes?
<FONT ID="LN">322 </FONT><A NAME="322"></A></FONT>      <FONT ID="Throw">throw</FONT> ex;
<FONT ID="LN">323 </FONT><A NAME="323"></A>    }
<FONT ID="LN">324 </FONT><A NAME="324"></A>      }
<FONT ID="LN">325 </FONT><A NAME="325"></A>    }
<FONT ID="LN">326 </FONT><A NAME="326"></A>  }
<FONT ID="LN">327 </FONT><A NAME="327"></A>
<FONT ID="LN">328 </FONT><A NAME="328"></A>
<FONT ID="LN">329 </FONT><A NAME="329"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">330 </FONT><A NAME="330"></A>   * Gets the results for a specified run number. Different run
<FONT ID="LN">331 </FONT><A NAME="331"></A>   * numbers correspond to different randomizations of the data. Results
<FONT ID="LN">332 </FONT><A NAME="332"></A>   * produced should be sent to the current ResultListener
<FONT ID="LN">333 </FONT><A NAME="333"></A>   *
<FONT ID="LN">334 </FONT><A NAME="334"></A>   * @param run the run number to get results for.
<FONT ID="LN">335 </FONT><A NAME="335"></A>   * @throws Exception if a problem occurs while getting the results
<FONT ID="LN">336 </FONT><A NAME="336"></A>   */</FONT>
<FONT ID="LN">337 </FONT><A NAME="337"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> doRun(<FONT ID="Int">int</FONT> run) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">338 </FONT><A NAME="338"></A>
<FONT ID="LN">339 </FONT><A NAME="339"></A>    <FONT ID="If">if</FONT> (getRawOutput()) {
<FONT ID="LN">340 </FONT><A NAME="340"></A>      <FONT ID="If">if</FONT> (m_ZipDest == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">341 </FONT><A NAME="341"></A>    m_ZipDest = <FONT ID="New">new</FONT> <A HREF="../../weka/experiment/OutputZipper.java.html">OutputZipper</A>(m_OutputFile);
<FONT ID="LN">342 </FONT><A NAME="342"></A>      }
<FONT ID="LN">343 </FONT><A NAME="343"></A>    }
<FONT ID="LN">344 </FONT><A NAME="344"></A>
<FONT ID="LN">345 </FONT><A NAME="345"></A>    <FONT ID="If">if</FONT> (m_Instances == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">346 </FONT><A NAME="346"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"No Instances set"</FONT>);
<FONT ID="LN">347 </FONT><A NAME="347"></A>    }
<FONT ID="LN">348 </FONT><A NAME="348"></A>    <FONT ID="SingleLineComment">// Randomize on a copy of the original dataset
<FONT ID="LN">349 </FONT><A NAME="349"></A></FONT>    <A HREF="../../weka/core/Instances.java.html">Instances</A> runInstances = <FONT ID="New">new</FONT> <A HREF="../../weka/core/Instances.java.html">Instances</A>(m_Instances);
<FONT ID="LN">350 </FONT><A NAME="350"></A>    Random random = <FONT ID="New">new</FONT> Random(run);
<FONT ID="LN">351 </FONT><A NAME="351"></A>    runInstances.randomize(random);
<FONT ID="LN">352 </FONT><A NAME="352"></A>    <FONT ID="If">if</FONT> (runInstances.classAttribute().isNominal()) {
<FONT ID="LN">353 </FONT><A NAME="353"></A>      runInstances.stratify(m_NumFolds);
<FONT ID="LN">354 </FONT><A NAME="354"></A>    }
<FONT ID="LN">355 </FONT><A NAME="355"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> fold = <FONT ID="IntegerLiteral">0</FONT>; fold &lt; m_NumFolds; fold++) {
<FONT ID="LN">356 </FONT><A NAME="356"></A>      <FONT ID="SingleLineComment">// Add in some fields to the key like run and fold number, dataset name
<FONT ID="LN">357 </FONT><A NAME="357"></A></FONT>      Object [] seKey = m_SplitEvaluator.getKey();
<FONT ID="LN">358 </FONT><A NAME="358"></A>      Object [] key = <FONT ID="New">new</FONT> Object [seKey.length + <FONT ID="IntegerLiteral">3</FONT>];
<FONT ID="LN">359 </FONT><A NAME="359"></A>      key[<FONT ID="IntegerLiteral">0</FONT>] =  Utils.backQuoteChars(m_Instances.relationName());
<FONT ID="LN">360 </FONT><A NAME="360"></A>      key[<FONT ID="IntegerLiteral">1</FONT>] = <FONT ID="StringLiteral">""</FONT> + run;
<FONT ID="LN">361 </FONT><A NAME="361"></A>      key[<FONT ID="IntegerLiteral">2</FONT>] = <FONT ID="StringLiteral">""</FONT> + (fold + <FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">362 </FONT><A NAME="362"></A>      System.arraycopy(seKey, <FONT ID="IntegerLiteral">0</FONT>, key, <FONT ID="IntegerLiteral">3</FONT>, seKey.length);
<FONT ID="LN">363 </FONT><A NAME="363"></A>      <FONT ID="If">if</FONT> (m_ResultListener.isResultRequired(<FONT ID="This">this</FONT>, key)) {
<FONT ID="LN">364 </FONT><A NAME="364"></A>    <A HREF="../../weka/core/Instances.java.html">Instances</A> train = runInstances.trainCV(m_NumFolds, fold, random);
<FONT ID="LN">365 </FONT><A NAME="365"></A>    <A HREF="../../weka/core/Instances.java.html">Instances</A> test = runInstances.testCV(m_NumFolds, fold);
<FONT ID="LN">366 </FONT><A NAME="366"></A>    <FONT ID="Try">try</FONT> {
<FONT ID="LN">367 </FONT><A NAME="367"></A>      Object [] seResults = m_SplitEvaluator.getResult(train, test);
<FONT ID="LN">368 </FONT><A NAME="368"></A>      Object [] results = <FONT ID="New">new</FONT> Object [seResults.length + <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">369 </FONT><A NAME="369"></A>      results[<FONT ID="IntegerLiteral">0</FONT>] = getTimestamp();
<FONT ID="LN">370 </FONT><A NAME="370"></A>      System.arraycopy(seResults, <FONT ID="IntegerLiteral">0</FONT>, results, <FONT ID="IntegerLiteral">1</FONT>,
<FONT ID="LN">371 </FONT><A NAME="371"></A>               seResults.length);
<FONT ID="LN">372 </FONT><A NAME="372"></A>      <FONT ID="If">if</FONT> (m_debugOutput) {
<FONT ID="LN">373 </FONT><A NAME="373"></A>        String resultName = (<FONT ID="StringLiteral">""</FONT>+run+<FONT ID="StringLiteral">"."</FONT>+(fold+<FONT ID="IntegerLiteral">1</FONT>)+<FONT ID="StringLiteral">"."</FONT>
<FONT ID="LN">374 </FONT><A NAME="374"></A>          + Utils.backQuoteChars(runInstances.relationName())
<FONT ID="LN">375 </FONT><A NAME="375"></A>          +<FONT ID="StringLiteral">"."</FONT>
<FONT ID="LN">376 </FONT><A NAME="376"></A>          +m_SplitEvaluator.toString()).replace(<FONT ID="CharacerLiteral">' '</FONT>,<FONT ID="CharacerLiteral">'_'</FONT>);
<FONT ID="LN">377 </FONT><A NAME="377"></A>        resultName = Utils.removeSubstring(resultName, 
<FONT ID="LN">378 </FONT><A NAME="378"></A>                           <FONT ID="StringLiteral">"weka.classifiers."</FONT>);
<FONT ID="LN">379 </FONT><A NAME="379"></A>        resultName = Utils.removeSubstring(resultName, 
<FONT ID="LN">380 </FONT><A NAME="380"></A>                           <FONT ID="StringLiteral">"weka.filters."</FONT>);
<FONT ID="LN">381 </FONT><A NAME="381"></A>        resultName = Utils.removeSubstring(resultName, 
<FONT ID="LN">382 </FONT><A NAME="382"></A>                           <FONT ID="StringLiteral">"weka.attributeSelection."</FONT>);
<FONT ID="LN">383 </FONT><A NAME="383"></A>        m_ZipDest.zipit(m_SplitEvaluator.getRawResultOutput(), resultName);
<FONT ID="LN">384 </FONT><A NAME="384"></A>      }
<FONT ID="LN">385 </FONT><A NAME="385"></A>      m_ResultListener.acceptResult(<FONT ID="This">this</FONT>, key, results);
<FONT ID="LN">386 </FONT><A NAME="386"></A>    } <FONT ID="Catch">catch</FONT> (Exception ex) {
<FONT ID="LN">387 </FONT><A NAME="387"></A>      <FONT ID="SingleLineComment">// Save the train and test datasets for debugging purposes?
<FONT ID="LN">388 </FONT><A NAME="388"></A></FONT>      <FONT ID="Throw">throw</FONT> ex;
<FONT ID="LN">389 </FONT><A NAME="389"></A>    }
<FONT ID="LN">390 </FONT><A NAME="390"></A>      }
<FONT ID="LN">391 </FONT><A NAME="391"></A>    }
<FONT ID="LN">392 </FONT><A NAME="392"></A>  }
<FONT ID="LN">393 </FONT><A NAME="393"></A>
<FONT ID="LN">394 </FONT><A NAME="394"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">395 </FONT><A NAME="395"></A>   * Gets the names of each of the columns produced for a single run.
<FONT ID="LN">396 </FONT><A NAME="396"></A>   * This method should really be static.
<FONT ID="LN">397 </FONT><A NAME="397"></A>   *
<FONT ID="LN">398 </FONT><A NAME="398"></A>   * @return an array containing the name of each column
<FONT ID="LN">399 </FONT><A NAME="399"></A>   */</FONT>
<FONT ID="LN">400 </FONT><A NAME="400"></A>  <FONT ID="Public">public</FONT> String [] getKeyNames() {
<FONT ID="LN">401 </FONT><A NAME="401"></A>
<FONT ID="LN">402 </FONT><A NAME="402"></A>    String [] keyNames = m_SplitEvaluator.getKeyNames();
<FONT ID="LN">403 </FONT><A NAME="403"></A>    <FONT ID="SingleLineComment">// Add in the names of our extra key fields
<FONT ID="LN">404 </FONT><A NAME="404"></A></FONT>    String [] newKeyNames = <FONT ID="New">new</FONT> String [keyNames.length + <FONT ID="IntegerLiteral">3</FONT>];
<FONT ID="LN">405 </FONT><A NAME="405"></A>    newKeyNames[<FONT ID="IntegerLiteral">0</FONT>] = DATASET_FIELD_NAME;
<FONT ID="LN">406 </FONT><A NAME="406"></A>    newKeyNames[<FONT ID="IntegerLiteral">1</FONT>] = RUN_FIELD_NAME;
<FONT ID="LN">407 </FONT><A NAME="407"></A>    newKeyNames[<FONT ID="IntegerLiteral">2</FONT>] = FOLD_FIELD_NAME;
<FONT ID="LN">408 </FONT><A NAME="408"></A>    System.arraycopy(keyNames, <FONT ID="IntegerLiteral">0</FONT>, newKeyNames, <FONT ID="IntegerLiteral">3</FONT>, keyNames.length);
<FONT ID="LN">409 </FONT><A NAME="409"></A>    <FONT ID="Return">return</FONT> newKeyNames;
<FONT ID="LN">410 </FONT><A NAME="410"></A>  }
<FONT ID="LN">411 </FONT><A NAME="411"></A>
<FONT ID="LN">412 </FONT><A NAME="412"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">413 </FONT><A NAME="413"></A>   * Gets the data types of each of the columns produced for a single run.
<FONT ID="LN">414 </FONT><A NAME="414"></A>   * This method should really be static.
<FONT ID="LN">415 </FONT><A NAME="415"></A>   *
<FONT ID="LN">416 </FONT><A NAME="416"></A>   * @return an array containing objects of the type of each column. The 
<FONT ID="LN">417 </FONT><A NAME="417"></A>   * objects should be Strings, or Doubles.
<FONT ID="LN">418 </FONT><A NAME="418"></A>   */</FONT>
<FONT ID="LN">419 </FONT><A NAME="419"></A>  <FONT ID="Public">public</FONT> Object [] getKeyTypes() {
<FONT ID="LN">420 </FONT><A NAME="420"></A>
<FONT ID="LN">421 </FONT><A NAME="421"></A>    Object [] keyTypes = m_SplitEvaluator.getKeyTypes();
<FONT ID="LN">422 </FONT><A NAME="422"></A>    <FONT ID="SingleLineComment">// Add in the types of our extra fields
<FONT ID="LN">423 </FONT><A NAME="423"></A></FONT>    Object [] newKeyTypes = <FONT ID="New">new</FONT> String [keyTypes.length + <FONT ID="IntegerLiteral">3</FONT>];
<FONT ID="LN">424 </FONT><A NAME="424"></A>    newKeyTypes[<FONT ID="IntegerLiteral">0</FONT>] = <FONT ID="New">new</FONT> String();
<FONT ID="LN">425 </FONT><A NAME="425"></A>    newKeyTypes[<FONT ID="IntegerLiteral">1</FONT>] = <FONT ID="New">new</FONT> String();
<FONT ID="LN">426 </FONT><A NAME="426"></A>    newKeyTypes[<FONT ID="IntegerLiteral">2</FONT>] = <FONT ID="New">new</FONT> String();
<FONT ID="LN">427 </FONT><A NAME="427"></A>    System.arraycopy(keyTypes, <FONT ID="IntegerLiteral">0</FONT>, newKeyTypes, <FONT ID="IntegerLiteral">3</FONT>, keyTypes.length);
<FONT ID="LN">428 </FONT><A NAME="428"></A>    <FONT ID="Return">return</FONT> newKeyTypes;
<FONT ID="LN">429 </FONT><A NAME="429"></A>  }
<FONT ID="LN">430 </FONT><A NAME="430"></A>
<FONT ID="LN">431 </FONT><A NAME="431"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">432 </FONT><A NAME="432"></A>   * Gets the names of each of the columns produced for a single run.
<FONT ID="LN">433 </FONT><A NAME="433"></A>   * This method should really be static.
<FONT ID="LN">434 </FONT><A NAME="434"></A>   *
<FONT ID="LN">435 </FONT><A NAME="435"></A>   * @return an array containing the name of each column
<FONT ID="LN">436 </FONT><A NAME="436"></A>   */</FONT>
<FONT ID="LN">437 </FONT><A NAME="437"></A>  <FONT ID="Public">public</FONT> String [] getResultNames() {
<FONT ID="LN">438 </FONT><A NAME="438"></A>
<FONT ID="LN">439 </FONT><A NAME="439"></A>    String [] resultNames = m_SplitEvaluator.getResultNames();
<FONT ID="LN">440 </FONT><A NAME="440"></A>    <FONT ID="SingleLineComment">// Add in the names of our extra Result fields
<FONT ID="LN">441 </FONT><A NAME="441"></A></FONT>    String [] newResultNames = <FONT ID="New">new</FONT> String [resultNames.length + <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">442 </FONT><A NAME="442"></A>    newResultNames[<FONT ID="IntegerLiteral">0</FONT>] = TIMESTAMP_FIELD_NAME;
<FONT ID="LN">443 </FONT><A NAME="443"></A>    System.arraycopy(resultNames, <FONT ID="IntegerLiteral">0</FONT>, newResultNames, <FONT ID="IntegerLiteral">1</FONT>, resultNames.length);
<FONT ID="LN">444 </FONT><A NAME="444"></A>    <FONT ID="Return">return</FONT> newResultNames;
<FONT ID="LN">445 </FONT><A NAME="445"></A>  }
<FONT ID="LN">446 </FONT><A NAME="446"></A>
<FONT ID="LN">447 </FONT><A NAME="447"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">448 </FONT><A NAME="448"></A>   * Gets the data types of each of the columns produced for a single run.
<FONT ID="LN">449 </FONT><A NAME="449"></A>   * This method should really be static.
<FONT ID="LN">450 </FONT><A NAME="450"></A>   *
<FONT ID="LN">451 </FONT><A NAME="451"></A>   * @return an array containing objects of the type of each column. The 
<FONT ID="LN">452 </FONT><A NAME="452"></A>   * objects should be Strings, or Doubles.
<FONT ID="LN">453 </FONT><A NAME="453"></A>   */</FONT>
<FONT ID="LN">454 </FONT><A NAME="454"></A>  <FONT ID="Public">public</FONT> Object [] getResultTypes() {
<FONT ID="LN">455 </FONT><A NAME="455"></A>
<FONT ID="LN">456 </FONT><A NAME="456"></A>    Object [] resultTypes = m_SplitEvaluator.getResultTypes();
<FONT ID="LN">457 </FONT><A NAME="457"></A>    <FONT ID="SingleLineComment">// Add in the types of our extra Result fields
<FONT ID="LN">458 </FONT><A NAME="458"></A></FONT>    Object [] newResultTypes = <FONT ID="New">new</FONT> Object [resultTypes.length + <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">459 </FONT><A NAME="459"></A>    newResultTypes[<FONT ID="IntegerLiteral">0</FONT>] = <FONT ID="New">new</FONT> Double(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">460 </FONT><A NAME="460"></A>    System.arraycopy(resultTypes, <FONT ID="IntegerLiteral">0</FONT>, newResultTypes, <FONT ID="IntegerLiteral">1</FONT>, resultTypes.length);
<FONT ID="LN">461 </FONT><A NAME="461"></A>    <FONT ID="Return">return</FONT> newResultTypes;
<FONT ID="LN">462 </FONT><A NAME="462"></A>  }
<FONT ID="LN">463 </FONT><A NAME="463"></A>
<FONT ID="LN">464 </FONT><A NAME="464"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">465 </FONT><A NAME="465"></A>   * Gets a description of the internal settings of the result
<FONT ID="LN">466 </FONT><A NAME="466"></A>   * producer, sufficient for distinguishing a ResultProducer
<FONT ID="LN">467 </FONT><A NAME="467"></A>   * instance from another with different settings (ignoring
<FONT ID="LN">468 </FONT><A NAME="468"></A>   * those settings set through this interface). For example,
<FONT ID="LN">469 </FONT><A NAME="469"></A>   * a cross-validation ResultProducer may have a setting for the
<FONT ID="LN">470 </FONT><A NAME="470"></A>   * number of folds. For a given state, the results produced should
<FONT ID="LN">471 </FONT><A NAME="471"></A>   * be compatible. Typically if a ResultProducer is an OptionHandler,
<FONT ID="LN">472 </FONT><A NAME="472"></A>   * this string will represent the command line arguments required
<FONT ID="LN">473 </FONT><A NAME="473"></A>   * to set the ResultProducer to that state.
<FONT ID="LN">474 </FONT><A NAME="474"></A>   *
<FONT ID="LN">475 </FONT><A NAME="475"></A>   * @return the description of the ResultProducer state, or null
<FONT ID="LN">476 </FONT><A NAME="476"></A>   * if no state is defined
<FONT ID="LN">477 </FONT><A NAME="477"></A>   */</FONT>
<FONT ID="LN">478 </FONT><A NAME="478"></A>  <FONT ID="Public">public</FONT> String getCompatibilityState() {
<FONT ID="LN">479 </FONT><A NAME="479"></A>
<FONT ID="LN">480 </FONT><A NAME="480"></A>    String result = <FONT ID="StringLiteral">"-X "</FONT> + m_NumFolds + <FONT ID="StringLiteral">" "</FONT> ;
<FONT ID="LN">481 </FONT><A NAME="481"></A>    <FONT ID="If">if</FONT> (m_SplitEvaluator == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">482 </FONT><A NAME="482"></A>      result += <FONT ID="StringLiteral">"&lt;null SplitEvaluator&gt;"</FONT>;
<FONT ID="LN">483 </FONT><A NAME="483"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">484 </FONT><A NAME="484"></A>      result += <FONT ID="StringLiteral">"-W "</FONT> + m_SplitEvaluator.getClass().getName();
<FONT ID="LN">485 </FONT><A NAME="485"></A>    }
<FONT ID="LN">486 </FONT><A NAME="486"></A>    <FONT ID="Return">return</FONT> result + <FONT ID="StringLiteral">" --"</FONT>;
<FONT ID="LN">487 </FONT><A NAME="487"></A>  }
<FONT ID="LN">488 </FONT><A NAME="488"></A>
<FONT ID="LN">489 </FONT><A NAME="489"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">490 </FONT><A NAME="490"></A>   * Returns the tip text for this property
<FONT ID="LN">491 </FONT><A NAME="491"></A>   * @return tip text for this property suitable for
<FONT ID="LN">492 </FONT><A NAME="492"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">493 </FONT><A NAME="493"></A>   */</FONT>
<FONT ID="LN">494 </FONT><A NAME="494"></A>  <FONT ID="Public">public</FONT> String outputFileTipText() {
<FONT ID="LN">495 </FONT><A NAME="495"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Set the destination for saving raw output. If the rawOutput "</FONT>
<FONT ID="LN">496 </FONT><A NAME="496"></A>      +<FONT ID="StringLiteral">"option is selected, then output from the splitEvaluator for "</FONT>
<FONT ID="LN">497 </FONT><A NAME="497"></A>      +<FONT ID="StringLiteral">"individual folds is saved. If the destination is a directory, "</FONT>
<FONT ID="LN">498 </FONT><A NAME="498"></A>      +<FONT ID="StringLiteral">"then each output is saved to an individual gzip file; if the "</FONT>
<FONT ID="LN">499 </FONT><A NAME="499"></A>      +<FONT ID="StringLiteral">"destination is a file, then each output is saved as an entry "</FONT>
<FONT ID="LN">500 </FONT><A NAME="500"></A>      +<FONT ID="StringLiteral">"in a zip file."</FONT>;
<FONT ID="LN">501 </FONT><A NAME="501"></A>  }
<FONT ID="LN">502 </FONT><A NAME="502"></A>
<FONT ID="LN">503 </FONT><A NAME="503"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">504 </FONT><A NAME="504"></A>   * Get the value of OutputFile.
<FONT ID="LN">505 </FONT><A NAME="505"></A>   *
<FONT ID="LN">506 </FONT><A NAME="506"></A>   * @return Value of OutputFile.
<FONT ID="LN">507 </FONT><A NAME="507"></A>   */</FONT>
<FONT ID="LN">508 </FONT><A NAME="508"></A>  <FONT ID="Public">public</FONT> File getOutputFile() {
<FONT ID="LN">509 </FONT><A NAME="509"></A>    
<FONT ID="LN">510 </FONT><A NAME="510"></A>    <FONT ID="Return">return</FONT> m_OutputFile;
<FONT ID="LN">511 </FONT><A NAME="511"></A>  }
<FONT ID="LN">512 </FONT><A NAME="512"></A>  
<FONT ID="LN">513 </FONT><A NAME="513"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">514 </FONT><A NAME="514"></A>   * Set the value of OutputFile.
<FONT ID="LN">515 </FONT><A NAME="515"></A>   *
<FONT ID="LN">516 </FONT><A NAME="516"></A>   * @param newOutputFile Value to assign to OutputFile.
<FONT ID="LN">517 </FONT><A NAME="517"></A>   */</FONT>
<FONT ID="LN">518 </FONT><A NAME="518"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setOutputFile(File newOutputFile) {
<FONT ID="LN">519 </FONT><A NAME="519"></A>    
<FONT ID="LN">520 </FONT><A NAME="520"></A>    m_OutputFile = newOutputFile;
<FONT ID="LN">521 </FONT><A NAME="521"></A>  }  
<FONT ID="LN">522 </FONT><A NAME="522"></A>
<FONT ID="LN">523 </FONT><A NAME="523"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">524 </FONT><A NAME="524"></A>   * Returns the tip text for this property
<FONT ID="LN">525 </FONT><A NAME="525"></A>   * @return tip text for this property suitable for
<FONT ID="LN">526 </FONT><A NAME="526"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">527 </FONT><A NAME="527"></A>   */</FONT>
<FONT ID="LN">528 </FONT><A NAME="528"></A>  <FONT ID="Public">public</FONT> String numFoldsTipText() {
<FONT ID="LN">529 </FONT><A NAME="529"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Number of folds to use in cross validation."</FONT>;
<FONT ID="LN">530 </FONT><A NAME="530"></A>  }
<FONT ID="LN">531 </FONT><A NAME="531"></A>
<FONT ID="LN">532 </FONT><A NAME="532"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">533 </FONT><A NAME="533"></A>   * Get the value of NumFolds.
<FONT ID="LN">534 </FONT><A NAME="534"></A>   *
<FONT ID="LN">535 </FONT><A NAME="535"></A>   * @return Value of NumFolds.
<FONT ID="LN">536 </FONT><A NAME="536"></A>   */</FONT>
<FONT ID="LN">537 </FONT><A NAME="537"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getNumFolds() {
<FONT ID="LN">538 </FONT><A NAME="538"></A>    
<FONT ID="LN">539 </FONT><A NAME="539"></A>    <FONT ID="Return">return</FONT> m_NumFolds;
<FONT ID="LN">540 </FONT><A NAME="540"></A>  }
<FONT ID="LN">541 </FONT><A NAME="541"></A>  
<FONT ID="LN">542 </FONT><A NAME="542"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">543 </FONT><A NAME="543"></A>   * Set the value of NumFolds.
<FONT ID="LN">544 </FONT><A NAME="544"></A>   *
<FONT ID="LN">545 </FONT><A NAME="545"></A>   * @param newNumFolds Value to assign to NumFolds.
<FONT ID="LN">546 </FONT><A NAME="546"></A>   */</FONT>
<FONT ID="LN">547 </FONT><A NAME="547"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setNumFolds(<FONT ID="Int">int</FONT> newNumFolds) {
<FONT ID="LN">548 </FONT><A NAME="548"></A>    
<FONT ID="LN">549 </FONT><A NAME="549"></A>    m_NumFolds = newNumFolds;
<FONT ID="LN">550 </FONT><A NAME="550"></A>  }
<FONT ID="LN">551 </FONT><A NAME="551"></A>
<FONT ID="LN">552 </FONT><A NAME="552"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">553 </FONT><A NAME="553"></A>   * Returns the tip text for this property
<FONT ID="LN">554 </FONT><A NAME="554"></A>   * @return tip text for this property suitable for
<FONT ID="LN">555 </FONT><A NAME="555"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">556 </FONT><A NAME="556"></A>   */</FONT>
<FONT ID="LN">557 </FONT><A NAME="557"></A>  <FONT ID="Public">public</FONT> String rawOutputTipText() {
<FONT ID="LN">558 </FONT><A NAME="558"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Save raw output (useful for debugging). If set, then output is "</FONT>
<FONT ID="LN">559 </FONT><A NAME="559"></A>      +<FONT ID="StringLiteral">"sent to the destination specified by outputFile"</FONT>;
<FONT ID="LN">560 </FONT><A NAME="560"></A>  }
<FONT ID="LN">561 </FONT><A NAME="561"></A>
<FONT ID="LN">562 </FONT><A NAME="562"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">563 </FONT><A NAME="563"></A>   * Get if raw split evaluator output is to be saved
<FONT ID="LN">564 </FONT><A NAME="564"></A>   * @return true if raw split evalutor output is to be saved
<FONT ID="LN">565 </FONT><A NAME="565"></A>   */</FONT>
<FONT ID="LN">566 </FONT><A NAME="566"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getRawOutput() {
<FONT ID="LN">567 </FONT><A NAME="567"></A>    <FONT ID="Return">return</FONT> m_debugOutput;
<FONT ID="LN">568 </FONT><A NAME="568"></A>  }
<FONT ID="LN">569 </FONT><A NAME="569"></A>  
<FONT ID="LN">570 </FONT><A NAME="570"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">571 </FONT><A NAME="571"></A>   * Set to true if raw split evaluator output is to be saved
<FONT ID="LN">572 </FONT><A NAME="572"></A>   * @param d true if output is to be saved
<FONT ID="LN">573 </FONT><A NAME="573"></A>   */</FONT>
<FONT ID="LN">574 </FONT><A NAME="574"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setRawOutput(<FONT ID="Boolean">boolean</FONT> d) {
<FONT ID="LN">575 </FONT><A NAME="575"></A>    m_debugOutput = d;
<FONT ID="LN">576 </FONT><A NAME="576"></A>  }
<FONT ID="LN">577 </FONT><A NAME="577"></A>
<FONT ID="LN">578 </FONT><A NAME="578"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">579 </FONT><A NAME="579"></A>   * Returns the tip text for this property
<FONT ID="LN">580 </FONT><A NAME="580"></A>   * @return tip text for this property suitable for
<FONT ID="LN">581 </FONT><A NAME="581"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">582 </FONT><A NAME="582"></A>   */</FONT>
<FONT ID="LN">583 </FONT><A NAME="583"></A>  <FONT ID="Public">public</FONT> String splitEvaluatorTipText() {
<FONT ID="LN">584 </FONT><A NAME="584"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The evaluator to apply to the cross validation folds. "</FONT>
<FONT ID="LN">585 </FONT><A NAME="585"></A>      +<FONT ID="StringLiteral">"This may be a classifier, regression scheme etc."</FONT>;
<FONT ID="LN">586 </FONT><A NAME="586"></A>  }
<FONT ID="LN">587 </FONT><A NAME="587"></A> 
<FONT ID="LN">588 </FONT><A NAME="588"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">589 </FONT><A NAME="589"></A>   * Get the SplitEvaluator.
<FONT ID="LN">590 </FONT><A NAME="590"></A>   *
<FONT ID="LN">591 </FONT><A NAME="591"></A>   * @return the SplitEvaluator.
<FONT ID="LN">592 </FONT><A NAME="592"></A>   */</FONT>
<FONT ID="LN">593 </FONT><A NAME="593"></A>  <FONT ID="Public">public</FONT> <A HREF="../../weka/experiment/SplitEvaluator.java.html">SplitEvaluator</A> getSplitEvaluator() {
<FONT ID="LN">594 </FONT><A NAME="594"></A>    
<FONT ID="LN">595 </FONT><A NAME="595"></A>    <FONT ID="Return">return</FONT> m_SplitEvaluator;
<FONT ID="LN">596 </FONT><A NAME="596"></A>  }
<FONT ID="LN">597 </FONT><A NAME="597"></A>  
<FONT ID="LN">598 </FONT><A NAME="598"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">599 </FONT><A NAME="599"></A>   * Set the SplitEvaluator.
<FONT ID="LN">600 </FONT><A NAME="600"></A>   *
<FONT ID="LN">601 </FONT><A NAME="601"></A>   * @param newSplitEvaluator new SplitEvaluator to use.
<FONT ID="LN">602 </FONT><A NAME="602"></A>   */</FONT>
<FONT ID="LN">603 </FONT><A NAME="603"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setSplitEvaluator(<A HREF="../../weka/experiment/SplitEvaluator.java.html">SplitEvaluator</A> newSplitEvaluator) {
<FONT ID="LN">604 </FONT><A NAME="604"></A>    
<FONT ID="LN">605 </FONT><A NAME="605"></A>    m_SplitEvaluator = newSplitEvaluator;
<FONT ID="LN">606 </FONT><A NAME="606"></A>    m_SplitEvaluator.setAdditionalMeasures(m_AdditionalMeasures);
<FONT ID="LN">607 </FONT><A NAME="607"></A>  }
<FONT ID="LN">608 </FONT><A NAME="608"></A>
<FONT ID="LN">609 </FONT><A NAME="609"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">610 </FONT><A NAME="610"></A>   * Returns an enumeration describing the available options..
<FONT ID="LN">611 </FONT><A NAME="611"></A>   *
<FONT ID="LN">612 </FONT><A NAME="612"></A>   * @return an enumeration of all the available options.
<FONT ID="LN">613 </FONT><A NAME="613"></A>   */</FONT>
<FONT ID="LN">614 </FONT><A NAME="614"></A>  <FONT ID="Public">public</FONT> Enumeration listOptions() {
<FONT ID="LN">615 </FONT><A NAME="615"></A>
<FONT ID="LN">616 </FONT><A NAME="616"></A>    Vector newVector = <FONT ID="New">new</FONT> Vector(<FONT ID="IntegerLiteral">4</FONT>);
<FONT ID="LN">617 </FONT><A NAME="617"></A>
<FONT ID="LN">618 </FONT><A NAME="618"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">619 </FONT><A NAME="619"></A>         <FONT ID="StringLiteral">"\tThe number of folds to use for the cross-validation.\n"</FONT>
<FONT ID="LN">620 </FONT><A NAME="620"></A>          +<FONT ID="StringLiteral">"\t(default 10)"</FONT>, 
<FONT ID="LN">621 </FONT><A NAME="621"></A>         <FONT ID="StringLiteral">"X"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, 
<FONT ID="LN">622 </FONT><A NAME="622"></A>         <FONT ID="StringLiteral">"-X &lt;number of folds&gt;"</FONT>));
<FONT ID="LN">623 </FONT><A NAME="623"></A>
<FONT ID="LN">624 </FONT><A NAME="624"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">625 </FONT><A NAME="625"></A>         <FONT ID="StringLiteral">"Save raw split evaluator output."</FONT>,
<FONT ID="LN">626 </FONT><A NAME="626"></A>         <FONT ID="StringLiteral">"D"</FONT>,<FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-D"</FONT>));
<FONT ID="LN">627 </FONT><A NAME="627"></A>
<FONT ID="LN">628 </FONT><A NAME="628"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">629 </FONT><A NAME="629"></A>         <FONT ID="StringLiteral">"\tThe filename where raw output will be stored.\n"</FONT>
<FONT ID="LN">630 </FONT><A NAME="630"></A>         +<FONT ID="StringLiteral">"\tIf a directory name is specified then then individual\n"</FONT>
<FONT ID="LN">631 </FONT><A NAME="631"></A>         +<FONT ID="StringLiteral">"\toutputs will be gzipped, otherwise all output will be\n"</FONT>
<FONT ID="LN">632 </FONT><A NAME="632"></A>         +<FONT ID="StringLiteral">"\tzipped to the named file. Use in conjuction with -D."</FONT>
<FONT ID="LN">633 </FONT><A NAME="633"></A>         +<FONT ID="StringLiteral">"\t(default splitEvalutorOut.zip)"</FONT>, 
<FONT ID="LN">634 </FONT><A NAME="634"></A>         <FONT ID="StringLiteral">"O"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, 
<FONT ID="LN">635 </FONT><A NAME="635"></A>         <FONT ID="StringLiteral">"-O &lt;file/directory name/path&gt;"</FONT>));
<FONT ID="LN">636 </FONT><A NAME="636"></A>
<FONT ID="LN">637 </FONT><A NAME="637"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">638 </FONT><A NAME="638"></A>         <FONT ID="StringLiteral">"\tThe full class name of a SplitEvaluator.\n"</FONT>
<FONT ID="LN">639 </FONT><A NAME="639"></A>          +<FONT ID="StringLiteral">"\teg: weka.experiment.ClassifierSplitEvaluator"</FONT>, 
<FONT ID="LN">640 </FONT><A NAME="640"></A>         <FONT ID="StringLiteral">"W"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, 
<FONT ID="LN">641 </FONT><A NAME="641"></A>         <FONT ID="StringLiteral">"-W &lt;class name&gt;"</FONT>));
<FONT ID="LN">642 </FONT><A NAME="642"></A>
<FONT ID="LN">643 </FONT><A NAME="643"></A>    <FONT ID="If">if</FONT> ((m_SplitEvaluator != <FONT ID="Null">null</FONT>) &amp;&amp;
<FONT ID="LN">644 </FONT><A NAME="644"></A>    (m_SplitEvaluator <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../weka/core/OptionHandler.java.html">OptionHandler</A>)) {
<FONT ID="LN">645 </FONT><A NAME="645"></A>      newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">646 </FONT><A NAME="646"></A>         <FONT ID="StringLiteral">""</FONT>,
<FONT ID="LN">647 </FONT><A NAME="647"></A>         <FONT ID="StringLiteral">""</FONT>, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="StringLiteral">"\nOptions specific to split evaluator "</FONT>
<FONT ID="LN">648 </FONT><A NAME="648"></A>         + m_SplitEvaluator.getClass().getName() + <FONT ID="StringLiteral">":"</FONT>));
<FONT ID="LN">649 </FONT><A NAME="649"></A>      Enumeration enu = ((<A HREF="../../weka/core/OptionHandler.java.html">OptionHandler</A>)m_SplitEvaluator).listOptions();
<FONT ID="LN">650 </FONT><A NAME="650"></A>      <FONT ID="While">while</FONT> (enu.hasMoreElements()) {
<FONT ID="LN">651 </FONT><A NAME="651"></A>    newVector.addElement(enu.nextElement());
<FONT ID="LN">652 </FONT><A NAME="652"></A>      }
<FONT ID="LN">653 </FONT><A NAME="653"></A>    }
<FONT ID="LN">654 </FONT><A NAME="654"></A>    <FONT ID="Return">return</FONT> newVector.elements();
<FONT ID="LN">655 </FONT><A NAME="655"></A>  }
<FONT ID="LN">656 </FONT><A NAME="656"></A>
<FONT ID="LN">657 </FONT><A NAME="657"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">658 </FONT><A NAME="658"></A>   * Parses a given list of options. &lt;p/&gt;
<FONT ID="LN">659 </FONT><A NAME="659"></A>   *
<FONT ID="LN">660 </FONT><A NAME="660"></A>   &lt;!-- options-start --&gt;
<FONT ID="LN">661 </FONT><A NAME="661"></A>   * Valid options are: &lt;p/&gt;
<FONT ID="LN">662 </FONT><A NAME="662"></A>   * 
<FONT ID="LN">663 </FONT><A NAME="663"></A>   * &lt;pre&gt; -X &amp;lt;number of folds&amp;gt;
<FONT ID="LN">664 </FONT><A NAME="664"></A>   *  The number of folds to use for the cross-validation.
<FONT ID="LN">665 </FONT><A NAME="665"></A>   *  (default 10)&lt;/pre&gt;
<FONT ID="LN">666 </FONT><A NAME="666"></A>   * 
<FONT ID="LN">667 </FONT><A NAME="667"></A>   * &lt;pre&gt; -D
<FONT ID="LN">668 </FONT><A NAME="668"></A>   * Save raw split evaluator output.&lt;/pre&gt;
<FONT ID="LN">669 </FONT><A NAME="669"></A>   * 
<FONT ID="LN">670 </FONT><A NAME="670"></A>   * &lt;pre&gt; -O &amp;lt;file/directory name/path&amp;gt;
<FONT ID="LN">671 </FONT><A NAME="671"></A>   *  The filename where raw output will be stored.
<FONT ID="LN">672 </FONT><A NAME="672"></A>   *  If a directory name is specified then then individual
<FONT ID="LN">673 </FONT><A NAME="673"></A>   *  outputs will be gzipped, otherwise all output will be
<FONT ID="LN">674 </FONT><A NAME="674"></A>   *  zipped to the named file. Use in conjuction with -D. (default splitEvalutorOut.zip)&lt;/pre&gt;
<FONT ID="LN">675 </FONT><A NAME="675"></A>   * 
<FONT ID="LN">676 </FONT><A NAME="676"></A>   * &lt;pre&gt; -W &amp;lt;class name&amp;gt;
<FONT ID="LN">677 </FONT><A NAME="677"></A>   *  The full class name of a SplitEvaluator.
<FONT ID="LN">678 </FONT><A NAME="678"></A>   *  eg: weka.experiment.ClassifierSplitEvaluator&lt;/pre&gt;
<FONT ID="LN">679 </FONT><A NAME="679"></A>   * 
<FONT ID="LN">680 </FONT><A NAME="680"></A>   * &lt;pre&gt; 
<FONT ID="LN">681 </FONT><A NAME="681"></A>   * Options specific to split evaluator weka.experiment.ClassifierSplitEvaluator:
<FONT ID="LN">682 </FONT><A NAME="682"></A>   * &lt;/pre&gt;
<FONT ID="LN">683 </FONT><A NAME="683"></A>   * 
<FONT ID="LN">684 </FONT><A NAME="684"></A>   * &lt;pre&gt; -W &amp;lt;class name&amp;gt;
<FONT ID="LN">685 </FONT><A NAME="685"></A>   *  The full class name of the classifier.
<FONT ID="LN">686 </FONT><A NAME="686"></A>   *  eg: weka.classifiers.bayes.NaiveBayes&lt;/pre&gt;
<FONT ID="LN">687 </FONT><A NAME="687"></A>   * 
<FONT ID="LN">688 </FONT><A NAME="688"></A>   * &lt;pre&gt; -C &amp;lt;index&amp;gt;
<FONT ID="LN">689 </FONT><A NAME="689"></A>   *  The index of the class for which IR statistics
<FONT ID="LN">690 </FONT><A NAME="690"></A>   *  are to be output. (default 1)&lt;/pre&gt;
<FONT ID="LN">691 </FONT><A NAME="691"></A>   * 
<FONT ID="LN">692 </FONT><A NAME="692"></A>   * &lt;pre&gt; -I &amp;lt;index&amp;gt;
<FONT ID="LN">693 </FONT><A NAME="693"></A>   *  The index of an attribute to output in the
<FONT ID="LN">694 </FONT><A NAME="694"></A>   *  results. This attribute should identify an
<FONT ID="LN">695 </FONT><A NAME="695"></A>   *  instance in order to know which instances are
<FONT ID="LN">696 </FONT><A NAME="696"></A>   *  in the test set of a cross validation. if 0
<FONT ID="LN">697 </FONT><A NAME="697"></A>   *  no output (default 0).&lt;/pre&gt;
<FONT ID="LN">698 </FONT><A NAME="698"></A>   * 
<FONT ID="LN">699 </FONT><A NAME="699"></A>   * &lt;pre&gt; -P
<FONT ID="LN">700 </FONT><A NAME="700"></A>   *  Add target and prediction columns to the result
<FONT ID="LN">701 </FONT><A NAME="701"></A>   *  for each fold.&lt;/pre&gt;
<FONT ID="LN">702 </FONT><A NAME="702"></A>   * 
<FONT ID="LN">703 </FONT><A NAME="703"></A>   * &lt;pre&gt; 
<FONT ID="LN">704 </FONT><A NAME="704"></A>   * Options specific to classifier weka.classifiers.rules.ZeroR:
<FONT ID="LN">705 </FONT><A NAME="705"></A>   * &lt;/pre&gt;
<FONT ID="LN">706 </FONT><A NAME="706"></A>   * 
<FONT ID="LN">707 </FONT><A NAME="707"></A>   * &lt;pre&gt; -D
<FONT ID="LN">708 </FONT><A NAME="708"></A>   *  If set, classifier is run in debug mode and
<FONT ID="LN">709 </FONT><A NAME="709"></A>   *  may output additional info to the console&lt;/pre&gt;
<FONT ID="LN">710 </FONT><A NAME="710"></A>   * 
<FONT ID="LN">711 </FONT><A NAME="711"></A>   &lt;!-- options-end --&gt;
<FONT ID="LN">712 </FONT><A NAME="712"></A>   *
<FONT ID="LN">713 </FONT><A NAME="713"></A>   * All options after -- will be passed to the split evaluator.
<FONT ID="LN">714 </FONT><A NAME="714"></A>   *
<FONT ID="LN">715 </FONT><A NAME="715"></A>   * @param options the list of options as an array of strings
<FONT ID="LN">716 </FONT><A NAME="716"></A>   * @throws Exception if an option is not supported
<FONT ID="LN">717 </FONT><A NAME="717"></A>   */</FONT>
<FONT ID="LN">718 </FONT><A NAME="718"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setOptions(String[] options) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">719 </FONT><A NAME="719"></A>    
<FONT ID="LN">720 </FONT><A NAME="720"></A>    setRawOutput(Utils.getFlag(<FONT ID="CharacerLiteral">'D'</FONT>, options));
<FONT ID="LN">721 </FONT><A NAME="721"></A>
<FONT ID="LN">722 </FONT><A NAME="722"></A>    String fName = Utils.getOption(<FONT ID="CharacerLiteral">'O'</FONT>, options);
<FONT ID="LN">723 </FONT><A NAME="723"></A>    <FONT ID="If">if</FONT> (fName.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">724 </FONT><A NAME="724"></A>      setOutputFile(<FONT ID="New">new</FONT> File(fName));
<FONT ID="LN">725 </FONT><A NAME="725"></A>    }
<FONT ID="LN">726 </FONT><A NAME="726"></A>
<FONT ID="LN">727 </FONT><A NAME="727"></A>    String numFolds = Utils.getOption(<FONT ID="CharacerLiteral">'X'</FONT>, options);
<FONT ID="LN">728 </FONT><A NAME="728"></A>    <FONT ID="If">if</FONT> (numFolds.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">729 </FONT><A NAME="729"></A>      setNumFolds(Integer.parseInt(numFolds));
<FONT ID="LN">730 </FONT><A NAME="730"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">731 </FONT><A NAME="731"></A>      setNumFolds(<FONT ID="IntegerLiteral">10</FONT>);
<FONT ID="LN">732 </FONT><A NAME="732"></A>    }
<FONT ID="LN">733 </FONT><A NAME="733"></A>
<FONT ID="LN">734 </FONT><A NAME="734"></A>    String seName = Utils.getOption(<FONT ID="CharacerLiteral">'W'</FONT>, options);
<FONT ID="LN">735 </FONT><A NAME="735"></A>    <FONT ID="If">if</FONT> (seName.length() == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">736 </FONT><A NAME="736"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"A SplitEvaluator must be specified with"</FONT>
<FONT ID="LN">737 </FONT><A NAME="737"></A>              + <FONT ID="StringLiteral">" the -W option."</FONT>);
<FONT ID="LN">738 </FONT><A NAME="738"></A>    }
<FONT ID="LN">739 </FONT><A NAME="739"></A>    <FONT ID="SingleLineComment">// Do it first without options, so if an exception is thrown during
<FONT ID="LN">740 </FONT><A NAME="740"></A></FONT>    <FONT ID="SingleLineComment">// the option setting, listOptions will contain options for the actual
<FONT ID="LN">741 </FONT><A NAME="741"></A></FONT>    <FONT ID="SingleLineComment">// SE.
<FONT ID="LN">742 </FONT><A NAME="742"></A></FONT>    setSplitEvaluator((<A HREF="../../weka/experiment/SplitEvaluator.java.html">SplitEvaluator</A>)Utils.forName(
<FONT ID="LN">743 </FONT><A NAME="743"></A>              <A HREF="../../weka/experiment/SplitEvaluator.java.html">SplitEvaluator</A>.<FONT ID="Class">class</FONT>,
<FONT ID="LN">744 </FONT><A NAME="744"></A>              seName,
<FONT ID="LN">745 </FONT><A NAME="745"></A>              <FONT ID="Null">null</FONT>));
<FONT ID="LN">746 </FONT><A NAME="746"></A>    <FONT ID="If">if</FONT> (getSplitEvaluator() <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../weka/core/OptionHandler.java.html">OptionHandler</A>) {
<FONT ID="LN">747 </FONT><A NAME="747"></A>      ((<A HREF="../../weka/core/OptionHandler.java.html">OptionHandler</A>) getSplitEvaluator())
<FONT ID="LN">748 </FONT><A NAME="748"></A>    .setOptions(Utils.partitionOptions(options));
<FONT ID="LN">749 </FONT><A NAME="749"></A>    }
<FONT ID="LN">750 </FONT><A NAME="750"></A>  }
<FONT ID="LN">751 </FONT><A NAME="751"></A>
<FONT ID="LN">752 </FONT><A NAME="752"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">753 </FONT><A NAME="753"></A>   * Gets the current settings of the result producer.
<FONT ID="LN">754 </FONT><A NAME="754"></A>   *
<FONT ID="LN">755 </FONT><A NAME="755"></A>   * @return an array of strings suitable for passing to setOptions
<FONT ID="LN">756 </FONT><A NAME="756"></A>   */</FONT>
<FONT ID="LN">757 </FONT><A NAME="757"></A>  <FONT ID="Public">public</FONT> String [] getOptions() {
<FONT ID="LN">758 </FONT><A NAME="758"></A>
<FONT ID="LN">759 </FONT><A NAME="759"></A>    String [] seOptions = <FONT ID="New">new</FONT> String [<FONT ID="IntegerLiteral">0</FONT>];
<FONT ID="LN">760 </FONT><A NAME="760"></A>    <FONT ID="If">if</FONT> ((m_SplitEvaluator != <FONT ID="Null">null</FONT>) &amp;&amp; 
<FONT ID="LN">761 </FONT><A NAME="761"></A>    (m_SplitEvaluator <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../weka/core/OptionHandler.java.html">OptionHandler</A>)) {
<FONT ID="LN">762 </FONT><A NAME="762"></A>      seOptions = ((<A HREF="../../weka/core/OptionHandler.java.html">OptionHandler</A>)m_SplitEvaluator).getOptions();
<FONT ID="LN">763 </FONT><A NAME="763"></A>    }
<FONT ID="LN">764 </FONT><A NAME="764"></A>    
<FONT ID="LN">765 </FONT><A NAME="765"></A>    String [] options = <FONT ID="New">new</FONT> String [seOptions.length + <FONT ID="IntegerLiteral">8</FONT>];
<FONT ID="LN">766 </FONT><A NAME="766"></A>    <FONT ID="Int">int</FONT> current = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">767 </FONT><A NAME="767"></A>
<FONT ID="LN">768 </FONT><A NAME="768"></A>    options[current++] = <FONT ID="StringLiteral">"-X"</FONT>; options[current++] = <FONT ID="StringLiteral">""</FONT> + getNumFolds();
<FONT ID="LN">769 </FONT><A NAME="769"></A>
<FONT ID="LN">770 </FONT><A NAME="770"></A>    <FONT ID="If">if</FONT> (getRawOutput()) {
<FONT ID="LN">771 </FONT><A NAME="771"></A>      options[current++] = <FONT ID="StringLiteral">"-D"</FONT>;
<FONT ID="LN">772 </FONT><A NAME="772"></A>    }
<FONT ID="LN">773 </FONT><A NAME="773"></A>
<FONT ID="LN">774 </FONT><A NAME="774"></A>    options[current++] = <FONT ID="StringLiteral">"-O"</FONT>; 
<FONT ID="LN">775 </FONT><A NAME="775"></A>    options[current++] = getOutputFile().getName();
<FONT ID="LN">776 </FONT><A NAME="776"></A>    
<FONT ID="LN">777 </FONT><A NAME="777"></A>    <FONT ID="If">if</FONT> (getSplitEvaluator() != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">778 </FONT><A NAME="778"></A>      options[current++] = <FONT ID="StringLiteral">"-W"</FONT>;
<FONT ID="LN">779 </FONT><A NAME="779"></A>      options[current++] = getSplitEvaluator().getClass().getName();
<FONT ID="LN">780 </FONT><A NAME="780"></A>    }
<FONT ID="LN">781 </FONT><A NAME="781"></A>    options[current++] = <FONT ID="StringLiteral">"--"</FONT>;
<FONT ID="LN">782 </FONT><A NAME="782"></A>
<FONT ID="LN">783 </FONT><A NAME="783"></A>    System.arraycopy(seOptions, <FONT ID="IntegerLiteral">0</FONT>, options, current, 
<FONT ID="LN">784 </FONT><A NAME="784"></A>             seOptions.length);
<FONT ID="LN">785 </FONT><A NAME="785"></A>    current += seOptions.length;
<FONT ID="LN">786 </FONT><A NAME="786"></A>    <FONT ID="While">while</FONT> (current &lt; options.length) {
<FONT ID="LN">787 </FONT><A NAME="787"></A>      options[current++] = <FONT ID="StringLiteral">""</FONT>;
<FONT ID="LN">788 </FONT><A NAME="788"></A>    }
<FONT ID="LN">789 </FONT><A NAME="789"></A>    <FONT ID="Return">return</FONT> options;
<FONT ID="LN">790 </FONT><A NAME="790"></A>  }
<FONT ID="LN">791 </FONT><A NAME="791"></A>
<FONT ID="LN">792 </FONT><A NAME="792"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">793 </FONT><A NAME="793"></A>   * Gets a text descrption of the result producer.
<FONT ID="LN">794 </FONT><A NAME="794"></A>   *
<FONT ID="LN">795 </FONT><A NAME="795"></A>   * @return a text description of the result producer.
<FONT ID="LN">796 </FONT><A NAME="796"></A>   */</FONT>
<FONT ID="LN">797 </FONT><A NAME="797"></A>  <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">798 </FONT><A NAME="798"></A>
<FONT ID="LN">799 </FONT><A NAME="799"></A>    String result = <FONT ID="StringLiteral">"CrossValidationResultProducer: "</FONT>;
<FONT ID="LN">800 </FONT><A NAME="800"></A>    result += getCompatibilityState();
<FONT ID="LN">801 </FONT><A NAME="801"></A>    <FONT ID="If">if</FONT> (m_Instances == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">802 </FONT><A NAME="802"></A>      result += <FONT ID="StringLiteral">": &lt;null Instances&gt;"</FONT>;
<FONT ID="LN">803 </FONT><A NAME="803"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">804 </FONT><A NAME="804"></A>      result += <FONT ID="StringLiteral">": "</FONT> +  Utils.backQuoteChars(m_Instances.relationName());
<FONT ID="LN">805 </FONT><A NAME="805"></A>    }
<FONT ID="LN">806 </FONT><A NAME="806"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">807 </FONT><A NAME="807"></A>  }
<FONT ID="LN">808 </FONT><A NAME="808"></A>  
<FONT ID="LN">809 </FONT><A NAME="809"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">810 </FONT><A NAME="810"></A>   * Returns the revision string.
<FONT ID="LN">811 </FONT><A NAME="811"></A>   * 
<FONT ID="LN">812 </FONT><A NAME="812"></A>   * @return        the revision
<FONT ID="LN">813 </FONT><A NAME="813"></A>   */</FONT>
<FONT ID="LN">814 </FONT><A NAME="814"></A>  <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">815 </FONT><A NAME="815"></A>    <FONT ID="Return">return</FONT> RevisionUtils.extract(<FONT ID="StringLiteral">"$Revision: 1.17 $"</FONT>);
<FONT ID="LN">816 </FONT><A NAME="816"></A>  }
<FONT ID="LN">817 </FONT><A NAME="817"></A>    
<FONT ID="LN">818 </FONT><A NAME="818"></A>  <FONT ID="FormalComment">/** 
<FONT ID="LN">819 </FONT><A NAME="819"></A>   * Quick test of timestamp
<FONT ID="LN">820 </FONT><A NAME="820"></A>   * 
<FONT ID="LN">821 </FONT><A NAME="821"></A>   * @param args    the commandline options
<FONT ID="LN">822 </FONT><A NAME="822"></A>   */</FONT>
<FONT ID="LN">823 </FONT><A NAME="823"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Void">void</FONT> main(String [] args) {
<FONT ID="LN">824 </FONT><A NAME="824"></A>    
<FONT ID="LN">825 </FONT><A NAME="825"></A>    System.err.println(Utils.doubleToString(getTimestamp().doubleValue(), <FONT ID="IntegerLiteral">4</FONT>));
<FONT ID="LN">826 </FONT><A NAME="826"></A>  }
<FONT ID="LN">827 </FONT><A NAME="827"></A>} <FONT ID="SingleLineComment">// CrossValidationResultProducer
<FONT ID="LN">828 </FONT><A NAME="828"></A></FONT></pre><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">CrossValidationResultProducer.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>

</BODY>
</HTML>