<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD>
<LINK REL=STYLESHEET TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
<META NAME="GENERATOR" CONTENT="Java2HTML Version 1.5">
<TITLE>weka.classifiers.meta.OneClassClassifier (Java2HTML)</TITLE>
</HEAD>
<BODY><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">OneClassClassifier.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>
<pre ID="Classes">
<FONT ID="LN">1   </FONT><A NAME="1"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">2   </FONT><A NAME="2"></A> *    This program is free software; you can redistribute it and/or modify
<FONT ID="LN">3   </FONT><A NAME="3"></A> *    it under the terms of the GNU General Public License as published by
<FONT ID="LN">4   </FONT><A NAME="4"></A> *    the Free Software Foundation; either version 2 of the License, or
<FONT ID="LN">5   </FONT><A NAME="5"></A> *    (at your option) any later version.
<FONT ID="LN">6   </FONT><A NAME="6"></A> *
<FONT ID="LN">7   </FONT><A NAME="7"></A> *    This program is distributed in the hope that it will be useful,
<FONT ID="LN">8   </FONT><A NAME="8"></A> *    but WITHOUT ANY WARRANTY; without even the implied warranty of
<FONT ID="LN">9   </FONT><A NAME="9"></A> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
<FONT ID="LN">10  </FONT><A NAME="10"></A> *    GNU General Public License for more details.
<FONT ID="LN">11  </FONT><A NAME="11"></A> *
<FONT ID="LN">12  </FONT><A NAME="12"></A> *    You should have received a copy of the GNU General Public License
<FONT ID="LN">13  </FONT><A NAME="13"></A> *    along with this program; if not, write to the Free Software
<FONT ID="LN">14  </FONT><A NAME="14"></A> *    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
<FONT ID="LN">15  </FONT><A NAME="15"></A> */</FONT>
<FONT ID="LN">16  </FONT><A NAME="16"></A>
<FONT ID="LN">17  </FONT><A NAME="17"></A><FONT ID="FormalComment">/**
<FONT ID="LN">18  </FONT><A NAME="18"></A> *   OneClassClassifier.java
<FONT ID="LN">19  </FONT><A NAME="19"></A> *   Copyright (C) 2008 K.Hempstalk, University of Waikato, Hamilton, New Zealand.
<FONT ID="LN">20  </FONT><A NAME="20"></A> */</FONT>
<FONT ID="LN">21  </FONT><A NAME="21"></A>
<FONT ID="LN">22  </FONT><A NAME="22"></A><FONT ID="Package">package</FONT> weka.classifiers.meta;
<FONT ID="LN">23  </FONT><A NAME="23"></A>
<FONT ID="LN">24  </FONT><A NAME="24"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/RandomizableSingleClassifierEnhancer.java.html">weka.classifiers.RandomizableSingleClassifierEnhancer</A>;
<FONT ID="LN">25  </FONT><A NAME="25"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">weka.classifiers.meta.generators.GaussianGenerator</A>;
<FONT ID="LN">26  </FONT><A NAME="26"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/meta/generators/Generator.java.html">weka.classifiers.meta.generators.Generator</A>;
<FONT ID="LN">27  </FONT><A NAME="27"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/meta/generators/InstanceHandler.java.html">weka.classifiers.meta.generators.InstanceHandler</A>;
<FONT ID="LN">28  </FONT><A NAME="28"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/meta/generators/Mean.java.html">weka.classifiers.meta.generators.Mean</A>;
<FONT ID="LN">29  </FONT><A NAME="29"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/meta/generators/NominalGenerator.java.html">weka.classifiers.meta.generators.NominalGenerator</A>;
<FONT ID="LN">30  </FONT><A NAME="30"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/meta/generators/NominalAttributeGenerator.java.html">weka.classifiers.meta.generators.NominalAttributeGenerator</A>;
<FONT ID="LN">31  </FONT><A NAME="31"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/meta/generators/NumericAttributeGenerator.java.html">weka.classifiers.meta.generators.NumericAttributeGenerator</A>;
<FONT ID="LN">32  </FONT><A NAME="32"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/meta/generators/Ranged.java.html">weka.classifiers.meta.generators.Ranged</A>;
<FONT ID="LN">33  </FONT><A NAME="33"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Attribute.java.html">weka.core.Attribute</A>;
<FONT ID="LN">34  </FONT><A NAME="34"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Capabilities.java.html">weka.core.Capabilities</A>;
<FONT ID="LN">35  </FONT><A NAME="35"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Instance.java.html">weka.core.Instance</A>;
<FONT ID="LN">36  </FONT><A NAME="36"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/DenseInstance.java.html">weka.core.DenseInstance</A>;
<FONT ID="LN">37  </FONT><A NAME="37"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Instances.java.html">weka.core.Instances</A>;
<FONT ID="LN">38  </FONT><A NAME="38"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Option.java.html">weka.core.Option</A>;
<FONT ID="LN">39  </FONT><A NAME="39"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation</A>;
<FONT ID="LN">40  </FONT><A NAME="40"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformationHandler.java.html">weka.core.TechnicalInformationHandler</A>;
<FONT ID="LN">41  </FONT><A NAME="41"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Utils.java.html">weka.core.Utils</A>;
<FONT ID="LN">42  </FONT><A NAME="42"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Capabilities.java.html">weka.core.Capabilities.Capability</A>;
<FONT ID="LN">43  </FONT><A NAME="43"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation.Field</A>;
<FONT ID="LN">44  </FONT><A NAME="44"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation.Type</A>;
<FONT ID="LN">45  </FONT><A NAME="45"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/filters/Filter.java.html">weka.filters.Filter</A>;
<FONT ID="LN">46  </FONT><A NAME="46"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/AddValues.java.html">weka.filters.unsupervised.attribute.AddValues</A>;
<FONT ID="LN">47  </FONT><A NAME="47"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/MergeManyValues.java.html">weka.filters.unsupervised.attribute.MergeManyValues</A>;
<FONT ID="LN">48  </FONT><A NAME="48"></A>
<FONT ID="LN">49  </FONT><A NAME="49"></A><FONT ID="Import">import</FONT> java.io.StringReader;
<FONT ID="LN">50  </FONT><A NAME="50"></A><FONT ID="Import">import</FONT> java.util.ArrayList;
<FONT ID="LN">51  </FONT><A NAME="51"></A><FONT ID="Import">import</FONT> java.util.Arrays;
<FONT ID="LN">52  </FONT><A NAME="52"></A><FONT ID="Import">import</FONT> java.util.Enumeration;
<FONT ID="LN">53  </FONT><A NAME="53"></A><FONT ID="Import">import</FONT> java.util.Random;
<FONT ID="LN">54  </FONT><A NAME="54"></A><FONT ID="Import">import</FONT> java.util.Vector;
<FONT ID="LN">55  </FONT><A NAME="55"></A>
<FONT ID="LN">56  </FONT><A NAME="56"></A><FONT ID="FormalComment">/**
<FONT ID="LN">57  </FONT><A NAME="57"></A> &lt;!-- globalinfo-start --&gt;
<FONT ID="LN">58  </FONT><A NAME="58"></A> * Performs one-class classification on a dataset.&lt;br/&gt;
<FONT ID="LN">59  </FONT><A NAME="59"></A> * &lt;br/&gt;
<FONT ID="LN">60  </FONT><A NAME="60"></A> * Classifier reduces the class being classified to just a single class, and learns the datawithout using any information from other classes.  The testing stage will classify as 'target'or 'outlier' - so in order to calculate the outlier pass rate the dataset must contain informationfrom more than one class.&lt;br/&gt;
<FONT ID="LN">61  </FONT><A NAME="61"></A> * &lt;br/&gt;
<FONT ID="LN">62  </FONT><A NAME="62"></A> * Also, the output varies depending on whether the label 'outlier' exists in the instances usedto build the classifier.  If so, then 'outlier' will be predicted, if not, then the label willbe considered missing when the prediction does not favour the target class.  The 'outlier' classwill not be used to build the model if there are instances of this class in the dataset.  It cansimply be used as a flag, you do not need to relabel any classes.&lt;br/&gt;
<FONT ID="LN">63  </FONT><A NAME="63"></A> * &lt;br/&gt;
<FONT ID="LN">64  </FONT><A NAME="64"></A> * For more information, see:&lt;br/&gt;
<FONT ID="LN">65  </FONT><A NAME="65"></A> * &lt;br/&gt;
<FONT ID="LN">66  </FONT><A NAME="66"></A> * Kathryn Hempstalk, Eibe Frank, Ian H. Witten: One-Class Classification by Combining Density and Class Probability Estimation. In: Proceedings of the 12th European Conference on Principles and Practice of Knowledge Discovery in Databases and 19th European Conference on Machine Learning, ECMLPKDD2008, Berlin, 505--519, 2008.
<FONT ID="LN">67  </FONT><A NAME="67"></A> * &lt;p/&gt;
<FONT ID="LN">68  </FONT><A NAME="68"></A> &lt;!-- globalinfo-end --&gt;
<FONT ID="LN">69  </FONT><A NAME="69"></A> *
<FONT ID="LN">70  </FONT><A NAME="70"></A> &lt;!-- technical-bibtex-start --&gt;
<FONT ID="LN">71  </FONT><A NAME="71"></A> * BibTeX:
<FONT ID="LN">72  </FONT><A NAME="72"></A> * &lt;pre&gt;
<FONT ID="LN">73  </FONT><A NAME="73"></A> * &amp;#64;conference{Hempstalk2008,
<FONT ID="LN">74  </FONT><A NAME="74"></A> *    address = {Berlin},
<FONT ID="LN">75  </FONT><A NAME="75"></A> *    author = {Kathryn Hempstalk and Eibe Frank and Ian H. Witten},
<FONT ID="LN">76  </FONT><A NAME="76"></A> *    booktitle = {Proceedings of the 12th European Conference on Principles and Practice of Knowledge Discovery in Databases and 19th European Conference on Machine Learning, ECMLPKDD2008},
<FONT ID="LN">77  </FONT><A NAME="77"></A> *    month = {September},
<FONT ID="LN">78  </FONT><A NAME="78"></A> *    pages = {505--519},
<FONT ID="LN">79  </FONT><A NAME="79"></A> *    publisher = {Springer},
<FONT ID="LN">80  </FONT><A NAME="80"></A> *    series = {Lecture Notes in Computer Science},
<FONT ID="LN">81  </FONT><A NAME="81"></A> *    title = {One-Class Classification by Combining Density and Class Probability Estimation},
<FONT ID="LN">82  </FONT><A NAME="82"></A> *    volume = {Vol. 5211},
<FONT ID="LN">83  </FONT><A NAME="83"></A> *    year = {2008},
<FONT ID="LN">84  </FONT><A NAME="84"></A> *    location = {Antwerp, Belgium}
<FONT ID="LN">85  </FONT><A NAME="85"></A> * }
<FONT ID="LN">86  </FONT><A NAME="86"></A> * &lt;/pre&gt;
<FONT ID="LN">87  </FONT><A NAME="87"></A> * &lt;p/&gt;
<FONT ID="LN">88  </FONT><A NAME="88"></A> &lt;!-- technical-bibtex-end --&gt;
<FONT ID="LN">89  </FONT><A NAME="89"></A> *
<FONT ID="LN">90  </FONT><A NAME="90"></A> &lt;!-- options-start --&gt;
<FONT ID="LN">91  </FONT><A NAME="91"></A> * Valid options are: &lt;p/&gt;
<FONT ID="LN">92  </FONT><A NAME="92"></A> * 
<FONT ID="LN">93  </FONT><A NAME="93"></A> * &lt;pre&gt; -trr &amp;lt;rate&amp;gt;
<FONT ID="LN">94  </FONT><A NAME="94"></A> *  Sets the target rejection rate
<FONT ID="LN">95  </FONT><A NAME="95"></A> *  (default: 0.1)&lt;/pre&gt;
<FONT ID="LN">96  </FONT><A NAME="96"></A> * 
<FONT ID="LN">97  </FONT><A NAME="97"></A> * &lt;pre&gt; -tcl &amp;lt;label&amp;gt;
<FONT ID="LN">98  </FONT><A NAME="98"></A> *  Sets the target class label
<FONT ID="LN">99  </FONT><A NAME="99"></A> *  (default: 'target')&lt;/pre&gt;
<FONT ID="LN">100 </FONT><A NAME="100"></A> * 
<FONT ID="LN">101 </FONT><A NAME="101"></A> * &lt;pre&gt; -cvr &amp;lt;rep&amp;gt;
<FONT ID="LN">102 </FONT><A NAME="102"></A> *  Sets the number of times to repeat cross validation
<FONT ID="LN">103 </FONT><A NAME="103"></A> *  to find the threshold
<FONT ID="LN">104 </FONT><A NAME="104"></A> *  (default: 10)&lt;/pre&gt;
<FONT ID="LN">105 </FONT><A NAME="105"></A> * 
<FONT ID="LN">106 </FONT><A NAME="106"></A> * &lt;pre&gt; -P &amp;lt;prop&amp;gt;
<FONT ID="LN">107 </FONT><A NAME="107"></A> *  Sets the proportion of generated data
<FONT ID="LN">108 </FONT><A NAME="108"></A> *  (default: 0.5)&lt;/pre&gt;
<FONT ID="LN">109 </FONT><A NAME="109"></A> * 
<FONT ID="LN">110 </FONT><A NAME="110"></A> * &lt;pre&gt; -cvf &amp;lt;perc&amp;gt;
<FONT ID="LN">111 </FONT><A NAME="111"></A> *  Sets the percentage of heldout data for each cross validation
<FONT ID="LN">112 </FONT><A NAME="112"></A> *  fold
<FONT ID="LN">113 </FONT><A NAME="113"></A> *  (default: 10)&lt;/pre&gt;
<FONT ID="LN">114 </FONT><A NAME="114"></A> * 
<FONT ID="LN">115 </FONT><A NAME="115"></A> * &lt;pre&gt; -num &amp;lt;classname + options&amp;gt;
<FONT ID="LN">116 </FONT><A NAME="116"></A> *  Sets the numeric generator
<FONT ID="LN">117 </FONT><A NAME="117"></A> *  (default: weka.classifiers.meta.generators.GaussianGenerator)&lt;/pre&gt;
<FONT ID="LN">118 </FONT><A NAME="118"></A> * 
<FONT ID="LN">119 </FONT><A NAME="119"></A> * &lt;pre&gt; -nom &amp;lt;classname + options&amp;gt;
<FONT ID="LN">120 </FONT><A NAME="120"></A> *  Sets the nominal generator
<FONT ID="LN">121 </FONT><A NAME="121"></A> *  (default: weka.classifiers.meta.generators.NominalGenerator)&lt;/pre&gt;
<FONT ID="LN">122 </FONT><A NAME="122"></A> * 
<FONT ID="LN">123 </FONT><A NAME="123"></A> * &lt;pre&gt; -L
<FONT ID="LN">124 </FONT><A NAME="124"></A> *  Sets whether to correct the number of classes to two,
<FONT ID="LN">125 </FONT><A NAME="125"></A> *  if omitted no correction will be made.&lt;/pre&gt;
<FONT ID="LN">126 </FONT><A NAME="126"></A> * 
<FONT ID="LN">127 </FONT><A NAME="127"></A> * &lt;pre&gt; -E
<FONT ID="LN">128 </FONT><A NAME="128"></A> *  Sets whether to exclusively use the density estimate.&lt;/pre&gt;
<FONT ID="LN">129 </FONT><A NAME="129"></A> * 
<FONT ID="LN">130 </FONT><A NAME="130"></A> * &lt;pre&gt; -I
<FONT ID="LN">131 </FONT><A NAME="131"></A> *  Sets whether to use instance weights.&lt;/pre&gt;
<FONT ID="LN">132 </FONT><A NAME="132"></A> * 
<FONT ID="LN">133 </FONT><A NAME="133"></A> * &lt;pre&gt; -S &amp;lt;num&amp;gt;
<FONT ID="LN">134 </FONT><A NAME="134"></A> *  Random number seed.
<FONT ID="LN">135 </FONT><A NAME="135"></A> *  (default 1)&lt;/pre&gt;
<FONT ID="LN">136 </FONT><A NAME="136"></A> * 
<FONT ID="LN">137 </FONT><A NAME="137"></A> * &lt;pre&gt; -D
<FONT ID="LN">138 </FONT><A NAME="138"></A> *  If set, classifier is run in debug mode and
<FONT ID="LN">139 </FONT><A NAME="139"></A> *  may output additional info to the console&lt;/pre&gt;
<FONT ID="LN">140 </FONT><A NAME="140"></A> * 
<FONT ID="LN">141 </FONT><A NAME="141"></A> * &lt;pre&gt; -W
<FONT ID="LN">142 </FONT><A NAME="142"></A> *  Full name of base classifier.
<FONT ID="LN">143 </FONT><A NAME="143"></A> *  (default: weka.classifiers.meta.Bagging)&lt;/pre&gt;
<FONT ID="LN">144 </FONT><A NAME="144"></A> * 
<FONT ID="LN">145 </FONT><A NAME="145"></A> * &lt;pre&gt; 
<FONT ID="LN">146 </FONT><A NAME="146"></A> * Options specific to classifier weka.classifiers.meta.Bagging:
<FONT ID="LN">147 </FONT><A NAME="147"></A> * &lt;/pre&gt;
<FONT ID="LN">148 </FONT><A NAME="148"></A> * 
<FONT ID="LN">149 </FONT><A NAME="149"></A> * &lt;pre&gt; -P
<FONT ID="LN">150 </FONT><A NAME="150"></A> *  Size of each bag, as a percentage of the
<FONT ID="LN">151 </FONT><A NAME="151"></A> *  training set size. (default 100)&lt;/pre&gt;
<FONT ID="LN">152 </FONT><A NAME="152"></A> * 
<FONT ID="LN">153 </FONT><A NAME="153"></A> * &lt;pre&gt; -O
<FONT ID="LN">154 </FONT><A NAME="154"></A> *  Calculate the out of bag error.&lt;/pre&gt;
<FONT ID="LN">155 </FONT><A NAME="155"></A> * 
<FONT ID="LN">156 </FONT><A NAME="156"></A> * &lt;pre&gt; -S &amp;lt;num&amp;gt;
<FONT ID="LN">157 </FONT><A NAME="157"></A> *  Random number seed.
<FONT ID="LN">158 </FONT><A NAME="158"></A> *  (default 1)&lt;/pre&gt;
<FONT ID="LN">159 </FONT><A NAME="159"></A> * 
<FONT ID="LN">160 </FONT><A NAME="160"></A> * &lt;pre&gt; -I &amp;lt;num&amp;gt;
<FONT ID="LN">161 </FONT><A NAME="161"></A> *  Number of iterations.
<FONT ID="LN">162 </FONT><A NAME="162"></A> *  (default 10)&lt;/pre&gt;
<FONT ID="LN">163 </FONT><A NAME="163"></A> * 
<FONT ID="LN">164 </FONT><A NAME="164"></A> * &lt;pre&gt; -D
<FONT ID="LN">165 </FONT><A NAME="165"></A> *  If set, classifier is run in debug mode and
<FONT ID="LN">166 </FONT><A NAME="166"></A> *  may output additional info to the console&lt;/pre&gt;
<FONT ID="LN">167 </FONT><A NAME="167"></A> * 
<FONT ID="LN">168 </FONT><A NAME="168"></A> * &lt;pre&gt; -W
<FONT ID="LN">169 </FONT><A NAME="169"></A> *  Full name of base classifier.
<FONT ID="LN">170 </FONT><A NAME="170"></A> *  (default: weka.classifiers.trees.REPTree)&lt;/pre&gt;
<FONT ID="LN">171 </FONT><A NAME="171"></A> * 
<FONT ID="LN">172 </FONT><A NAME="172"></A> * &lt;pre&gt; 
<FONT ID="LN">173 </FONT><A NAME="173"></A> * Options specific to classifier weka.classifiers.trees.REPTree:
<FONT ID="LN">174 </FONT><A NAME="174"></A> * &lt;/pre&gt;
<FONT ID="LN">175 </FONT><A NAME="175"></A> * 
<FONT ID="LN">176 </FONT><A NAME="176"></A> * &lt;pre&gt; -M &amp;lt;minimum number of instances&amp;gt;
<FONT ID="LN">177 </FONT><A NAME="177"></A> *  Set minimum number of instances per leaf (default 2).&lt;/pre&gt;
<FONT ID="LN">178 </FONT><A NAME="178"></A> * 
<FONT ID="LN">179 </FONT><A NAME="179"></A> * &lt;pre&gt; -V &amp;lt;minimum variance for split&amp;gt;
<FONT ID="LN">180 </FONT><A NAME="180"></A> *  Set minimum numeric class variance proportion
<FONT ID="LN">181 </FONT><A NAME="181"></A> *  of train variance for split (default 1e-3).&lt;/pre&gt;
<FONT ID="LN">182 </FONT><A NAME="182"></A> * 
<FONT ID="LN">183 </FONT><A NAME="183"></A> * &lt;pre&gt; -N &amp;lt;number of folds&amp;gt;
<FONT ID="LN">184 </FONT><A NAME="184"></A> *  Number of folds for reduced error pruning (default 3).&lt;/pre&gt;
<FONT ID="LN">185 </FONT><A NAME="185"></A> * 
<FONT ID="LN">186 </FONT><A NAME="186"></A> * &lt;pre&gt; -S &amp;lt;seed&amp;gt;
<FONT ID="LN">187 </FONT><A NAME="187"></A> *  Seed for random data shuffling (default 1).&lt;/pre&gt;
<FONT ID="LN">188 </FONT><A NAME="188"></A> * 
<FONT ID="LN">189 </FONT><A NAME="189"></A> * &lt;pre&gt; -P
<FONT ID="LN">190 </FONT><A NAME="190"></A> *  No pruning.&lt;/pre&gt;
<FONT ID="LN">191 </FONT><A NAME="191"></A> * 
<FONT ID="LN">192 </FONT><A NAME="192"></A> * &lt;pre&gt; -L
<FONT ID="LN">193 </FONT><A NAME="193"></A> *  Maximum tree depth (default -1, no maximum)&lt;/pre&gt;
<FONT ID="LN">194 </FONT><A NAME="194"></A> * 
<FONT ID="LN">195 </FONT><A NAME="195"></A> &lt;!-- options-end --&gt;
<FONT ID="LN">196 </FONT><A NAME="196"></A> *
<FONT ID="LN">197 </FONT><A NAME="197"></A> * Options after -- are passed to the designated classifier.
<FONT ID="LN">198 </FONT><A NAME="198"></A> *
<FONT ID="LN">199 </FONT><A NAME="199"></A> * @author Kathryn Hempstalk (kah18 at cs.waikato.ac.nz)
<FONT ID="LN">200 </FONT><A NAME="200"></A> * @author Eibe Frank (eibe at cs.waikato.ac.nz)
<FONT ID="LN">201 </FONT><A NAME="201"></A> * @version $Revision: 5987 $
<FONT ID="LN">202 </FONT><A NAME="202"></A> */</FONT>
<FONT ID="LN">203 </FONT><A NAME="203"></A><FONT ID="Public">public</FONT> <FONT ID="Class">class</FONT> OneClassClassifier
<FONT ID="LN">204 </FONT><A NAME="204"></A>  <FONT ID="Extends">extends</FONT> <A HREF="../../../weka/classifiers/RandomizableSingleClassifierEnhancer.java.html">RandomizableSingleClassifierEnhancer</A>
<FONT ID="LN">205 </FONT><A NAME="205"></A>  <FONT ID="Implements">implements</FONT> <A HREF="../../../weka/core/TechnicalInformationHandler.java.html">TechnicalInformationHandler</A> {
<FONT ID="LN">206 </FONT><A NAME="206"></A>
<FONT ID="LN">207 </FONT><A NAME="207"></A>  <FONT ID="FormalComment">/** for serialization. */</FONT>
<FONT ID="LN">208 </FONT><A NAME="208"></A>  <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">6199125385010158931L</FONT>;
<FONT ID="LN">209 </FONT><A NAME="209"></A>
<FONT ID="LN">210 </FONT><A NAME="210"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">211 </FONT><A NAME="211"></A>   * The rejection rate of valid target objects (used to set the threshold).
<FONT ID="LN">212 </FONT><A NAME="212"></A>   */</FONT>
<FONT ID="LN">213 </FONT><A NAME="213"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Double">double</FONT> m_TargetRejectionRate = <FONT ID="FloatPointLiteral">0.1</FONT>;
<FONT ID="LN">214 </FONT><A NAME="214"></A>
<FONT ID="LN">215 </FONT><A NAME="215"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">216 </FONT><A NAME="216"></A>   * The probability threshold (only classes above this will be considered target).
<FONT ID="LN">217 </FONT><A NAME="217"></A>   */</FONT>
<FONT ID="LN">218 </FONT><A NAME="218"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Double">double</FONT> m_Threshold = <FONT ID="FloatPointLiteral">0.5</FONT>;
<FONT ID="LN">219 </FONT><A NAME="219"></A>
<FONT ID="LN">220 </FONT><A NAME="220"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">221 </FONT><A NAME="221"></A>   * The generators for the numeric attributes.
<FONT ID="LN">222 </FONT><A NAME="222"></A>   */</FONT>
<FONT ID="LN">223 </FONT><A NAME="223"></A>  <FONT ID="Protected">protected</FONT> ArrayList m_Generators;
<FONT ID="LN">224 </FONT><A NAME="224"></A>
<FONT ID="LN">225 </FONT><A NAME="225"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">226 </FONT><A NAME="226"></A>   * The value of the class attribute to consider the target class.
<FONT ID="LN">227 </FONT><A NAME="227"></A>   */</FONT>
<FONT ID="LN">228 </FONT><A NAME="228"></A>  <FONT ID="Protected">protected</FONT> String m_TargetClassLabel = <FONT ID="StringLiteral">"target"</FONT>;
<FONT ID="LN">229 </FONT><A NAME="229"></A>
<FONT ID="LN">230 </FONT><A NAME="230"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">231 </FONT><A NAME="231"></A>   * The number of times to repeat cross validation during learning.
<FONT ID="LN">232 </FONT><A NAME="232"></A>   */</FONT>
<FONT ID="LN">233 </FONT><A NAME="233"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_NumRepeats = <FONT ID="IntegerLiteral">10</FONT>;  
<FONT ID="LN">234 </FONT><A NAME="234"></A>
<FONT ID="LN">235 </FONT><A NAME="235"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">236 </FONT><A NAME="236"></A>   * The percentage of heldout data.
<FONT ID="LN">237 </FONT><A NAME="237"></A>   */</FONT>
<FONT ID="LN">238 </FONT><A NAME="238"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Double">double</FONT> m_PercentHeldout = <FONT ID="IntegerLiteral">10</FONT>;
<FONT ID="LN">239 </FONT><A NAME="239"></A>
<FONT ID="LN">240 </FONT><A NAME="240"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">241 </FONT><A NAME="241"></A>   * The proportion of the data that will be generated.
<FONT ID="LN">242 </FONT><A NAME="242"></A>   */</FONT>
<FONT ID="LN">243 </FONT><A NAME="243"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Double">double</FONT> m_ProportionGenerated = <FONT ID="FloatPointLiteral">0.5</FONT>;
<FONT ID="LN">244 </FONT><A NAME="244"></A>
<FONT ID="LN">245 </FONT><A NAME="245"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">246 </FONT><A NAME="246"></A>   * The default data generator for numeric attributes.
<FONT ID="LN">247 </FONT><A NAME="247"></A>   */</FONT>
<FONT ID="LN">248 </FONT><A NAME="248"></A>    <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/classifiers/meta/generators/NumericAttributeGenerator.java.html">NumericAttributeGenerator</A> m_DefaultNumericGenerator = (<A HREF="../../../weka/classifiers/meta/generators/NumericAttributeGenerator.java.html">NumericAttributeGenerator</A>) <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">GaussianGenerator</A>();
<FONT ID="LN">249 </FONT><A NAME="249"></A>
<FONT ID="LN">250 </FONT><A NAME="250"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">251 </FONT><A NAME="251"></A>   * The default data generator for nominal attributes.
<FONT ID="LN">252 </FONT><A NAME="252"></A>   */</FONT>
<FONT ID="LN">253 </FONT><A NAME="253"></A>    <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/classifiers/meta/generators/NominalAttributeGenerator.java.html">NominalAttributeGenerator</A> m_DefaultNominalGenerator = (<A HREF="../../../weka/classifiers/meta/generators/NominalAttributeGenerator.java.html">NominalAttributeGenerator</A>) <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/meta/generators/NominalGenerator.java.html">NominalGenerator</A>();
<FONT ID="LN">254 </FONT><A NAME="254"></A>
<FONT ID="LN">255 </FONT><A NAME="255"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">256 </FONT><A NAME="256"></A>   * Adds the outlier class if it doesn't already exist.
<FONT ID="LN">257 </FONT><A NAME="257"></A>   */</FONT>
<FONT ID="LN">258 </FONT><A NAME="258"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/AddValues.java.html">AddValues</A> m_AddOutlierFilter;
<FONT ID="LN">259 </FONT><A NAME="259"></A>
<FONT ID="LN">260 </FONT><A NAME="260"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">261 </FONT><A NAME="261"></A>   * Whether to include laplace correction so if there are multiple
<FONT ID="LN">262 </FONT><A NAME="262"></A>   * values for a class, it is reduced to just two so that any laplace
<FONT ID="LN">263 </FONT><A NAME="263"></A>   * correction in another classifier corrects with one possible other class
<FONT ID="LN">264 </FONT><A NAME="264"></A>   * rather than several.  
<FONT ID="LN">265 </FONT><A NAME="265"></A>   */</FONT>
<FONT ID="LN">266 </FONT><A NAME="266"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Boolean">boolean</FONT> m_UseLaplaceCorrection = <FONT ID="False">false</FONT>;
<FONT ID="LN">267 </FONT><A NAME="267"></A>
<FONT ID="LN">268 </FONT><A NAME="268"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">269 </FONT><A NAME="269"></A>   * The filter that merges the instances down to two values.
<FONT ID="LN">270 </FONT><A NAME="270"></A>   */</FONT>
<FONT ID="LN">271 </FONT><A NAME="271"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/MergeManyValues.java.html">MergeManyValues</A> m_MergeFilter;
<FONT ID="LN">272 </FONT><A NAME="272"></A>
<FONT ID="LN">273 </FONT><A NAME="273"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">274 </FONT><A NAME="274"></A>   * The label for the outlier class.
<FONT ID="LN">275 </FONT><A NAME="275"></A>   */</FONT>
<FONT ID="LN">276 </FONT><A NAME="276"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> String OUTLIER_LABEL = <FONT ID="StringLiteral">"outlier"</FONT>;
<FONT ID="LN">277 </FONT><A NAME="277"></A>
<FONT ID="LN">278 </FONT><A NAME="278"></A>
<FONT ID="LN">279 </FONT><A NAME="279"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">280 </FONT><A NAME="280"></A>   * Whether to use only the density estimate, or to include the
<FONT ID="LN">281 </FONT><A NAME="281"></A>   * base classifier in the probability estimates.
<FONT ID="LN">282 </FONT><A NAME="282"></A>   */</FONT>
<FONT ID="LN">283 </FONT><A NAME="283"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Boolean">boolean</FONT> m_UseDensityOnly = <FONT ID="False">false</FONT>;
<FONT ID="LN">284 </FONT><A NAME="284"></A>
<FONT ID="LN">285 </FONT><A NAME="285"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">286 </FONT><A NAME="286"></A>   * Whether to weight instances based on their prevalence in the
<FONT ID="LN">287 </FONT><A NAME="287"></A>   * test set used for calculating P(X|T).
<FONT ID="LN">288 </FONT><A NAME="288"></A>   */</FONT>
<FONT ID="LN">289 </FONT><A NAME="289"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Boolean">boolean</FONT> m_UseInstanceWeights = <FONT ID="False">false</FONT>;
<FONT ID="LN">290 </FONT><A NAME="290"></A>  
<FONT ID="LN">291 </FONT><A NAME="291"></A>  <FONT ID="FormalComment">/** The random number generator used internally. */</FONT>
<FONT ID="LN">292 </FONT><A NAME="292"></A>  <FONT ID="Protected">protected</FONT> Random m_Random;
<FONT ID="LN">293 </FONT><A NAME="293"></A>
<FONT ID="LN">294 </FONT><A NAME="294"></A>  
<FONT ID="LN">295 </FONT><A NAME="295"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">296 </FONT><A NAME="296"></A>   * Default constructor.
<FONT ID="LN">297 </FONT><A NAME="297"></A>   */</FONT>
<FONT ID="LN">298 </FONT><A NAME="298"></A>  <FONT ID="Public">public</FONT> OneClassClassifier() {
<FONT ID="LN">299 </FONT><A NAME="299"></A>    <FONT ID="Super">super</FONT>();
<FONT ID="LN">300 </FONT><A NAME="300"></A>    
<FONT ID="LN">301 </FONT><A NAME="301"></A>    m_Classifier = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/meta/Bagging.java.html">weka.classifiers.meta.Bagging</A>();
<FONT ID="LN">302 </FONT><A NAME="302"></A>  }
<FONT ID="LN">303 </FONT><A NAME="303"></A>
<FONT ID="LN">304 </FONT><A NAME="304"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">305 </FONT><A NAME="305"></A>   * Returns a string describing this classes ability.
<FONT ID="LN">306 </FONT><A NAME="306"></A>   *
<FONT ID="LN">307 </FONT><A NAME="307"></A>   * @return A description of the method.
<FONT ID="LN">308 </FONT><A NAME="308"></A>   */</FONT>
<FONT ID="LN">309 </FONT><A NAME="309"></A>  <FONT ID="Public">public</FONT> String globalInfo() {
<FONT ID="LN">310 </FONT><A NAME="310"></A>    <FONT ID="Return">return</FONT> 
<FONT ID="LN">311 </FONT><A NAME="311"></A>       <FONT ID="StringLiteral">"Performs one-class classification on a dataset.\n\n"</FONT>
<FONT ID="LN">312 </FONT><A NAME="312"></A>     + <FONT ID="StringLiteral">"Classifier reduces the class being classified to just a single class, and learns the data"</FONT>
<FONT ID="LN">313 </FONT><A NAME="313"></A>     + <FONT ID="StringLiteral">"without using any information from other classes.  The testing stage will classify as 'target'"</FONT>
<FONT ID="LN">314 </FONT><A NAME="314"></A>     + <FONT ID="StringLiteral">"or 'outlier' - so in order to calculate the outlier pass rate the dataset must contain information"</FONT>
<FONT ID="LN">315 </FONT><A NAME="315"></A>     + <FONT ID="StringLiteral">"from more than one class.\n"</FONT>
<FONT ID="LN">316 </FONT><A NAME="316"></A>     + <FONT ID="StringLiteral">"\n"</FONT>
<FONT ID="LN">317 </FONT><A NAME="317"></A>     + <FONT ID="StringLiteral">"Also, the output varies depending on whether the label 'outlier' exists in the instances used"</FONT>
<FONT ID="LN">318 </FONT><A NAME="318"></A>     + <FONT ID="StringLiteral">"to build the classifier.  If so, then 'outlier' will be predicted, if not, then the label will"</FONT>
<FONT ID="LN">319 </FONT><A NAME="319"></A>     + <FONT ID="StringLiteral">"be considered missing when the prediction does not favour the target class.  The 'outlier' class"</FONT>
<FONT ID="LN">320 </FONT><A NAME="320"></A>     + <FONT ID="StringLiteral">"will not be used to build the model if there are instances of this class in the dataset.  It can"</FONT>
<FONT ID="LN">321 </FONT><A NAME="321"></A>     + <FONT ID="StringLiteral">"simply be used as a flag, you do not need to relabel any classes.\n"</FONT>
<FONT ID="LN">322 </FONT><A NAME="322"></A>     + <FONT ID="StringLiteral">"\n"</FONT>
<FONT ID="LN">323 </FONT><A NAME="323"></A>     + <FONT ID="StringLiteral">"For more information, see:\n"</FONT>
<FONT ID="LN">324 </FONT><A NAME="324"></A>     + <FONT ID="StringLiteral">"\n"</FONT>
<FONT ID="LN">325 </FONT><A NAME="325"></A>     + getTechnicalInformation().toString();
<FONT ID="LN">326 </FONT><A NAME="326"></A>  }
<FONT ID="LN">327 </FONT><A NAME="327"></A>
<FONT ID="LN">328 </FONT><A NAME="328"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">329 </FONT><A NAME="329"></A>   * Returns an instance of a TechnicalInformation object, containing 
<FONT ID="LN">330 </FONT><A NAME="330"></A>   * detailed information about the technical background of this class,
<FONT ID="LN">331 </FONT><A NAME="331"></A>   * e.g., paper reference or book this class is based on.
<FONT ID="LN">332 </FONT><A NAME="332"></A>   * 
<FONT ID="LN">333 </FONT><A NAME="333"></A>   * @return the technical information about this class
<FONT ID="LN">334 </FONT><A NAME="334"></A>   */</FONT>
<FONT ID="LN">335 </FONT><A NAME="335"></A>  <FONT ID="Public">public</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A> getTechnicalInformation() {
<FONT ID="LN">336 </FONT><A NAME="336"></A>    <A HREF="../../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A>    result;
<FONT ID="LN">337 </FONT><A NAME="337"></A>
<FONT ID="LN">338 </FONT><A NAME="338"></A>    result = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A>(Type.CONFERENCE);
<FONT ID="LN">339 </FONT><A NAME="339"></A>    result.setValue(Field.AUTHOR, <FONT ID="StringLiteral">"Kathryn Hempstalk and Eibe Frank and Ian H. Witten"</FONT>);
<FONT ID="LN">340 </FONT><A NAME="340"></A>    result.setValue(Field.YEAR, <FONT ID="StringLiteral">"2008"</FONT>);
<FONT ID="LN">341 </FONT><A NAME="341"></A>    result.setValue(Field.TITLE, <FONT ID="StringLiteral">"One-Class Classification by Combining Density and Class Probability Estimation"</FONT>);
<FONT ID="LN">342 </FONT><A NAME="342"></A>    result.setValue(Field.BOOKTITLE, <FONT ID="StringLiteral">"Proceedings of the 12th European Conference on Principles and Practice of Knowledge Discovery in Databases and 19th European Conference on Machine Learning, ECMLPKDD2008"</FONT>);
<FONT ID="LN">343 </FONT><A NAME="343"></A>    result.setValue(Field.VOLUME, <FONT ID="StringLiteral">"Vol. 5211"</FONT>);
<FONT ID="LN">344 </FONT><A NAME="344"></A>    result.setValue(Field.PAGES, <FONT ID="StringLiteral">"505--519"</FONT>);
<FONT ID="LN">345 </FONT><A NAME="345"></A>    result.setValue(Field.PUBLISHER, <FONT ID="StringLiteral">"Springer"</FONT>);
<FONT ID="LN">346 </FONT><A NAME="346"></A>    result.setValue(Field.ADDRESS, <FONT ID="StringLiteral">"Berlin"</FONT>);
<FONT ID="LN">347 </FONT><A NAME="347"></A>    result.setValue(Field.SERIES, <FONT ID="StringLiteral">"Lecture Notes in Computer Science"</FONT>);
<FONT ID="LN">348 </FONT><A NAME="348"></A>    result.setValue(Field.LOCATION, <FONT ID="StringLiteral">"Antwerp, Belgium"</FONT>);
<FONT ID="LN">349 </FONT><A NAME="349"></A>    result.setValue(Field.MONTH, <FONT ID="StringLiteral">"September"</FONT>);
<FONT ID="LN">350 </FONT><A NAME="350"></A>
<FONT ID="LN">351 </FONT><A NAME="351"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">352 </FONT><A NAME="352"></A>  }
<FONT ID="LN">353 </FONT><A NAME="353"></A>
<FONT ID="LN">354 </FONT><A NAME="354"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">355 </FONT><A NAME="355"></A>   * Returns an enumeration describing the available options.
<FONT ID="LN">356 </FONT><A NAME="356"></A>   *
<FONT ID="LN">357 </FONT><A NAME="357"></A>   * @return An enumeration of all the available options.
<FONT ID="LN">358 </FONT><A NAME="358"></A>   */</FONT>
<FONT ID="LN">359 </FONT><A NAME="359"></A>  <FONT ID="Public">public</FONT> Enumeration listOptions() {
<FONT ID="LN">360 </FONT><A NAME="360"></A>    Vector result = <FONT ID="New">new</FONT> Vector();   
<FONT ID="LN">361 </FONT><A NAME="361"></A>
<FONT ID="LN">362 </FONT><A NAME="362"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">363 </FONT><A NAME="363"></A>    <FONT ID="StringLiteral">"\tSets the target rejection rate\n"</FONT>
<FONT ID="LN">364 </FONT><A NAME="364"></A>    + <FONT ID="StringLiteral">"\t(default: 0.1)"</FONT>,
<FONT ID="LN">365 </FONT><A NAME="365"></A>    <FONT ID="StringLiteral">"trr"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-trr &lt;rate&gt;"</FONT>));
<FONT ID="LN">366 </FONT><A NAME="366"></A>
<FONT ID="LN">367 </FONT><A NAME="367"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">368 </FONT><A NAME="368"></A>    <FONT ID="StringLiteral">"\tSets the target class label\n"</FONT>
<FONT ID="LN">369 </FONT><A NAME="369"></A>    + <FONT ID="StringLiteral">"\t(default: 'target')"</FONT>,
<FONT ID="LN">370 </FONT><A NAME="370"></A>    <FONT ID="StringLiteral">"tcl"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-tcl &lt;label&gt;"</FONT>));
<FONT ID="LN">371 </FONT><A NAME="371"></A>
<FONT ID="LN">372 </FONT><A NAME="372"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">373 </FONT><A NAME="373"></A>    <FONT ID="StringLiteral">"\tSets the number of times to repeat cross validation\n"</FONT> 
<FONT ID="LN">374 </FONT><A NAME="374"></A>    + <FONT ID="StringLiteral">"\tto find the threshold\n"</FONT>
<FONT ID="LN">375 </FONT><A NAME="375"></A>    + <FONT ID="StringLiteral">"\t(default: 10)"</FONT>,
<FONT ID="LN">376 </FONT><A NAME="376"></A>    <FONT ID="StringLiteral">"cvr"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-cvr &lt;rep&gt;"</FONT>));
<FONT ID="LN">377 </FONT><A NAME="377"></A>
<FONT ID="LN">378 </FONT><A NAME="378"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">379 </FONT><A NAME="379"></A>    <FONT ID="StringLiteral">"\tSets the proportion of generated data\n"</FONT>
<FONT ID="LN">380 </FONT><A NAME="380"></A>    + <FONT ID="StringLiteral">"\t(default: 0.5)"</FONT>,
<FONT ID="LN">381 </FONT><A NAME="381"></A>    <FONT ID="StringLiteral">"P"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-P &lt;prop&gt;"</FONT>));
<FONT ID="LN">382 </FONT><A NAME="382"></A>
<FONT ID="LN">383 </FONT><A NAME="383"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">384 </FONT><A NAME="384"></A>    <FONT ID="StringLiteral">"\tSets the percentage of heldout data for each cross validation\n"</FONT>
<FONT ID="LN">385 </FONT><A NAME="385"></A>    + <FONT ID="StringLiteral">"\tfold\n"</FONT>
<FONT ID="LN">386 </FONT><A NAME="386"></A>    + <FONT ID="StringLiteral">"\t(default: 10)"</FONT>,
<FONT ID="LN">387 </FONT><A NAME="387"></A>    <FONT ID="StringLiteral">"cvf"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-cvf &lt;perc&gt;"</FONT>));
<FONT ID="LN">388 </FONT><A NAME="388"></A>
<FONT ID="LN">389 </FONT><A NAME="389"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">390 </FONT><A NAME="390"></A>    <FONT ID="StringLiteral">"\tSets the numeric generator\n"</FONT>
<FONT ID="LN">391 </FONT><A NAME="391"></A>    + <FONT ID="StringLiteral">"\t(default: "</FONT> + <A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">GaussianGenerator</A>.<FONT ID="Class">class</FONT>.getName() + <FONT ID="StringLiteral">")"</FONT>,
<FONT ID="LN">392 </FONT><A NAME="392"></A>    <FONT ID="StringLiteral">"num"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-num &lt;classname + options&gt;"</FONT>));
<FONT ID="LN">393 </FONT><A NAME="393"></A>
<FONT ID="LN">394 </FONT><A NAME="394"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">395 </FONT><A NAME="395"></A>    <FONT ID="StringLiteral">"\tSets the nominal generator\n"</FONT>
<FONT ID="LN">396 </FONT><A NAME="396"></A>    + <FONT ID="StringLiteral">"\t(default: "</FONT> + <A HREF="../../../weka/classifiers/meta/generators/NominalGenerator.java.html">NominalGenerator</A>.<FONT ID="Class">class</FONT>.getName() + <FONT ID="StringLiteral">")"</FONT>,
<FONT ID="LN">397 </FONT><A NAME="397"></A>    <FONT ID="StringLiteral">"nom"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-nom &lt;classname + options&gt;"</FONT>));
<FONT ID="LN">398 </FONT><A NAME="398"></A>
<FONT ID="LN">399 </FONT><A NAME="399"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">400 </FONT><A NAME="400"></A>    <FONT ID="StringLiteral">"\tSets whether to correct the number of classes to two,\n"</FONT>
<FONT ID="LN">401 </FONT><A NAME="401"></A>    + <FONT ID="StringLiteral">"\tif omitted no correction will be made."</FONT>,
<FONT ID="LN">402 </FONT><A NAME="402"></A>    <FONT ID="StringLiteral">"L"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-L"</FONT>));
<FONT ID="LN">403 </FONT><A NAME="403"></A>
<FONT ID="LN">404 </FONT><A NAME="404"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">405 </FONT><A NAME="405"></A>    <FONT ID="StringLiteral">"\tSets whether to exclusively use the density estimate."</FONT>,
<FONT ID="LN">406 </FONT><A NAME="406"></A>    <FONT ID="StringLiteral">"E"</FONT>, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="StringLiteral">"-E"</FONT>));
<FONT ID="LN">407 </FONT><A NAME="407"></A>
<FONT ID="LN">408 </FONT><A NAME="408"></A>    result.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">409 </FONT><A NAME="409"></A>    <FONT ID="StringLiteral">"\tSets whether to use instance weights."</FONT>,
<FONT ID="LN">410 </FONT><A NAME="410"></A>    <FONT ID="StringLiteral">"I"</FONT>, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="StringLiteral">"-I"</FONT>));
<FONT ID="LN">411 </FONT><A NAME="411"></A>    
<FONT ID="LN">412 </FONT><A NAME="412"></A>    Enumeration enu = <FONT ID="Super">super</FONT>.listOptions();
<FONT ID="LN">413 </FONT><A NAME="413"></A>    <FONT ID="While">while</FONT> (enu.hasMoreElements())
<FONT ID="LN">414 </FONT><A NAME="414"></A>      result.addElement(enu.nextElement());
<FONT ID="LN">415 </FONT><A NAME="415"></A>
<FONT ID="LN">416 </FONT><A NAME="416"></A>    <FONT ID="Return">return</FONT> result.elements();
<FONT ID="LN">417 </FONT><A NAME="417"></A>  }
<FONT ID="LN">418 </FONT><A NAME="418"></A>
<FONT ID="LN">419 </FONT><A NAME="419"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">420 </FONT><A NAME="420"></A>   * Parses a given list of options. &lt;p/&gt;
<FONT ID="LN">421 </FONT><A NAME="421"></A>   *
<FONT ID="LN">422 </FONT><A NAME="422"></A>   &lt;!-- options-start --&gt;
<FONT ID="LN">423 </FONT><A NAME="423"></A>   * Valid options are: &lt;p/&gt;
<FONT ID="LN">424 </FONT><A NAME="424"></A>   * 
<FONT ID="LN">425 </FONT><A NAME="425"></A>   * &lt;pre&gt; -trr &amp;lt;rate&amp;gt;
<FONT ID="LN">426 </FONT><A NAME="426"></A>   *  Sets the target rejection rate
<FONT ID="LN">427 </FONT><A NAME="427"></A>   *  (default: 0.1)&lt;/pre&gt;
<FONT ID="LN">428 </FONT><A NAME="428"></A>   * 
<FONT ID="LN">429 </FONT><A NAME="429"></A>   * &lt;pre&gt; -tcl &amp;lt;label&amp;gt;
<FONT ID="LN">430 </FONT><A NAME="430"></A>   *  Sets the target class label
<FONT ID="LN">431 </FONT><A NAME="431"></A>   *  (default: 'target')&lt;/pre&gt;
<FONT ID="LN">432 </FONT><A NAME="432"></A>   * 
<FONT ID="LN">433 </FONT><A NAME="433"></A>   * &lt;pre&gt; -cvr &amp;lt;rep&amp;gt;
<FONT ID="LN">434 </FONT><A NAME="434"></A>   *  Sets the number of times to repeat cross validation
<FONT ID="LN">435 </FONT><A NAME="435"></A>   *  to find the threshold
<FONT ID="LN">436 </FONT><A NAME="436"></A>   *  (default: 10)&lt;/pre&gt;
<FONT ID="LN">437 </FONT><A NAME="437"></A>   * 
<FONT ID="LN">438 </FONT><A NAME="438"></A>   * &lt;pre&gt; -P &amp;lt;prop&amp;gt;
<FONT ID="LN">439 </FONT><A NAME="439"></A>   *  Sets the proportion of generated data
<FONT ID="LN">440 </FONT><A NAME="440"></A>   *  (default: 0.5)&lt;/pre&gt;
<FONT ID="LN">441 </FONT><A NAME="441"></A>   * 
<FONT ID="LN">442 </FONT><A NAME="442"></A>   * &lt;pre&gt; -cvf &amp;lt;perc&amp;gt;
<FONT ID="LN">443 </FONT><A NAME="443"></A>   *  Sets the percentage of heldout data for each cross validation
<FONT ID="LN">444 </FONT><A NAME="444"></A>   *  fold
<FONT ID="LN">445 </FONT><A NAME="445"></A>   *  (default: 10)&lt;/pre&gt;
<FONT ID="LN">446 </FONT><A NAME="446"></A>   * 
<FONT ID="LN">447 </FONT><A NAME="447"></A>   * &lt;pre&gt; -num &amp;lt;classname + options&amp;gt;
<FONT ID="LN">448 </FONT><A NAME="448"></A>   *  Sets the numeric generator
<FONT ID="LN">449 </FONT><A NAME="449"></A>   *  (default: weka.classifiers.meta.generators.GaussianGenerator)&lt;/pre&gt;
<FONT ID="LN">450 </FONT><A NAME="450"></A>   * 
<FONT ID="LN">451 </FONT><A NAME="451"></A>   * &lt;pre&gt; -nom &amp;lt;classname + options&amp;gt;
<FONT ID="LN">452 </FONT><A NAME="452"></A>   *  Sets the nominal generator
<FONT ID="LN">453 </FONT><A NAME="453"></A>   *  (default: weka.classifiers.meta.generators.NominalGenerator)&lt;/pre&gt;
<FONT ID="LN">454 </FONT><A NAME="454"></A>   * 
<FONT ID="LN">455 </FONT><A NAME="455"></A>   * &lt;pre&gt; -L
<FONT ID="LN">456 </FONT><A NAME="456"></A>   *  Sets whether to correct the number of classes to two,
<FONT ID="LN">457 </FONT><A NAME="457"></A>   *  if omitted no correction will be made.&lt;/pre&gt;
<FONT ID="LN">458 </FONT><A NAME="458"></A>   * 
<FONT ID="LN">459 </FONT><A NAME="459"></A>   * &lt;pre&gt; -E
<FONT ID="LN">460 </FONT><A NAME="460"></A>   *  Sets whether to exclusively use the density estimate.&lt;/pre&gt;
<FONT ID="LN">461 </FONT><A NAME="461"></A>   * 
<FONT ID="LN">462 </FONT><A NAME="462"></A>   * &lt;pre&gt; -I
<FONT ID="LN">463 </FONT><A NAME="463"></A>   *  Sets whether to use instance weights.&lt;/pre&gt;
<FONT ID="LN">464 </FONT><A NAME="464"></A>   * 
<FONT ID="LN">465 </FONT><A NAME="465"></A>   * &lt;pre&gt; -S &amp;lt;num&amp;gt;
<FONT ID="LN">466 </FONT><A NAME="466"></A>   *  Random number seed.
<FONT ID="LN">467 </FONT><A NAME="467"></A>   *  (default 1)&lt;/pre&gt;
<FONT ID="LN">468 </FONT><A NAME="468"></A>   * 
<FONT ID="LN">469 </FONT><A NAME="469"></A>   * &lt;pre&gt; -D
<FONT ID="LN">470 </FONT><A NAME="470"></A>   *  If set, classifier is run in debug mode and
<FONT ID="LN">471 </FONT><A NAME="471"></A>   *  may output additional info to the console&lt;/pre&gt;
<FONT ID="LN">472 </FONT><A NAME="472"></A>   * 
<FONT ID="LN">473 </FONT><A NAME="473"></A>   * &lt;pre&gt; -W
<FONT ID="LN">474 </FONT><A NAME="474"></A>   *  Full name of base classifier.
<FONT ID="LN">475 </FONT><A NAME="475"></A>   *  (default: weka.classifiers.meta.Bagging)&lt;/pre&gt;
<FONT ID="LN">476 </FONT><A NAME="476"></A>   * 
<FONT ID="LN">477 </FONT><A NAME="477"></A>   * &lt;pre&gt; 
<FONT ID="LN">478 </FONT><A NAME="478"></A>   * Options specific to classifier weka.classifiers.meta.Bagging:
<FONT ID="LN">479 </FONT><A NAME="479"></A>   * &lt;/pre&gt;
<FONT ID="LN">480 </FONT><A NAME="480"></A>   * 
<FONT ID="LN">481 </FONT><A NAME="481"></A>   * &lt;pre&gt; -P
<FONT ID="LN">482 </FONT><A NAME="482"></A>   *  Size of each bag, as a percentage of the
<FONT ID="LN">483 </FONT><A NAME="483"></A>   *  training set size. (default 100)&lt;/pre&gt;
<FONT ID="LN">484 </FONT><A NAME="484"></A>   * 
<FONT ID="LN">485 </FONT><A NAME="485"></A>   * &lt;pre&gt; -O
<FONT ID="LN">486 </FONT><A NAME="486"></A>   *  Calculate the out of bag error.&lt;/pre&gt;
<FONT ID="LN">487 </FONT><A NAME="487"></A>   * 
<FONT ID="LN">488 </FONT><A NAME="488"></A>   * &lt;pre&gt; -S &amp;lt;num&amp;gt;
<FONT ID="LN">489 </FONT><A NAME="489"></A>   *  Random number seed.
<FONT ID="LN">490 </FONT><A NAME="490"></A>   *  (default 1)&lt;/pre&gt;
<FONT ID="LN">491 </FONT><A NAME="491"></A>   * 
<FONT ID="LN">492 </FONT><A NAME="492"></A>   * &lt;pre&gt; -I &amp;lt;num&amp;gt;
<FONT ID="LN">493 </FONT><A NAME="493"></A>   *  Number of iterations.
<FONT ID="LN">494 </FONT><A NAME="494"></A>   *  (default 10)&lt;/pre&gt;
<FONT ID="LN">495 </FONT><A NAME="495"></A>   * 
<FONT ID="LN">496 </FONT><A NAME="496"></A>   * &lt;pre&gt; -D
<FONT ID="LN">497 </FONT><A NAME="497"></A>   *  If set, classifier is run in debug mode and
<FONT ID="LN">498 </FONT><A NAME="498"></A>   *  may output additional info to the console&lt;/pre&gt;
<FONT ID="LN">499 </FONT><A NAME="499"></A>   * 
<FONT ID="LN">500 </FONT><A NAME="500"></A>   * &lt;pre&gt; -W
<FONT ID="LN">501 </FONT><A NAME="501"></A>   *  Full name of base classifier.
<FONT ID="LN">502 </FONT><A NAME="502"></A>   *  (default: weka.classifiers.trees.REPTree)&lt;/pre&gt;
<FONT ID="LN">503 </FONT><A NAME="503"></A>   * 
<FONT ID="LN">504 </FONT><A NAME="504"></A>   * &lt;pre&gt; 
<FONT ID="LN">505 </FONT><A NAME="505"></A>   * Options specific to classifier weka.classifiers.trees.REPTree:
<FONT ID="LN">506 </FONT><A NAME="506"></A>   * &lt;/pre&gt;
<FONT ID="LN">507 </FONT><A NAME="507"></A>   * 
<FONT ID="LN">508 </FONT><A NAME="508"></A>   * &lt;pre&gt; -M &amp;lt;minimum number of instances&amp;gt;
<FONT ID="LN">509 </FONT><A NAME="509"></A>   *  Set minimum number of instances per leaf (default 2).&lt;/pre&gt;
<FONT ID="LN">510 </FONT><A NAME="510"></A>   * 
<FONT ID="LN">511 </FONT><A NAME="511"></A>   * &lt;pre&gt; -V &amp;lt;minimum variance for split&amp;gt;
<FONT ID="LN">512 </FONT><A NAME="512"></A>   *  Set minimum numeric class variance proportion
<FONT ID="LN">513 </FONT><A NAME="513"></A>   *  of train variance for split (default 1e-3).&lt;/pre&gt;
<FONT ID="LN">514 </FONT><A NAME="514"></A>   * 
<FONT ID="LN">515 </FONT><A NAME="515"></A>   * &lt;pre&gt; -N &amp;lt;number of folds&amp;gt;
<FONT ID="LN">516 </FONT><A NAME="516"></A>   *  Number of folds for reduced error pruning (default 3).&lt;/pre&gt;
<FONT ID="LN">517 </FONT><A NAME="517"></A>   * 
<FONT ID="LN">518 </FONT><A NAME="518"></A>   * &lt;pre&gt; -S &amp;lt;seed&amp;gt;
<FONT ID="LN">519 </FONT><A NAME="519"></A>   *  Seed for random data shuffling (default 1).&lt;/pre&gt;
<FONT ID="LN">520 </FONT><A NAME="520"></A>   * 
<FONT ID="LN">521 </FONT><A NAME="521"></A>   * &lt;pre&gt; -P
<FONT ID="LN">522 </FONT><A NAME="522"></A>   *  No pruning.&lt;/pre&gt;
<FONT ID="LN">523 </FONT><A NAME="523"></A>   * 
<FONT ID="LN">524 </FONT><A NAME="524"></A>   * &lt;pre&gt; -L
<FONT ID="LN">525 </FONT><A NAME="525"></A>   *  Maximum tree depth (default -1, no maximum)&lt;/pre&gt;
<FONT ID="LN">526 </FONT><A NAME="526"></A>   * 
<FONT ID="LN">527 </FONT><A NAME="527"></A>   &lt;!-- options-end --&gt;
<FONT ID="LN">528 </FONT><A NAME="528"></A>   *
<FONT ID="LN">529 </FONT><A NAME="529"></A>   * @param options The list of options as an array of strings.
<FONT ID="LN">530 </FONT><A NAME="530"></A>   * @throws Exception If an option is not supported.
<FONT ID="LN">531 </FONT><A NAME="531"></A>   */</FONT>
<FONT ID="LN">532 </FONT><A NAME="532"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setOptions(String[] options) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">533 </FONT><A NAME="533"></A>    String  tmpStr;
<FONT ID="LN">534 </FONT><A NAME="534"></A>    String[]    tmpOptions;
<FONT ID="LN">535 </FONT><A NAME="535"></A>
<FONT ID="LN">536 </FONT><A NAME="536"></A>    <FONT ID="SingleLineComment">// numeric generator
<FONT ID="LN">537 </FONT><A NAME="537"></A></FONT>    tmpStr = Utils.getOption(<FONT ID="StringLiteral">"num"</FONT>, options);
<FONT ID="LN">538 </FONT><A NAME="538"></A>    <FONT ID="If">if</FONT> (tmpStr.length() != <FONT ID="IntegerLiteral">0</FONT>) { 
<FONT ID="LN">539 </FONT><A NAME="539"></A>      tmpOptions    = Utils.splitOptions(tmpStr);
<FONT ID="LN">540 </FONT><A NAME="540"></A>      tmpStr        = tmpOptions[<FONT ID="IntegerLiteral">0</FONT>];
<FONT ID="LN">541 </FONT><A NAME="541"></A>      tmpOptions[<FONT ID="IntegerLiteral">0</FONT>] = <FONT ID="StringLiteral">""</FONT>;
<FONT ID="LN">542 </FONT><A NAME="542"></A>      setNumericGenerator((<A HREF="../../../weka/classifiers/meta/generators/NumericAttributeGenerator.java.html">NumericAttributeGenerator</A>) Utils.forName(<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>.<FONT ID="Class">class</FONT>, tmpStr, tmpOptions));
<FONT ID="LN">543 </FONT><A NAME="543"></A>    }
<FONT ID="LN">544 </FONT><A NAME="544"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">545 </FONT><A NAME="545"></A>      setNumericGenerator((<A HREF="../../../weka/classifiers/meta/generators/NumericAttributeGenerator.java.html">NumericAttributeGenerator</A>) Utils.forName(<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>.<FONT ID="Class">class</FONT>, defaultNumericGeneratorString(), <FONT ID="Null">null</FONT>));
<FONT ID="LN">546 </FONT><A NAME="546"></A>    }
<FONT ID="LN">547 </FONT><A NAME="547"></A>
<FONT ID="LN">548 </FONT><A NAME="548"></A>    <FONT ID="SingleLineComment">// nominal generator
<FONT ID="LN">549 </FONT><A NAME="549"></A></FONT>    tmpStr = Utils.getOption(<FONT ID="StringLiteral">"nom"</FONT>, options);
<FONT ID="LN">550 </FONT><A NAME="550"></A>    <FONT ID="If">if</FONT> (tmpStr.length() != <FONT ID="IntegerLiteral">0</FONT>) { 
<FONT ID="LN">551 </FONT><A NAME="551"></A>      tmpOptions    = Utils.splitOptions(tmpStr);
<FONT ID="LN">552 </FONT><A NAME="552"></A>      tmpStr        = tmpOptions[<FONT ID="IntegerLiteral">0</FONT>];
<FONT ID="LN">553 </FONT><A NAME="553"></A>      tmpOptions[<FONT ID="IntegerLiteral">0</FONT>] = <FONT ID="StringLiteral">""</FONT>;
<FONT ID="LN">554 </FONT><A NAME="554"></A>      setNominalGenerator((<A HREF="../../../weka/classifiers/meta/generators/NominalAttributeGenerator.java.html">NominalAttributeGenerator</A>) Utils.forName(<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>.<FONT ID="Class">class</FONT>, tmpStr, tmpOptions));
<FONT ID="LN">555 </FONT><A NAME="555"></A>    }
<FONT ID="LN">556 </FONT><A NAME="556"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">557 </FONT><A NAME="557"></A>      setNominalGenerator((<A HREF="../../../weka/classifiers/meta/generators/NominalAttributeGenerator.java.html">NominalAttributeGenerator</A>) Utils.forName(<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>.<FONT ID="Class">class</FONT>, defaultNominalGeneratorString(), <FONT ID="Null">null</FONT>));
<FONT ID="LN">558 </FONT><A NAME="558"></A>    }
<FONT ID="LN">559 </FONT><A NAME="559"></A>
<FONT ID="LN">560 </FONT><A NAME="560"></A>    <FONT ID="SingleLineComment">//target rejection rate
<FONT ID="LN">561 </FONT><A NAME="561"></A></FONT>    tmpStr = Utils.getOption(<FONT ID="StringLiteral">"trr"</FONT>, options);
<FONT ID="LN">562 </FONT><A NAME="562"></A>    <FONT ID="If">if</FONT> (tmpStr.length() != <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">563 </FONT><A NAME="563"></A>      setTargetRejectionRate(Double.parseDouble(tmpStr));
<FONT ID="LN">564 </FONT><A NAME="564"></A>    <FONT ID="Else">else</FONT>
<FONT ID="LN">565 </FONT><A NAME="565"></A>      setTargetRejectionRate(<FONT ID="FloatPointLiteral">0.1</FONT>);
<FONT ID="LN">566 </FONT><A NAME="566"></A>
<FONT ID="LN">567 </FONT><A NAME="567"></A>    <FONT ID="SingleLineComment">//target class label
<FONT ID="LN">568 </FONT><A NAME="568"></A></FONT>    tmpStr = Utils.getOption(<FONT ID="StringLiteral">"tcl"</FONT>, options);
<FONT ID="LN">569 </FONT><A NAME="569"></A>    <FONT ID="If">if</FONT> (tmpStr.length() != <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">570 </FONT><A NAME="570"></A>      setTargetClassLabel(tmpStr);
<FONT ID="LN">571 </FONT><A NAME="571"></A>    <FONT ID="Else">else</FONT>
<FONT ID="LN">572 </FONT><A NAME="572"></A>      setTargetClassLabel(<FONT ID="StringLiteral">"target"</FONT>);
<FONT ID="LN">573 </FONT><A NAME="573"></A>
<FONT ID="LN">574 </FONT><A NAME="574"></A>    <FONT ID="SingleLineComment">//cross validation repeats
<FONT ID="LN">575 </FONT><A NAME="575"></A></FONT>    tmpStr = Utils.getOption(<FONT ID="StringLiteral">"cvr"</FONT>, options);
<FONT ID="LN">576 </FONT><A NAME="576"></A>    <FONT ID="If">if</FONT> (tmpStr.length() != <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">577 </FONT><A NAME="577"></A>      setNumRepeats(Integer.parseInt(tmpStr));
<FONT ID="LN">578 </FONT><A NAME="578"></A>    <FONT ID="Else">else</FONT>
<FONT ID="LN">579 </FONT><A NAME="579"></A>      setNumRepeats(<FONT ID="IntegerLiteral">10</FONT>);
<FONT ID="LN">580 </FONT><A NAME="580"></A>
<FONT ID="LN">581 </FONT><A NAME="581"></A>    <FONT ID="SingleLineComment">//cross validation fold size
<FONT ID="LN">582 </FONT><A NAME="582"></A></FONT>    tmpStr = Utils.getOption(<FONT ID="StringLiteral">"cvf"</FONT>, options);
<FONT ID="LN">583 </FONT><A NAME="583"></A>    <FONT ID="If">if</FONT> (tmpStr.length() != <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">584 </FONT><A NAME="584"></A>      setPercentageHeldout(Double.parseDouble(tmpStr));
<FONT ID="LN">585 </FONT><A NAME="585"></A>    <FONT ID="Else">else</FONT>
<FONT ID="LN">586 </FONT><A NAME="586"></A>      setPercentageHeldout(<FONT ID="FloatPointLiteral">10.0</FONT>);
<FONT ID="LN">587 </FONT><A NAME="587"></A>
<FONT ID="LN">588 </FONT><A NAME="588"></A>    <FONT ID="SingleLineComment">//proportion generated
<FONT ID="LN">589 </FONT><A NAME="589"></A></FONT>    tmpStr = Utils.getOption(<FONT ID="StringLiteral">"P"</FONT>, options);
<FONT ID="LN">590 </FONT><A NAME="590"></A>    <FONT ID="If">if</FONT> (tmpStr.length() != <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">591 </FONT><A NAME="591"></A>      setProportionGenerated(Double.parseDouble(tmpStr));
<FONT ID="LN">592 </FONT><A NAME="592"></A>    <FONT ID="Else">else</FONT>
<FONT ID="LN">593 </FONT><A NAME="593"></A>      setProportionGenerated(<FONT ID="FloatPointLiteral">0.5</FONT>);
<FONT ID="LN">594 </FONT><A NAME="594"></A>
<FONT ID="LN">595 </FONT><A NAME="595"></A>    <FONT ID="SingleLineComment">//use laplace
<FONT ID="LN">596 </FONT><A NAME="596"></A></FONT>    setUseLaplaceCorrection(Utils.getFlag(<FONT ID="CharacerLiteral">'L'</FONT>,options));
<FONT ID="LN">597 </FONT><A NAME="597"></A>
<FONT ID="LN">598 </FONT><A NAME="598"></A>    <FONT ID="SingleLineComment">//set whether to exclusively use the density estimate
<FONT ID="LN">599 </FONT><A NAME="599"></A></FONT>    setDensityOnly(Utils.getFlag(<FONT ID="CharacerLiteral">'E'</FONT>, options));
<FONT ID="LN">600 </FONT><A NAME="600"></A>
<FONT ID="LN">601 </FONT><A NAME="601"></A>    <FONT ID="SingleLineComment">//use instance weights
<FONT ID="LN">602 </FONT><A NAME="602"></A></FONT>    setUseInstanceWeights(Utils.getFlag(<FONT ID="CharacerLiteral">'I'</FONT>, options));
<FONT ID="LN">603 </FONT><A NAME="603"></A>    
<FONT ID="LN">604 </FONT><A NAME="604"></A>    <FONT ID="SingleLineComment">// set the parent's options first
<FONT ID="LN">605 </FONT><A NAME="605"></A></FONT>    <FONT ID="Super">super</FONT>.setOptions(options);
<FONT ID="LN">606 </FONT><A NAME="606"></A>  }
<FONT ID="LN">607 </FONT><A NAME="607"></A>
<FONT ID="LN">608 </FONT><A NAME="608"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">609 </FONT><A NAME="609"></A>   * Gets the current settings of the Classifier.
<FONT ID="LN">610 </FONT><A NAME="610"></A>   *
<FONT ID="LN">611 </FONT><A NAME="611"></A>   * @return An array of strings suitable for passing to setOptions.
<FONT ID="LN">612 </FONT><A NAME="612"></A>   */</FONT>
<FONT ID="LN">613 </FONT><A NAME="613"></A>  <FONT ID="Public">public</FONT> String[] getOptions() {
<FONT ID="LN">614 </FONT><A NAME="614"></A>    Vector&lt;String&gt;  result;
<FONT ID="LN">615 </FONT><A NAME="615"></A>    String[]        options;
<FONT ID="LN">616 </FONT><A NAME="616"></A>    <FONT ID="Int">int</FONT>         i;
<FONT ID="LN">617 </FONT><A NAME="617"></A>
<FONT ID="LN">618 </FONT><A NAME="618"></A>    result = <FONT ID="New">new</FONT> Vector&lt;String&gt;();
<FONT ID="LN">619 </FONT><A NAME="619"></A>    
<FONT ID="LN">620 </FONT><A NAME="620"></A>    result.add(<FONT ID="StringLiteral">"-num"</FONT>);
<FONT ID="LN">621 </FONT><A NAME="621"></A>    result.add(
<FONT ID="LN">622 </FONT><A NAME="622"></A>      m_DefaultNumericGenerator.getClass().getName() 
<FONT ID="LN">623 </FONT><A NAME="623"></A>    + <FONT ID="StringLiteral">" "</FONT> 
<FONT ID="LN">624 </FONT><A NAME="624"></A>      + Utils.joinOptions(((<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>)m_DefaultNumericGenerator).getOptions()));
<FONT ID="LN">625 </FONT><A NAME="625"></A>
<FONT ID="LN">626 </FONT><A NAME="626"></A>    result.add(<FONT ID="StringLiteral">"-nom"</FONT>);
<FONT ID="LN">627 </FONT><A NAME="627"></A>    result.add(
<FONT ID="LN">628 </FONT><A NAME="628"></A>      m_DefaultNominalGenerator.getClass().getName() 
<FONT ID="LN">629 </FONT><A NAME="629"></A>    + <FONT ID="StringLiteral">" "</FONT> 
<FONT ID="LN">630 </FONT><A NAME="630"></A>      + Utils.joinOptions(((<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>)m_DefaultNominalGenerator).getOptions()));
<FONT ID="LN">631 </FONT><A NAME="631"></A>    
<FONT ID="LN">632 </FONT><A NAME="632"></A>    result.add(<FONT ID="StringLiteral">"-trr"</FONT>);
<FONT ID="LN">633 </FONT><A NAME="633"></A>    result.add(<FONT ID="StringLiteral">""</FONT> + m_TargetRejectionRate);
<FONT ID="LN">634 </FONT><A NAME="634"></A>    
<FONT ID="LN">635 </FONT><A NAME="635"></A>    result.add(<FONT ID="StringLiteral">"-tcl"</FONT>);
<FONT ID="LN">636 </FONT><A NAME="636"></A>    result.add(<FONT ID="StringLiteral">""</FONT> + m_TargetClassLabel);
<FONT ID="LN">637 </FONT><A NAME="637"></A>    
<FONT ID="LN">638 </FONT><A NAME="638"></A>    result.add(<FONT ID="StringLiteral">"-cvr"</FONT>);
<FONT ID="LN">639 </FONT><A NAME="639"></A>    result.add(<FONT ID="StringLiteral">""</FONT> + m_NumRepeats);
<FONT ID="LN">640 </FONT><A NAME="640"></A>    
<FONT ID="LN">641 </FONT><A NAME="641"></A>    result.add(<FONT ID="StringLiteral">"-cvf"</FONT>);
<FONT ID="LN">642 </FONT><A NAME="642"></A>    result.add(<FONT ID="StringLiteral">""</FONT> + m_PercentHeldout);
<FONT ID="LN">643 </FONT><A NAME="643"></A>    
<FONT ID="LN">644 </FONT><A NAME="644"></A>    result.add(<FONT ID="StringLiteral">"-P"</FONT>);
<FONT ID="LN">645 </FONT><A NAME="645"></A>    result.add(<FONT ID="StringLiteral">""</FONT> + m_ProportionGenerated);
<FONT ID="LN">646 </FONT><A NAME="646"></A>    
<FONT ID="LN">647 </FONT><A NAME="647"></A>    <FONT ID="If">if</FONT> (m_UseLaplaceCorrection)
<FONT ID="LN">648 </FONT><A NAME="648"></A>      result.add(<FONT ID="StringLiteral">"-L"</FONT>);    
<FONT ID="LN">649 </FONT><A NAME="649"></A>  
<FONT ID="LN">650 </FONT><A NAME="650"></A>    <FONT ID="If">if</FONT> (m_UseDensityOnly)
<FONT ID="LN">651 </FONT><A NAME="651"></A>      result.add(<FONT ID="StringLiteral">"-E"</FONT>);
<FONT ID="LN">652 </FONT><A NAME="652"></A>    
<FONT ID="LN">653 </FONT><A NAME="653"></A>    <FONT ID="If">if</FONT> (m_UseInstanceWeights)
<FONT ID="LN">654 </FONT><A NAME="654"></A>      result.add(<FONT ID="StringLiteral">"-I"</FONT>);
<FONT ID="LN">655 </FONT><A NAME="655"></A>
<FONT ID="LN">656 </FONT><A NAME="656"></A>    options = <FONT ID="Super">super</FONT>.getOptions();
<FONT ID="LN">657 </FONT><A NAME="657"></A>    <FONT ID="For">for</FONT> (i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; options.length; i++)
<FONT ID="LN">658 </FONT><A NAME="658"></A>      result.add(options[i]);
<FONT ID="LN">659 </FONT><A NAME="659"></A>
<FONT ID="LN">660 </FONT><A NAME="660"></A>    <FONT ID="Return">return</FONT> result.toArray(<FONT ID="New">new</FONT> String[result.size()]);
<FONT ID="LN">661 </FONT><A NAME="661"></A>  }
<FONT ID="LN">662 </FONT><A NAME="662"></A>
<FONT ID="LN">663 </FONT><A NAME="663"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">664 </FONT><A NAME="664"></A>   * Gets whether only the density estimate should be used by the classifier.  If false,
<FONT ID="LN">665 </FONT><A NAME="665"></A>   * the base classifier's estimate will be incorporated using bayes rule for two classes.
<FONT ID="LN">666 </FONT><A NAME="666"></A>   *
<FONT ID="LN">667 </FONT><A NAME="667"></A>   * @return Whether to use only the density estimate.
<FONT ID="LN">668 </FONT><A NAME="668"></A>   */</FONT>
<FONT ID="LN">669 </FONT><A NAME="669"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getDensityOnly() {
<FONT ID="LN">670 </FONT><A NAME="670"></A>    <FONT ID="Return">return</FONT> m_UseDensityOnly;
<FONT ID="LN">671 </FONT><A NAME="671"></A>  }
<FONT ID="LN">672 </FONT><A NAME="672"></A>
<FONT ID="LN">673 </FONT><A NAME="673"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">674 </FONT><A NAME="674"></A>   * Sets whether the density estimate will be used by itself.
<FONT ID="LN">675 </FONT><A NAME="675"></A>   *
<FONT ID="LN">676 </FONT><A NAME="676"></A>   * @param density Whether to use the density estimate exclusively or not.
<FONT ID="LN">677 </FONT><A NAME="677"></A>   */</FONT>
<FONT ID="LN">678 </FONT><A NAME="678"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setDensityOnly(<FONT ID="Boolean">boolean</FONT> density) {
<FONT ID="LN">679 </FONT><A NAME="679"></A>    m_UseDensityOnly = density;
<FONT ID="LN">680 </FONT><A NAME="680"></A>  }
<FONT ID="LN">681 </FONT><A NAME="681"></A>  
<FONT ID="LN">682 </FONT><A NAME="682"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">683 </FONT><A NAME="683"></A>   * Returns the tip text for this property.
<FONT ID="LN">684 </FONT><A NAME="684"></A>   * 
<FONT ID="LN">685 </FONT><A NAME="685"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">686 </FONT><A NAME="686"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">687 </FONT><A NAME="687"></A>   */</FONT>
<FONT ID="LN">688 </FONT><A NAME="688"></A>  <FONT ID="Public">public</FONT> String densityOnlyTipText() {
<FONT ID="LN">689 </FONT><A NAME="689"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"If true, the density estimate will be used by itself."</FONT>;
<FONT ID="LN">690 </FONT><A NAME="690"></A>  }
<FONT ID="LN">691 </FONT><A NAME="691"></A>
<FONT ID="LN">692 </FONT><A NAME="692"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">693 </FONT><A NAME="693"></A>   * Gets the target rejection rate - the proportion of target class samples
<FONT ID="LN">694 </FONT><A NAME="694"></A>   * that will be rejected in order to build a threshold.
<FONT ID="LN">695 </FONT><A NAME="695"></A>   *
<FONT ID="LN">696 </FONT><A NAME="696"></A>   * @return The target rejection rate.
<FONT ID="LN">697 </FONT><A NAME="697"></A>   */</FONT>
<FONT ID="LN">698 </FONT><A NAME="698"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getTargetRejectionRate() {
<FONT ID="LN">699 </FONT><A NAME="699"></A>    <FONT ID="Return">return</FONT> m_TargetRejectionRate;
<FONT ID="LN">700 </FONT><A NAME="700"></A>  }
<FONT ID="LN">701 </FONT><A NAME="701"></A>
<FONT ID="LN">702 </FONT><A NAME="702"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">703 </FONT><A NAME="703"></A>   * Sets the target rejection rate.
<FONT ID="LN">704 </FONT><A NAME="704"></A>   *
<FONT ID="LN">705 </FONT><A NAME="705"></A>   * @param rate The new target rejection rate.
<FONT ID="LN">706 </FONT><A NAME="706"></A>   */</FONT>
<FONT ID="LN">707 </FONT><A NAME="707"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setTargetRejectionRate(<FONT ID="Double">double</FONT> rate) {
<FONT ID="LN">708 </FONT><A NAME="708"></A>    m_TargetRejectionRate = rate;
<FONT ID="LN">709 </FONT><A NAME="709"></A>  }
<FONT ID="LN">710 </FONT><A NAME="710"></A>  
<FONT ID="LN">711 </FONT><A NAME="711"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">712 </FONT><A NAME="712"></A>   * Returns the tip text for this property.
<FONT ID="LN">713 </FONT><A NAME="713"></A>   * 
<FONT ID="LN">714 </FONT><A NAME="714"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">715 </FONT><A NAME="715"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">716 </FONT><A NAME="716"></A>   */</FONT>
<FONT ID="LN">717 </FONT><A NAME="717"></A>  <FONT ID="Public">public</FONT> String targetRejectionRateTipText() {
<FONT ID="LN">718 </FONT><A NAME="718"></A>    <FONT ID="Return">return</FONT> 
<FONT ID="LN">719 </FONT><A NAME="719"></A>        <FONT ID="StringLiteral">"The target rejection rate, ie, the proportion of target class "</FONT>
<FONT ID="LN">720 </FONT><A NAME="720"></A>      + <FONT ID="StringLiteral">"samples that will be rejected in order to build a threshold."</FONT>;
<FONT ID="LN">721 </FONT><A NAME="721"></A>  }
<FONT ID="LN">722 </FONT><A NAME="722"></A>
<FONT ID="LN">723 </FONT><A NAME="723"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">724 </FONT><A NAME="724"></A>   * Gets the target class label - the class label to perform one
<FONT ID="LN">725 </FONT><A NAME="725"></A>   * class classification on.
<FONT ID="LN">726 </FONT><A NAME="726"></A>   *
<FONT ID="LN">727 </FONT><A NAME="727"></A>   * @return The target class label.
<FONT ID="LN">728 </FONT><A NAME="728"></A>   */</FONT>
<FONT ID="LN">729 </FONT><A NAME="729"></A>  <FONT ID="Public">public</FONT> String getTargetClassLabel() {
<FONT ID="LN">730 </FONT><A NAME="730"></A>    <FONT ID="Return">return</FONT> m_TargetClassLabel;
<FONT ID="LN">731 </FONT><A NAME="731"></A>  }
<FONT ID="LN">732 </FONT><A NAME="732"></A>
<FONT ID="LN">733 </FONT><A NAME="733"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">734 </FONT><A NAME="734"></A>   * Sets the target class label to a new value.
<FONT ID="LN">735 </FONT><A NAME="735"></A>   *
<FONT ID="LN">736 </FONT><A NAME="736"></A>   * @param label The target class label to classify for.
<FONT ID="LN">737 </FONT><A NAME="737"></A>   */</FONT>
<FONT ID="LN">738 </FONT><A NAME="738"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setTargetClassLabel(String label) {
<FONT ID="LN">739 </FONT><A NAME="739"></A>    m_TargetClassLabel = label;
<FONT ID="LN">740 </FONT><A NAME="740"></A>  }
<FONT ID="LN">741 </FONT><A NAME="741"></A>  
<FONT ID="LN">742 </FONT><A NAME="742"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">743 </FONT><A NAME="743"></A>   * Returns the tip text for this property.
<FONT ID="LN">744 </FONT><A NAME="744"></A>   * 
<FONT ID="LN">745 </FONT><A NAME="745"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">746 </FONT><A NAME="746"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">747 </FONT><A NAME="747"></A>   */</FONT>
<FONT ID="LN">748 </FONT><A NAME="748"></A>  <FONT ID="Public">public</FONT> String targetClassLabelTipText() {
<FONT ID="LN">749 </FONT><A NAME="749"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The class label to perform one-class classification on."</FONT>;
<FONT ID="LN">750 </FONT><A NAME="750"></A>  }
<FONT ID="LN">751 </FONT><A NAME="751"></A>
<FONT ID="LN">752 </FONT><A NAME="752"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">753 </FONT><A NAME="753"></A>   * Gets the number of repeats for (internal) cross validation.
<FONT ID="LN">754 </FONT><A NAME="754"></A>   *
<FONT ID="LN">755 </FONT><A NAME="755"></A>   * @return The number of repeats for internal cross validation.
<FONT ID="LN">756 </FONT><A NAME="756"></A>   */</FONT>
<FONT ID="LN">757 </FONT><A NAME="757"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getNumRepeats() {
<FONT ID="LN">758 </FONT><A NAME="758"></A>    <FONT ID="Return">return</FONT> m_NumRepeats;
<FONT ID="LN">759 </FONT><A NAME="759"></A>  }
<FONT ID="LN">760 </FONT><A NAME="760"></A>
<FONT ID="LN">761 </FONT><A NAME="761"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">762 </FONT><A NAME="762"></A>   * Sets the number of repeats for (internal) cross validation to a new value.
<FONT ID="LN">763 </FONT><A NAME="763"></A>   *
<FONT ID="LN">764 </FONT><A NAME="764"></A>   * @param repeats The new number of repeats for cross validation.
<FONT ID="LN">765 </FONT><A NAME="765"></A>   */</FONT>
<FONT ID="LN">766 </FONT><A NAME="766"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setNumRepeats(<FONT ID="Int">int</FONT> repeats) {
<FONT ID="LN">767 </FONT><A NAME="767"></A>    m_NumRepeats = repeats;
<FONT ID="LN">768 </FONT><A NAME="768"></A>  }
<FONT ID="LN">769 </FONT><A NAME="769"></A>  
<FONT ID="LN">770 </FONT><A NAME="770"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">771 </FONT><A NAME="771"></A>   * Returns the tip text for this property.
<FONT ID="LN">772 </FONT><A NAME="772"></A>   * 
<FONT ID="LN">773 </FONT><A NAME="773"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">774 </FONT><A NAME="774"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">775 </FONT><A NAME="775"></A>   */</FONT>
<FONT ID="LN">776 </FONT><A NAME="776"></A>  <FONT ID="Public">public</FONT> String numRepeatsTipText() {
<FONT ID="LN">777 </FONT><A NAME="777"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The number of repeats for (internal) cross-validation."</FONT>;
<FONT ID="LN">778 </FONT><A NAME="778"></A>  }
<FONT ID="LN">779 </FONT><A NAME="779"></A>
<FONT ID="LN">780 </FONT><A NAME="780"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">781 </FONT><A NAME="781"></A>   * Sets the proportion of generated data to a new value.
<FONT ID="LN">782 </FONT><A NAME="782"></A>   *
<FONT ID="LN">783 </FONT><A NAME="783"></A>   * @param prop The new proportion.
<FONT ID="LN">784 </FONT><A NAME="784"></A>   */</FONT>
<FONT ID="LN">785 </FONT><A NAME="785"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setProportionGenerated(<FONT ID="Double">double</FONT> prop) {
<FONT ID="LN">786 </FONT><A NAME="786"></A>    m_ProportionGenerated = prop;
<FONT ID="LN">787 </FONT><A NAME="787"></A>  }
<FONT ID="LN">788 </FONT><A NAME="788"></A>
<FONT ID="LN">789 </FONT><A NAME="789"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">790 </FONT><A NAME="790"></A>   * Gets the proportion of data that will be generated compared to the 
<FONT ID="LN">791 </FONT><A NAME="791"></A>   * target class label.
<FONT ID="LN">792 </FONT><A NAME="792"></A>   *
<FONT ID="LN">793 </FONT><A NAME="793"></A>   * @return The proportion of generated data.
<FONT ID="LN">794 </FONT><A NAME="794"></A>   */</FONT>
<FONT ID="LN">795 </FONT><A NAME="795"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getProportionGenerated() {
<FONT ID="LN">796 </FONT><A NAME="796"></A>    <FONT ID="Return">return</FONT> m_ProportionGenerated;
<FONT ID="LN">797 </FONT><A NAME="797"></A>  }
<FONT ID="LN">798 </FONT><A NAME="798"></A>  
<FONT ID="LN">799 </FONT><A NAME="799"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">800 </FONT><A NAME="800"></A>   * Returns the tip text for this property.
<FONT ID="LN">801 </FONT><A NAME="801"></A>   * 
<FONT ID="LN">802 </FONT><A NAME="802"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">803 </FONT><A NAME="803"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">804 </FONT><A NAME="804"></A>   */</FONT>
<FONT ID="LN">805 </FONT><A NAME="805"></A>  <FONT ID="Public">public</FONT> String proportionGeneratedTipText() {
<FONT ID="LN">806 </FONT><A NAME="806"></A>    <FONT ID="Return">return</FONT> 
<FONT ID="LN">807 </FONT><A NAME="807"></A>        <FONT ID="StringLiteral">"The proportion of data that will be generated compared to the "</FONT>
<FONT ID="LN">808 </FONT><A NAME="808"></A>      + <FONT ID="StringLiteral">"target class label."</FONT>;
<FONT ID="LN">809 </FONT><A NAME="809"></A>  }
<FONT ID="LN">810 </FONT><A NAME="810"></A>
<FONT ID="LN">811 </FONT><A NAME="811"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">812 </FONT><A NAME="812"></A>   * Sets the percentage heldout in each CV fold.
<FONT ID="LN">813 </FONT><A NAME="813"></A>   *
<FONT ID="LN">814 </FONT><A NAME="814"></A>   * @param percent The new percent of heldout data.
<FONT ID="LN">815 </FONT><A NAME="815"></A>   */</FONT>
<FONT ID="LN">816 </FONT><A NAME="816"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setPercentageHeldout(<FONT ID="Double">double</FONT> percent) {
<FONT ID="LN">817 </FONT><A NAME="817"></A>    m_PercentHeldout = percent;
<FONT ID="LN">818 </FONT><A NAME="818"></A>  }
<FONT ID="LN">819 </FONT><A NAME="819"></A>
<FONT ID="LN">820 </FONT><A NAME="820"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">821 </FONT><A NAME="821"></A>   * Gets the percentage of data that will be heldout in each
<FONT ID="LN">822 </FONT><A NAME="822"></A>   * iteration of cross validation.
<FONT ID="LN">823 </FONT><A NAME="823"></A>   *
<FONT ID="LN">824 </FONT><A NAME="824"></A>   * @return The percentage of heldout data.
<FONT ID="LN">825 </FONT><A NAME="825"></A>   */</FONT>
<FONT ID="LN">826 </FONT><A NAME="826"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getPercentageHeldout() {
<FONT ID="LN">827 </FONT><A NAME="827"></A>    <FONT ID="Return">return</FONT> m_PercentHeldout;
<FONT ID="LN">828 </FONT><A NAME="828"></A>  }
<FONT ID="LN">829 </FONT><A NAME="829"></A>  
<FONT ID="LN">830 </FONT><A NAME="830"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">831 </FONT><A NAME="831"></A>   * Returns the tip text for this property.
<FONT ID="LN">832 </FONT><A NAME="832"></A>   * 
<FONT ID="LN">833 </FONT><A NAME="833"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">834 </FONT><A NAME="834"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">835 </FONT><A NAME="835"></A>   */</FONT>
<FONT ID="LN">836 </FONT><A NAME="836"></A>  <FONT ID="Public">public</FONT> String percentageHeldoutTipText() {
<FONT ID="LN">837 </FONT><A NAME="837"></A>    <FONT ID="Return">return</FONT> 
<FONT ID="LN">838 </FONT><A NAME="838"></A>        <FONT ID="StringLiteral">"The percentage of data that will be heldout in each iteration "</FONT>
<FONT ID="LN">839 </FONT><A NAME="839"></A>      + <FONT ID="StringLiteral">"of (internal) cross-validation."</FONT>;
<FONT ID="LN">840 </FONT><A NAME="840"></A>  }
<FONT ID="LN">841 </FONT><A NAME="841"></A>
<FONT ID="LN">842 </FONT><A NAME="842"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">843 </FONT><A NAME="843"></A>   * Gets thegenerator that will be used by default to generate 
<FONT ID="LN">844 </FONT><A NAME="844"></A>   * numeric outlier data.
<FONT ID="LN">845 </FONT><A NAME="845"></A>   *
<FONT ID="LN">846 </FONT><A NAME="846"></A>   * @return The numeric data generator.
<FONT ID="LN">847 </FONT><A NAME="847"></A>   */</FONT>
<FONT ID="LN">848 </FONT><A NAME="848"></A>  <FONT ID="Public">public</FONT> <A HREF="../../../weka/classifiers/meta/generators/NumericAttributeGenerator.java.html">NumericAttributeGenerator</A> getNumericGenerator() {
<FONT ID="LN">849 </FONT><A NAME="849"></A>    <FONT ID="Return">return</FONT> m_DefaultNumericGenerator;
<FONT ID="LN">850 </FONT><A NAME="850"></A>  }
<FONT ID="LN">851 </FONT><A NAME="851"></A>
<FONT ID="LN">852 </FONT><A NAME="852"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">853 </FONT><A NAME="853"></A>   * Sets the generator that will be used by default to generate
<FONT ID="LN">854 </FONT><A NAME="854"></A>   * numeric outlier data.
<FONT ID="LN">855 </FONT><A NAME="855"></A>   *
<FONT ID="LN">856 </FONT><A NAME="856"></A>   * @param agen The new numeric data generator to use.
<FONT ID="LN">857 </FONT><A NAME="857"></A>   */</FONT>
<FONT ID="LN">858 </FONT><A NAME="858"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setNumericGenerator(<A HREF="../../../weka/classifiers/meta/generators/NumericAttributeGenerator.java.html">NumericAttributeGenerator</A> agen) {
<FONT ID="LN">859 </FONT><A NAME="859"></A>    m_DefaultNumericGenerator = agen;
<FONT ID="LN">860 </FONT><A NAME="860"></A>  }
<FONT ID="LN">861 </FONT><A NAME="861"></A>  
<FONT ID="LN">862 </FONT><A NAME="862"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">863 </FONT><A NAME="863"></A>   * Returns the tip text for this property.
<FONT ID="LN">864 </FONT><A NAME="864"></A>   * 
<FONT ID="LN">865 </FONT><A NAME="865"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">866 </FONT><A NAME="866"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">867 </FONT><A NAME="867"></A>   */</FONT>
<FONT ID="LN">868 </FONT><A NAME="868"></A>  <FONT ID="Public">public</FONT> String numericGeneratorTipText() {
<FONT ID="LN">869 </FONT><A NAME="869"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The numeric data generator to use."</FONT>;
<FONT ID="LN">870 </FONT><A NAME="870"></A>  }
<FONT ID="LN">871 </FONT><A NAME="871"></A>
<FONT ID="LN">872 </FONT><A NAME="872"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">873 </FONT><A NAME="873"></A>   * Gets the generator that will be used by default to generate 
<FONT ID="LN">874 </FONT><A NAME="874"></A>   * nominal outlier data.
<FONT ID="LN">875 </FONT><A NAME="875"></A>   *
<FONT ID="LN">876 </FONT><A NAME="876"></A>   * @return The nominal data generator.
<FONT ID="LN">877 </FONT><A NAME="877"></A>   */</FONT>
<FONT ID="LN">878 </FONT><A NAME="878"></A>  <FONT ID="Public">public</FONT> <A HREF="../../../weka/classifiers/meta/generators/NominalAttributeGenerator.java.html">NominalAttributeGenerator</A> getNominalGenerator() {
<FONT ID="LN">879 </FONT><A NAME="879"></A>    <FONT ID="Return">return</FONT> m_DefaultNominalGenerator;
<FONT ID="LN">880 </FONT><A NAME="880"></A>  }
<FONT ID="LN">881 </FONT><A NAME="881"></A>
<FONT ID="LN">882 </FONT><A NAME="882"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">883 </FONT><A NAME="883"></A>   * Sets the generator that will be used by default to generate
<FONT ID="LN">884 </FONT><A NAME="884"></A>   * nominal outlier data.
<FONT ID="LN">885 </FONT><A NAME="885"></A>   *
<FONT ID="LN">886 </FONT><A NAME="886"></A>   * @param agen The new nominal data generator to use.
<FONT ID="LN">887 </FONT><A NAME="887"></A>   */</FONT>
<FONT ID="LN">888 </FONT><A NAME="888"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setNominalGenerator(<A HREF="../../../weka/classifiers/meta/generators/NominalAttributeGenerator.java.html">NominalAttributeGenerator</A> agen) {
<FONT ID="LN">889 </FONT><A NAME="889"></A>    m_DefaultNominalGenerator = agen;
<FONT ID="LN">890 </FONT><A NAME="890"></A>  }
<FONT ID="LN">891 </FONT><A NAME="891"></A>  
<FONT ID="LN">892 </FONT><A NAME="892"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">893 </FONT><A NAME="893"></A>   * Returns the tip text for this property.
<FONT ID="LN">894 </FONT><A NAME="894"></A>   * 
<FONT ID="LN">895 </FONT><A NAME="895"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">896 </FONT><A NAME="896"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">897 </FONT><A NAME="897"></A>   */</FONT>
<FONT ID="LN">898 </FONT><A NAME="898"></A>  <FONT ID="Public">public</FONT> String nominalGeneratorTipText() {
<FONT ID="LN">899 </FONT><A NAME="899"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The nominal data generator to use."</FONT>;
<FONT ID="LN">900 </FONT><A NAME="900"></A>  }
<FONT ID="LN">901 </FONT><A NAME="901"></A>
<FONT ID="LN">902 </FONT><A NAME="902"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">903 </FONT><A NAME="903"></A>   * Gets whether a laplace correction should be used.
<FONT ID="LN">904 </FONT><A NAME="904"></A>   *
<FONT ID="LN">905 </FONT><A NAME="905"></A>   * @return Whether a laplace correction should be used.
<FONT ID="LN">906 </FONT><A NAME="906"></A>   */</FONT>
<FONT ID="LN">907 </FONT><A NAME="907"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getUseLaplaceCorrection() {
<FONT ID="LN">908 </FONT><A NAME="908"></A>    <FONT ID="Return">return</FONT> m_UseLaplaceCorrection;
<FONT ID="LN">909 </FONT><A NAME="909"></A>  }
<FONT ID="LN">910 </FONT><A NAME="910"></A>
<FONT ID="LN">911 </FONT><A NAME="911"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">912 </FONT><A NAME="912"></A>   * Sets whether a laplace correction should be used.  A laplace
<FONT ID="LN">913 </FONT><A NAME="913"></A>   * correction will reduce the number of class labels to two, the 
<FONT ID="LN">914 </FONT><A NAME="914"></A>   * target and outlier classes, regardless of how many labels 
<FONT ID="LN">915 </FONT><A NAME="915"></A>   * actually exist.  This is useful for classifiers that use
<FONT ID="LN">916 </FONT><A NAME="916"></A>   * the number of class labels to make use a laplace value
<FONT ID="LN">917 </FONT><A NAME="917"></A>   * based on the unseen class.
<FONT ID="LN">918 </FONT><A NAME="918"></A>   *
<FONT ID="LN">919 </FONT><A NAME="919"></A>   * @param newuse Whether to use the laplace correction (default: true).
<FONT ID="LN">920 </FONT><A NAME="920"></A>   */</FONT>
<FONT ID="LN">921 </FONT><A NAME="921"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setUseLaplaceCorrection(<FONT ID="Boolean">boolean</FONT> newuse) {
<FONT ID="LN">922 </FONT><A NAME="922"></A>    m_UseLaplaceCorrection = newuse;
<FONT ID="LN">923 </FONT><A NAME="923"></A>  }
<FONT ID="LN">924 </FONT><A NAME="924"></A>  
<FONT ID="LN">925 </FONT><A NAME="925"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">926 </FONT><A NAME="926"></A>   * Returns the tip text for this property.
<FONT ID="LN">927 </FONT><A NAME="927"></A>   * 
<FONT ID="LN">928 </FONT><A NAME="928"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">929 </FONT><A NAME="929"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">930 </FONT><A NAME="930"></A>   */</FONT>
<FONT ID="LN">931 </FONT><A NAME="931"></A>  <FONT ID="Public">public</FONT> String useLaplaceCorrectionTipText() {
<FONT ID="LN">932 </FONT><A NAME="932"></A>    <FONT ID="Return">return</FONT> 
<FONT ID="LN">933 </FONT><A NAME="933"></A>        <FONT ID="StringLiteral">"If true, then Laplace correction will be used (reduces the "</FONT>
<FONT ID="LN">934 </FONT><A NAME="934"></A>      + <FONT ID="StringLiteral">"number of class labels to two, target and outlier class, regardless "</FONT>
<FONT ID="LN">935 </FONT><A NAME="935"></A>      + <FONT ID="StringLiteral">"of how many class labels actually exist) - useful for classifiers "</FONT>
<FONT ID="LN">936 </FONT><A NAME="936"></A>      + <FONT ID="StringLiteral">"that use the number of class labels to make use of a Laplace value "</FONT>
<FONT ID="LN">937 </FONT><A NAME="937"></A>      + <FONT ID="StringLiteral">"based on the unseen class."</FONT>;
<FONT ID="LN">938 </FONT><A NAME="938"></A>  }
<FONT ID="LN">939 </FONT><A NAME="939"></A>
<FONT ID="LN">940 </FONT><A NAME="940"></A>
<FONT ID="LN">941 </FONT><A NAME="941"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">942 </FONT><A NAME="942"></A>   * Sets whether to perform weighting on instances based on their
<FONT ID="LN">943 </FONT><A NAME="943"></A>   * prevalence in the data.
<FONT ID="LN">944 </FONT><A NAME="944"></A>   *
<FONT ID="LN">945 </FONT><A NAME="945"></A>   * @param newuse Whether or not to use instance weighting.
<FONT ID="LN">946 </FONT><A NAME="946"></A>   */</FONT>
<FONT ID="LN">947 </FONT><A NAME="947"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setUseInstanceWeights(<FONT ID="Boolean">boolean</FONT> newuse) {
<FONT ID="LN">948 </FONT><A NAME="948"></A>    m_UseInstanceWeights = newuse;
<FONT ID="LN">949 </FONT><A NAME="949"></A>  }
<FONT ID="LN">950 </FONT><A NAME="950"></A>
<FONT ID="LN">951 </FONT><A NAME="951"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">952 </FONT><A NAME="952"></A>   * Gets whether instance weighting will be performed.
<FONT ID="LN">953 </FONT><A NAME="953"></A>   *
<FONT ID="LN">954 </FONT><A NAME="954"></A>   * @return Whether instance weighting will be performed.
<FONT ID="LN">955 </FONT><A NAME="955"></A>   */</FONT>
<FONT ID="LN">956 </FONT><A NAME="956"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getUseInstanceWeights() {
<FONT ID="LN">957 </FONT><A NAME="957"></A>    <FONT ID="Return">return</FONT> m_UseInstanceWeights;
<FONT ID="LN">958 </FONT><A NAME="958"></A>  }
<FONT ID="LN">959 </FONT><A NAME="959"></A>  
<FONT ID="LN">960 </FONT><A NAME="960"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">961 </FONT><A NAME="961"></A>   * Returns the tip text for this property.
<FONT ID="LN">962 </FONT><A NAME="962"></A>   * 
<FONT ID="LN">963 </FONT><A NAME="963"></A>   * @return        tip text for this property suitable for
<FONT ID="LN">964 </FONT><A NAME="964"></A>   *            displaying in the explorer/experimenter gui
<FONT ID="LN">965 </FONT><A NAME="965"></A>   */</FONT>
<FONT ID="LN">966 </FONT><A NAME="966"></A>  <FONT ID="Public">public</FONT> String useInstanceWeightsTipText() {
<FONT ID="LN">967 </FONT><A NAME="967"></A>    <FONT ID="Return">return</FONT> 
<FONT ID="LN">968 </FONT><A NAME="968"></A>        <FONT ID="StringLiteral">"If true, the weighting on instances is based on their prevalence "</FONT>
<FONT ID="LN">969 </FONT><A NAME="969"></A>      + <FONT ID="StringLiteral">"in the data."</FONT>;
<FONT ID="LN">970 </FONT><A NAME="970"></A>  }
<FONT ID="LN">971 </FONT><A NAME="971"></A>
<FONT ID="LN">972 </FONT><A NAME="972"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">973 </FONT><A NAME="973"></A>   * String describing default internal classifier.
<FONT ID="LN">974 </FONT><A NAME="974"></A>   * 
<FONT ID="LN">975 </FONT><A NAME="975"></A>   * @return The default classifier classname.
<FONT ID="LN">976 </FONT><A NAME="976"></A>   */</FONT>
<FONT ID="LN">977 </FONT><A NAME="977"></A>  <FONT ID="Protected">protected</FONT> String defaultClassifierString() {    
<FONT ID="LN">978 </FONT><A NAME="978"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"weka.classifiers.meta.Bagging"</FONT>;
<FONT ID="LN">979 </FONT><A NAME="979"></A>  }
<FONT ID="LN">980 </FONT><A NAME="980"></A>
<FONT ID="LN">981 </FONT><A NAME="981"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">982 </FONT><A NAME="982"></A>   * String describing default generator / density estimator.
<FONT ID="LN">983 </FONT><A NAME="983"></A>   * 
<FONT ID="LN">984 </FONT><A NAME="984"></A>   * @return The default numeric generator classname.
<FONT ID="LN">985 </FONT><A NAME="985"></A>   */</FONT>
<FONT ID="LN">986 </FONT><A NAME="986"></A>  <FONT ID="Protected">protected</FONT> String defaultNumericGeneratorString() {    
<FONT ID="LN">987 </FONT><A NAME="987"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"weka.classifiers.meta.generators.GaussianGenerator"</FONT>;
<FONT ID="LN">988 </FONT><A NAME="988"></A>  }
<FONT ID="LN">989 </FONT><A NAME="989"></A>
<FONT ID="LN">990 </FONT><A NAME="990"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">991 </FONT><A NAME="991"></A>   * String describing default generator / density estimator.
<FONT ID="LN">992 </FONT><A NAME="992"></A>   * 
<FONT ID="LN">993 </FONT><A NAME="993"></A>   * @return The default nominal generator classname.
<FONT ID="LN">994 </FONT><A NAME="994"></A>   */</FONT>
<FONT ID="LN">995 </FONT><A NAME="995"></A>  <FONT ID="Protected">protected</FONT> String defaultNominalGeneratorString() {    
<FONT ID="LN">996 </FONT><A NAME="996"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"weka.classifiers.meta.generators.NominalGenerator"</FONT>;
<FONT ID="LN">997 </FONT><A NAME="997"></A>  }
<FONT ID="LN">998 </FONT><A NAME="998"></A>
<FONT ID="LN">999 </FONT><A NAME="999"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1000</FONT><A NAME="1000"></A>   * Returns default capabilities of the base classifier.
<FONT ID="LN">1001</FONT><A NAME="1001"></A>   *
<FONT ID="LN">1002</FONT><A NAME="1002"></A>   * @return      the capabilities of the base classifier
<FONT ID="LN">1003</FONT><A NAME="1003"></A>   */</FONT>
<FONT ID="LN">1004</FONT><A NAME="1004"></A>  <FONT ID="Public">public</FONT> <A HREF="../../../weka/core/Capabilities.java.html">Capabilities</A> getCapabilities() {
<FONT ID="LN">1005</FONT><A NAME="1005"></A>    <A HREF="../../../weka/core/Capabilities.java.html">Capabilities</A>    result;
<FONT ID="LN">1006</FONT><A NAME="1006"></A>    
<FONT ID="LN">1007</FONT><A NAME="1007"></A>    result = <FONT ID="Super">super</FONT>.getCapabilities();
<FONT ID="LN">1008</FONT><A NAME="1008"></A>    
<FONT ID="LN">1009</FONT><A NAME="1009"></A>    <FONT ID="SingleLineComment">// only nominal classes can be processed!
<FONT ID="LN">1010</FONT><A NAME="1010"></A></FONT>    result.disableAllClasses();
<FONT ID="LN">1011</FONT><A NAME="1011"></A>    result.disableAllClassDependencies();
<FONT ID="LN">1012</FONT><A NAME="1012"></A>    result.enable(Capability.NOMINAL_CLASS);
<FONT ID="LN">1013</FONT><A NAME="1013"></A>    
<FONT ID="LN">1014</FONT><A NAME="1014"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">1015</FONT><A NAME="1015"></A>  }
<FONT ID="LN">1016</FONT><A NAME="1016"></A>
<FONT ID="LN">1017</FONT><A NAME="1017"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1018</FONT><A NAME="1018"></A>   * Build the one-class classifier, any non-target data values
<FONT ID="LN">1019</FONT><A NAME="1019"></A>   * are ignored.  The target class label must exist in the arff
<FONT ID="LN">1020</FONT><A NAME="1020"></A>   * file or else an exception will be thrown.
<FONT ID="LN">1021</FONT><A NAME="1021"></A>   *
<FONT ID="LN">1022</FONT><A NAME="1022"></A>   * @param data The training data.
<FONT ID="LN">1023</FONT><A NAME="1023"></A>   * @throws Exception If the classifier could not be built successfully.
<FONT ID="LN">1024</FONT><A NAME="1024"></A>   */</FONT>
<FONT ID="LN">1025</FONT><A NAME="1025"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> buildClassifier(<A HREF="../../../weka/core/Instances.java.html">Instances</A> data) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1026</FONT><A NAME="1026"></A>    <FONT ID="If">if</FONT> (m_Classifier == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1027</FONT><A NAME="1027"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"No base classifier has been set!"</FONT>);
<FONT ID="LN">1028</FONT><A NAME="1028"></A>    }
<FONT ID="LN">1029</FONT><A NAME="1029"></A>    <FONT ID="SingleLineComment">// can classifier handle the data?
<FONT ID="LN">1030</FONT><A NAME="1030"></A></FONT>    getCapabilities().testWithFail(data);
<FONT ID="LN">1031</FONT><A NAME="1031"></A>
<FONT ID="LN">1032</FONT><A NAME="1032"></A>    <FONT ID="SingleLineComment">// remove instances with missing class
<FONT ID="LN">1033</FONT><A NAME="1033"></A></FONT>    <A HREF="../../../weka/core/Instances.java.html">Instances</A> newData = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(data);
<FONT ID="LN">1034</FONT><A NAME="1034"></A>
<FONT ID="LN">1035</FONT><A NAME="1035"></A>    m_Random = <FONT ID="New">new</FONT> Random(m_Seed);
<FONT ID="LN">1036</FONT><A NAME="1036"></A>    
<FONT ID="LN">1037</FONT><A NAME="1037"></A>    <FONT ID="SingleLineComment">//delete the data that's not of the class we are trying to classify.
<FONT ID="LN">1038</FONT><A NAME="1038"></A></FONT>    <A HREF="../../../weka/core/Attribute.java.html">Attribute</A> classAttribute = newData.classAttribute();
<FONT ID="LN">1039</FONT><A NAME="1039"></A>    <FONT ID="Double">double</FONT> targetClassValue = classAttribute.indexOfValue(m_TargetClassLabel);       
<FONT ID="LN">1040</FONT><A NAME="1040"></A>    <FONT ID="If">if</FONT> (targetClassValue == -<FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1041</FONT><A NAME="1041"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"Target class value doesn't exist!"</FONT>);
<FONT ID="LN">1042</FONT><A NAME="1042"></A>    }
<FONT ID="LN">1043</FONT><A NAME="1043"></A>
<FONT ID="LN">1044</FONT><A NAME="1044"></A>    <FONT ID="Int">int</FONT> index = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1045</FONT><A NAME="1045"></A>    <FONT ID="While">while</FONT>(index &lt; newData.numInstances()) {
<FONT ID="LN">1046</FONT><A NAME="1046"></A>      <A HREF="../../../weka/core/Instance.java.html">Instance</A> aninst = newData.instance(index);
<FONT ID="LN">1047</FONT><A NAME="1047"></A>      <FONT ID="If">if</FONT> (aninst.classValue() != targetClassValue) {
<FONT ID="LN">1048</FONT><A NAME="1048"></A>    newData.delete(index);
<FONT ID="LN">1049</FONT><A NAME="1049"></A>      } <FONT ID="Else">else</FONT>
<FONT ID="LN">1050</FONT><A NAME="1050"></A>    index++;
<FONT ID="LN">1051</FONT><A NAME="1051"></A>    }
<FONT ID="LN">1052</FONT><A NAME="1052"></A>
<FONT ID="LN">1053</FONT><A NAME="1053"></A>    <FONT ID="If">if</FONT> (newData.numInstances() == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1054</FONT><A NAME="1054"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"No instances found belonging to the target class!"</FONT>);
<FONT ID="LN">1055</FONT><A NAME="1055"></A>    }
<FONT ID="LN">1056</FONT><A NAME="1056"></A>
<FONT ID="LN">1057</FONT><A NAME="1057"></A>    <FONT ID="SingleLineComment">//now we need to add the "outlier" attribute if it doesn't already exist.
<FONT ID="LN">1058</FONT><A NAME="1058"></A></FONT>    m_AddOutlierFilter = <FONT ID="New">new</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/AddValues.java.html">AddValues</A>();
<FONT ID="LN">1059</FONT><A NAME="1059"></A>    m_AddOutlierFilter.setAttributeIndex(<FONT ID="StringLiteral">""</FONT> + (newData.classIndex() + <FONT ID="IntegerLiteral">1</FONT>));
<FONT ID="LN">1060</FONT><A NAME="1060"></A>    m_AddOutlierFilter.setLabels(OneClassClassifier.OUTLIER_LABEL);
<FONT ID="LN">1061</FONT><A NAME="1061"></A>    m_AddOutlierFilter.setInputFormat(newData);
<FONT ID="LN">1062</FONT><A NAME="1062"></A>    newData = Filter.useFilter(newData, m_AddOutlierFilter);
<FONT ID="LN">1063</FONT><A NAME="1063"></A>
<FONT ID="LN">1064</FONT><A NAME="1064"></A>    <FONT ID="If">if</FONT> (m_UseLaplaceCorrection) {
<FONT ID="LN">1065</FONT><A NAME="1065"></A>      newData = <FONT ID="This">this</FONT>.mergeToTwo(newData);   
<FONT ID="LN">1066</FONT><A NAME="1066"></A>    }   
<FONT ID="LN">1067</FONT><A NAME="1067"></A>
<FONT ID="LN">1068</FONT><A NAME="1068"></A>    <FONT ID="SingleLineComment">//make sure the generators are created.
<FONT ID="LN">1069</FONT><A NAME="1069"></A></FONT>    m_Generators = <FONT ID="New">new</FONT> ArrayList();
<FONT ID="LN">1070</FONT><A NAME="1070"></A>
<FONT ID="LN">1071</FONT><A NAME="1071"></A>    <FONT ID="SingleLineComment">//one for each column
<FONT ID="LN">1072</FONT><A NAME="1072"></A></FONT>    <FONT ID="SingleLineComment">//need to work out the range or mean/stddev for each attribute
<FONT ID="LN">1073</FONT><A NAME="1073"></A></FONT>    <FONT ID="Int">int</FONT> numAttributes = newData.numAttributes();
<FONT ID="LN">1074</FONT><A NAME="1074"></A>
<FONT ID="LN">1075</FONT><A NAME="1075"></A>    <FONT ID="SingleLineComment">//work out the ranges
<FONT ID="LN">1076</FONT><A NAME="1076"></A></FONT>    <FONT ID="Double">double</FONT> lowranges[] = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[numAttributes - <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">1077</FONT><A NAME="1077"></A>    <FONT ID="Double">double</FONT> highranges[] = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[numAttributes - <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">1078</FONT><A NAME="1078"></A>    <FONT ID="Double">double</FONT> means[] = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[numAttributes - <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">1079</FONT><A NAME="1079"></A>    <FONT ID="Double">double</FONT> stddevs[] = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[numAttributes - <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">1080</FONT><A NAME="1080"></A>    <FONT ID="Double">double</FONT> instanceCount[] = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[numAttributes - <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">1081</FONT><A NAME="1081"></A>    <FONT ID="Int">int</FONT> attrIndexes[] = <FONT ID="New">new</FONT> <FONT ID="Int">int</FONT>[numAttributes - <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">1082</FONT><A NAME="1082"></A>
<FONT ID="LN">1083</FONT><A NAME="1083"></A>    <FONT ID="SingleLineComment">//initialise
<FONT ID="LN">1084</FONT><A NAME="1084"></A></FONT>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; numAttributes - <FONT ID="IntegerLiteral">1</FONT>; i++) {
<FONT ID="LN">1085</FONT><A NAME="1085"></A>      lowranges[i] = Double.MAX_VALUE;
<FONT ID="LN">1086</FONT><A NAME="1086"></A>      highranges[i] = -<FONT ID="IntegerLiteral">1</FONT> * Double.MAX_VALUE;
<FONT ID="LN">1087</FONT><A NAME="1087"></A>      means[i] = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1088</FONT><A NAME="1088"></A>      stddevs[i] = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1089</FONT><A NAME="1089"></A>      attrIndexes[i] = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1090</FONT><A NAME="1090"></A>      instanceCount[i] = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1091</FONT><A NAME="1091"></A>    }
<FONT ID="LN">1092</FONT><A NAME="1092"></A>
<FONT ID="LN">1093</FONT><A NAME="1093"></A>    <FONT ID="SingleLineComment">//calculate low/high ranges and means.
<FONT ID="LN">1094</FONT><A NAME="1094"></A></FONT>    <FONT ID="SingleLineComment">//missing attributes are ignored
<FONT ID="LN">1095</FONT><A NAME="1095"></A></FONT>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; newData.numInstances(); i++) {
<FONT ID="LN">1096</FONT><A NAME="1096"></A>      <A HREF="../../../weka/core/Instance.java.html">Instance</A> anInst = newData.instance(i);
<FONT ID="LN">1097</FONT><A NAME="1097"></A>      <FONT ID="Int">int</FONT> attCount = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1098</FONT><A NAME="1098"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; numAttributes; j++) {
<FONT ID="LN">1099</FONT><A NAME="1099"></A>    <FONT ID="If">if</FONT> (j != newData.classIndex()) {
<FONT ID="LN">1100</FONT><A NAME="1100"></A>      <FONT ID="Double">double</FONT> attVal = anInst.value(j);
<FONT ID="LN">1101</FONT><A NAME="1101"></A>      <FONT ID="If">if</FONT> (!anInst.isMissing(j)) {
<FONT ID="LN">1102</FONT><A NAME="1102"></A>        <FONT ID="If">if</FONT> (attVal &gt; highranges[attCount])
<FONT ID="LN">1103</FONT><A NAME="1103"></A>          highranges[attCount] = attVal;
<FONT ID="LN">1104</FONT><A NAME="1104"></A>        <FONT ID="If">if</FONT> (attVal &lt; lowranges[attCount])
<FONT ID="LN">1105</FONT><A NAME="1105"></A>          lowranges[attCount] = attVal;
<FONT ID="LN">1106</FONT><A NAME="1106"></A>
<FONT ID="LN">1107</FONT><A NAME="1107"></A>        means[attCount] += attVal;
<FONT ID="LN">1108</FONT><A NAME="1108"></A>        instanceCount[attCount] += <FONT ID="IntegerLiteral">1</FONT>;           
<FONT ID="LN">1109</FONT><A NAME="1109"></A>      }
<FONT ID="LN">1110</FONT><A NAME="1110"></A>      attrIndexes[attCount] = j;
<FONT ID="LN">1111</FONT><A NAME="1111"></A>      attCount++;
<FONT ID="LN">1112</FONT><A NAME="1112"></A>
<FONT ID="LN">1113</FONT><A NAME="1113"></A>    }
<FONT ID="LN">1114</FONT><A NAME="1114"></A>      }
<FONT ID="LN">1115</FONT><A NAME="1115"></A>    }
<FONT ID="LN">1116</FONT><A NAME="1116"></A>
<FONT ID="LN">1117</FONT><A NAME="1117"></A>    <FONT ID="SingleLineComment">//calculate means...
<FONT ID="LN">1118</FONT><A NAME="1118"></A></FONT>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; numAttributes - <FONT ID="IntegerLiteral">1</FONT>; i++) {
<FONT ID="LN">1119</FONT><A NAME="1119"></A>      <FONT ID="If">if</FONT> (instanceCount[i] &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1120</FONT><A NAME="1120"></A>    means[i] = means[i] / instanceCount[i];
<FONT ID="LN">1121</FONT><A NAME="1121"></A>      }
<FONT ID="LN">1122</FONT><A NAME="1122"></A>    }
<FONT ID="LN">1123</FONT><A NAME="1123"></A>
<FONT ID="LN">1124</FONT><A NAME="1124"></A>    <FONT ID="SingleLineComment">//and now standard deviations
<FONT ID="LN">1125</FONT><A NAME="1125"></A></FONT>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; newData.numInstances(); i++) {
<FONT ID="LN">1126</FONT><A NAME="1126"></A>      <A HREF="../../../weka/core/Instance.java.html">Instance</A> anInst = newData.instance(i);
<FONT ID="LN">1127</FONT><A NAME="1127"></A>      <FONT ID="Int">int</FONT> attCount = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1128</FONT><A NAME="1128"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; numAttributes - <FONT ID="IntegerLiteral">1</FONT>; j++) {
<FONT ID="LN">1129</FONT><A NAME="1129"></A>    <FONT ID="If">if</FONT> (instanceCount[j] &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1130</FONT><A NAME="1130"></A>      stddevs[attCount] += Math.pow(anInst.value(j) - means[attCount], <FONT ID="IntegerLiteral">2</FONT>);
<FONT ID="LN">1131</FONT><A NAME="1131"></A>      attCount++;
<FONT ID="LN">1132</FONT><A NAME="1132"></A>    }
<FONT ID="LN">1133</FONT><A NAME="1133"></A>      }
<FONT ID="LN">1134</FONT><A NAME="1134"></A>    }
<FONT ID="LN">1135</FONT><A NAME="1135"></A>
<FONT ID="LN">1136</FONT><A NAME="1136"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; numAttributes - <FONT ID="IntegerLiteral">1</FONT>; i++) {
<FONT ID="LN">1137</FONT><A NAME="1137"></A>      <FONT ID="If">if</FONT> (instanceCount[i] &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1138</FONT><A NAME="1138"></A>    stddevs[i] = Math.sqrt(stddevs[i] / instanceCount[i]);      
<FONT ID="LN">1139</FONT><A NAME="1139"></A>      }
<FONT ID="LN">1140</FONT><A NAME="1140"></A>    }
<FONT ID="LN">1141</FONT><A NAME="1141"></A>
<FONT ID="LN">1142</FONT><A NAME="1142"></A>
<FONT ID="LN">1143</FONT><A NAME="1143"></A>    <FONT ID="SingleLineComment">//ok, now we have everything, need to make a generator for each column
<FONT ID="LN">1144</FONT><A NAME="1144"></A></FONT>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; numAttributes - <FONT ID="IntegerLiteral">1</FONT>; i++) {
<FONT ID="LN">1145</FONT><A NAME="1145"></A>      <A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A> agen;
<FONT ID="LN">1146</FONT><A NAME="1146"></A>      <FONT ID="If">if</FONT> (newData.attribute(attrIndexes[i]).isNominal()) {
<FONT ID="LN">1147</FONT><A NAME="1147"></A>    agen = ((<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>)m_DefaultNominalGenerator).copy();
<FONT ID="LN">1148</FONT><A NAME="1148"></A>    ((<A HREF="../../../weka/classifiers/meta/generators/NominalAttributeGenerator.java.html">NominalAttributeGenerator</A>)agen).buildGenerator(newData, newData.attribute(attrIndexes[i]));
<FONT ID="LN">1149</FONT><A NAME="1149"></A>      } <FONT ID="Else">else</FONT> {
<FONT ID="LN">1150</FONT><A NAME="1150"></A>    agen = ((<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>)m_DefaultNumericGenerator).copy();
<FONT ID="LN">1151</FONT><A NAME="1151"></A>    
<FONT ID="LN">1152</FONT><A NAME="1152"></A>    <FONT ID="If">if</FONT> (agen <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/classifiers/meta/generators/Ranged.java.html">Ranged</A>) {
<FONT ID="LN">1153</FONT><A NAME="1153"></A>      ((<A HREF="../../../weka/classifiers/meta/generators/Ranged.java.html">Ranged</A>)agen).setLowerRange(lowranges[i]);
<FONT ID="LN">1154</FONT><A NAME="1154"></A>      ((<A HREF="../../../weka/classifiers/meta/generators/Ranged.java.html">Ranged</A>)agen).setUpperRange(highranges[i]);
<FONT ID="LN">1155</FONT><A NAME="1155"></A>    }
<FONT ID="LN">1156</FONT><A NAME="1156"></A>    
<FONT ID="LN">1157</FONT><A NAME="1157"></A>    <FONT ID="If">if</FONT> (agen <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/classifiers/meta/generators/Mean.java.html">Mean</A>) {
<FONT ID="LN">1158</FONT><A NAME="1158"></A>      ((<A HREF="../../../weka/classifiers/meta/generators/Mean.java.html">Mean</A>)agen).setMean(means[i]);
<FONT ID="LN">1159</FONT><A NAME="1159"></A>      ((<A HREF="../../../weka/classifiers/meta/generators/Mean.java.html">Mean</A>)agen).setStandardDeviation(stddevs[i]);
<FONT ID="LN">1160</FONT><A NAME="1160"></A>    }
<FONT ID="LN">1161</FONT><A NAME="1161"></A>
<FONT ID="LN">1162</FONT><A NAME="1162"></A>    <FONT ID="If">if</FONT> (agen <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/classifiers/meta/generators/InstanceHandler.java.html">InstanceHandler</A>) {
<FONT ID="LN">1163</FONT><A NAME="1163"></A>      <FONT ID="SingleLineComment">//generator needs to be setup with the instances, 
<FONT ID="LN">1164</FONT><A NAME="1164"></A></FONT>      <FONT ID="SingleLineComment">//need to pass over a set of instances with just the current 
<FONT ID="LN">1165</FONT><A NAME="1165"></A></FONT>      <FONT ID="SingleLineComment">//attribute.
<FONT ID="LN">1166</FONT><A NAME="1166"></A></FONT>      StringBuffer sb = <FONT ID="New">new</FONT> StringBuffer(<FONT ID="StringLiteral">"@relation OneClass-SingleAttribute\n\n"</FONT>);
<FONT ID="LN">1167</FONT><A NAME="1167"></A>      sb.append(<FONT ID="StringLiteral">"@attribute tempName numeric\n\n"</FONT>);
<FONT ID="LN">1168</FONT><A NAME="1168"></A>      sb.append(<FONT ID="StringLiteral">"@data\n\n"</FONT>);
<FONT ID="LN">1169</FONT><A NAME="1169"></A>      Enumeration instancesEnum = newData.enumerateInstances();
<FONT ID="LN">1170</FONT><A NAME="1170"></A>      <FONT ID="While">while</FONT>(instancesEnum.hasMoreElements()) {
<FONT ID="LN">1171</FONT><A NAME="1171"></A>        <A HREF="../../../weka/core/Instance.java.html">Instance</A> aninst = (<A HREF="../../../weka/core/Instance.java.html">Instance</A>)instancesEnum.nextElement();
<FONT ID="LN">1172</FONT><A NAME="1172"></A>        <FONT ID="If">if</FONT> (!aninst.isMissing(attrIndexes[i]))
<FONT ID="LN">1173</FONT><A NAME="1173"></A>          sb.append(<FONT ID="StringLiteral">""</FONT> + aninst.value(attrIndexes[i]) + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">1174</FONT><A NAME="1174"></A>      }
<FONT ID="LN">1175</FONT><A NAME="1175"></A>      sb.append(<FONT ID="StringLiteral">"\n\n"</FONT>);
<FONT ID="LN">1176</FONT><A NAME="1176"></A>      <A HREF="../../../weka/core/Instances.java.html">Instances</A> removed = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(<FONT ID="New">new</FONT> StringReader(sb.toString()));
<FONT ID="LN">1177</FONT><A NAME="1177"></A>      removed.deleteWithMissing(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">1178</FONT><A NAME="1178"></A>      ((<A HREF="../../../weka/classifiers/meta/generators/InstanceHandler.java.html">InstanceHandler</A>)agen).buildGenerator(removed);
<FONT ID="LN">1179</FONT><A NAME="1179"></A>    }
<FONT ID="LN">1180</FONT><A NAME="1180"></A>      }
<FONT ID="LN">1181</FONT><A NAME="1181"></A>
<FONT ID="LN">1182</FONT><A NAME="1182"></A>      m_Generators.add(agen);
<FONT ID="LN">1183</FONT><A NAME="1183"></A>    }
<FONT ID="LN">1184</FONT><A NAME="1184"></A>
<FONT ID="LN">1185</FONT><A NAME="1185"></A>
<FONT ID="LN">1186</FONT><A NAME="1186"></A>    <FONT ID="SingleLineComment">//REPEAT
<FONT ID="LN">1187</FONT><A NAME="1187"></A></FONT>    ArrayList thresholds = <FONT ID="New">new</FONT> ArrayList();
<FONT ID="LN">1188</FONT><A NAME="1188"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_NumRepeats; i++) {
<FONT ID="LN">1189</FONT><A NAME="1189"></A>
<FONT ID="LN">1190</FONT><A NAME="1190"></A>      <FONT ID="SingleLineComment">//hold some data out 
<FONT ID="LN">1191</FONT><A NAME="1191"></A></FONT>      <A HREF="../../../weka/core/Instances.java.html">Instances</A> copyData = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(newData);
<FONT ID="LN">1192</FONT><A NAME="1192"></A>      <A HREF="../../../weka/core/Instances.java.html">Instances</A> heldout = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(newData, <FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">1193</FONT><A NAME="1193"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; newData.numInstances() / m_PercentHeldout; k++) {
<FONT ID="LN">1194</FONT><A NAME="1194"></A>    <FONT ID="Int">int</FONT> anindex = m_Random.nextInt(copyData.numInstances());
<FONT ID="LN">1195</FONT><A NAME="1195"></A>    heldout.add(copyData.instance(anindex));
<FONT ID="LN">1196</FONT><A NAME="1196"></A>    copyData.delete(anindex);
<FONT ID="LN">1197</FONT><A NAME="1197"></A>      }
<FONT ID="LN">1198</FONT><A NAME="1198"></A>
<FONT ID="LN">1199</FONT><A NAME="1199"></A>
<FONT ID="LN">1200</FONT><A NAME="1200"></A>      <FONT ID="SingleLineComment">//generate some data
<FONT ID="LN">1201</FONT><A NAME="1201"></A></FONT>      <FONT ID="This">this</FONT>.generateData(copyData);
<FONT ID="LN">1202</FONT><A NAME="1202"></A>
<FONT ID="LN">1203</FONT><A NAME="1203"></A>      <FONT ID="SingleLineComment">//build the classifier on the generated data   
<FONT ID="LN">1204</FONT><A NAME="1204"></A></FONT>      <FONT ID="If">if</FONT> (!m_UseDensityOnly)
<FONT ID="LN">1205</FONT><A NAME="1205"></A>    m_Classifier.buildClassifier(copyData);
<FONT ID="LN">1206</FONT><A NAME="1206"></A>
<FONT ID="LN">1207</FONT><A NAME="1207"></A>      <FONT ID="SingleLineComment">//test the generated data, work out the threshold (average it later)
<FONT ID="LN">1208</FONT><A NAME="1208"></A></FONT>      <FONT ID="Double">double</FONT>[] scores = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[heldout.numInstances()];
<FONT ID="LN">1209</FONT><A NAME="1209"></A>      Enumeration iterInst = heldout.enumerateInstances();
<FONT ID="LN">1210</FONT><A NAME="1210"></A>      <FONT ID="Int">int</FONT> classIndex = heldout.classAttribute().indexOfValue(m_TargetClassLabel);
<FONT ID="LN">1211</FONT><A NAME="1211"></A>      <FONT ID="Int">int</FONT> count = <FONT ID="IntegerLiteral">0</FONT>; 
<FONT ID="LN">1212</FONT><A NAME="1212"></A>      <FONT ID="While">while</FONT>(iterInst.hasMoreElements()) {
<FONT ID="LN">1213</FONT><A NAME="1213"></A>    <A HREF="../../../weka/core/Instance.java.html">Instance</A> anInst = (<A HREF="../../../weka/core/Instance.java.html">Instance</A>)iterInst.nextElement();
<FONT ID="LN">1214</FONT><A NAME="1214"></A>    scores[count] = <FONT ID="This">this</FONT>.getProbXGivenC(anInst, classIndex);    
<FONT ID="LN">1215</FONT><A NAME="1215"></A>    count++;
<FONT ID="LN">1216</FONT><A NAME="1216"></A>      }
<FONT ID="LN">1217</FONT><A NAME="1217"></A>
<FONT ID="LN">1218</FONT><A NAME="1218"></A>      Arrays.sort(scores);
<FONT ID="LN">1219</FONT><A NAME="1219"></A>      <FONT ID="SingleLineComment">//work out the where the threshold should be
<FONT ID="LN">1220</FONT><A NAME="1220"></A></FONT>      <FONT ID="SingleLineComment">//higher probabilities = passes
<FONT ID="LN">1221</FONT><A NAME="1221"></A></FONT>      <FONT ID="SingleLineComment">//sorted into ascending order (getting bigger)
<FONT ID="LN">1222</FONT><A NAME="1222"></A></FONT>      <FONT ID="Int">int</FONT> passposition = (<FONT ID="Int">int</FONT>)((<FONT ID="Double">double</FONT>)heldout.numInstances() * m_TargetRejectionRate);
<FONT ID="LN">1223</FONT><A NAME="1223"></A>      <FONT ID="If">if</FONT> (passposition &gt;=  heldout.numInstances())
<FONT ID="LN">1224</FONT><A NAME="1224"></A>    passposition = heldout.numInstances() - <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">1225</FONT><A NAME="1225"></A>
<FONT ID="LN">1226</FONT><A NAME="1226"></A>      thresholds.add(<FONT ID="New">new</FONT> Double(scores[passposition]));
<FONT ID="LN">1227</FONT><A NAME="1227"></A>    }
<FONT ID="LN">1228</FONT><A NAME="1228"></A>    <FONT ID="SingleLineComment">//END REPEAT
<FONT ID="LN">1229</FONT><A NAME="1229"></A></FONT>
<FONT ID="LN">1230</FONT><A NAME="1230"></A>
<FONT ID="LN">1231</FONT><A NAME="1231"></A>
<FONT ID="LN">1232</FONT><A NAME="1232"></A>    <FONT ID="SingleLineComment">//build the classifier on the generated data  
<FONT ID="LN">1233</FONT><A NAME="1233"></A></FONT>
<FONT ID="LN">1234</FONT><A NAME="1234"></A>    <FONT ID="SingleLineComment">//set the threshold
<FONT ID="LN">1235</FONT><A NAME="1235"></A></FONT>    m_Threshold = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1236</FONT><A NAME="1236"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; thresholds.size(); k++) {
<FONT ID="LN">1237</FONT><A NAME="1237"></A>      m_Threshold += ((Double)thresholds.get(k)).doubleValue();
<FONT ID="LN">1238</FONT><A NAME="1238"></A>    }
<FONT ID="LN">1239</FONT><A NAME="1239"></A>    m_Threshold /= (<FONT ID="Double">double</FONT>)thresholds.size();
<FONT ID="LN">1240</FONT><A NAME="1240"></A>
<FONT ID="LN">1241</FONT><A NAME="1241"></A>    <FONT ID="SingleLineComment">//rebuild the classifier using all the data
<FONT ID="LN">1242</FONT><A NAME="1242"></A></FONT>    <FONT ID="This">this</FONT>.generateData(newData);
<FONT ID="LN">1243</FONT><A NAME="1243"></A>
<FONT ID="LN">1244</FONT><A NAME="1244"></A>    <FONT ID="If">if</FONT> (!m_UseDensityOnly)
<FONT ID="LN">1245</FONT><A NAME="1245"></A>      m_Classifier.buildClassifier(newData);
<FONT ID="LN">1246</FONT><A NAME="1246"></A>
<FONT ID="LN">1247</FONT><A NAME="1247"></A>  }
<FONT ID="LN">1248</FONT><A NAME="1248"></A>  
<FONT ID="LN">1249</FONT><A NAME="1249"></A>
<FONT ID="LN">1250</FONT><A NAME="1250"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1251</FONT><A NAME="1251"></A>   * Merges the class values of the instances down to two values,
<FONT ID="LN">1252</FONT><A NAME="1252"></A>   * the target class and the "outlier" class.
<FONT ID="LN">1253</FONT><A NAME="1253"></A>   *
<FONT ID="LN">1254</FONT><A NAME="1254"></A>   * @param newData The data to merge.
<FONT ID="LN">1255</FONT><A NAME="1255"></A>   * @return The merged data.
<FONT ID="LN">1256</FONT><A NAME="1256"></A>   */</FONT>
<FONT ID="LN">1257</FONT><A NAME="1257"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A> mergeToTwo(<A HREF="../../../weka/core/Instances.java.html">Instances</A> newData) <FONT ID="Throws">throws</FONT> Exception{
<FONT ID="LN">1258</FONT><A NAME="1258"></A>
<FONT ID="LN">1259</FONT><A NAME="1259"></A>    m_MergeFilter = <FONT ID="New">new</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/MergeManyValues.java.html">MergeManyValues</A>();
<FONT ID="LN">1260</FONT><A NAME="1260"></A>    m_MergeFilter.setAttributeIndex(<FONT ID="StringLiteral">""</FONT> + (newData.classIndex() + <FONT ID="IntegerLiteral">1</FONT>));
<FONT ID="LN">1261</FONT><A NAME="1261"></A>
<FONT ID="LN">1262</FONT><A NAME="1262"></A>    <FONT ID="SingleLineComment">//figure out the indexes that aren't the outlier label or
<FONT ID="LN">1263</FONT><A NAME="1263"></A></FONT>    <FONT ID="SingleLineComment">//the target label
<FONT ID="LN">1264</FONT><A NAME="1264"></A></FONT>    StringBuffer sb = <FONT ID="New">new</FONT> StringBuffer(<FONT ID="StringLiteral">""</FONT>);
<FONT ID="LN">1265</FONT><A NAME="1265"></A>
<FONT ID="LN">1266</FONT><A NAME="1266"></A>    <A HREF="../../../weka/core/Attribute.java.html">Attribute</A> theAttr = newData.classAttribute();
<FONT ID="LN">1267</FONT><A NAME="1267"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; theAttr.numValues(); i++) {
<FONT ID="LN">1268</FONT><A NAME="1268"></A>      <FONT ID="If">if</FONT> (! (theAttr.value(i).equalsIgnoreCase(OneClassClassifier.OUTLIER_LABEL) 
<FONT ID="LN">1269</FONT><A NAME="1269"></A>      || theAttr.value(i).equalsIgnoreCase(m_TargetClassLabel))) {
<FONT ID="LN">1270</FONT><A NAME="1270"></A>    <FONT ID="SingleLineComment">//add it to the merge list
<FONT ID="LN">1271</FONT><A NAME="1271"></A></FONT>    sb.append((i + <FONT ID="IntegerLiteral">1</FONT>) + <FONT ID="StringLiteral">","</FONT>);
<FONT ID="LN">1272</FONT><A NAME="1272"></A>      }
<FONT ID="LN">1273</FONT><A NAME="1273"></A>    }
<FONT ID="LN">1274</FONT><A NAME="1274"></A>    String mergeList = sb.toString();
<FONT ID="LN">1275</FONT><A NAME="1275"></A>    <FONT ID="If">if</FONT> (mergeList.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1276</FONT><A NAME="1276"></A>      mergeList = mergeList.substring(<FONT ID="IntegerLiteral">0</FONT>, mergeList.length() - <FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">1277</FONT><A NAME="1277"></A>      <FONT ID="Int">int</FONT> classIndex = newData.classIndex();
<FONT ID="LN">1278</FONT><A NAME="1278"></A>      newData.setClassIndex(-<FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">1279</FONT><A NAME="1279"></A>      m_MergeFilter.setMergeValueRange(mergeList);
<FONT ID="LN">1280</FONT><A NAME="1280"></A>      m_MergeFilter.setLabel(OneClassClassifier.OUTLIER_LABEL);
<FONT ID="LN">1281</FONT><A NAME="1281"></A>      m_MergeFilter.setInputFormat(newData);
<FONT ID="LN">1282</FONT><A NAME="1282"></A>      newData = Filter.useFilter(newData, m_MergeFilter);
<FONT ID="LN">1283</FONT><A NAME="1283"></A>      newData.setClassIndex(classIndex);
<FONT ID="LN">1284</FONT><A NAME="1284"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">1285</FONT><A NAME="1285"></A>      m_MergeFilter = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1286</FONT><A NAME="1286"></A>    }
<FONT ID="LN">1287</FONT><A NAME="1287"></A>
<FONT ID="LN">1288</FONT><A NAME="1288"></A>    <FONT ID="Return">return</FONT> newData;
<FONT ID="LN">1289</FONT><A NAME="1289"></A>  }
<FONT ID="LN">1290</FONT><A NAME="1290"></A>
<FONT ID="LN">1291</FONT><A NAME="1291"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1292</FONT><A NAME="1292"></A>   * Gets the probability that an instance, X, belongs to the target class, C.  
<FONT ID="LN">1293</FONT><A NAME="1293"></A>   *
<FONT ID="LN">1294</FONT><A NAME="1294"></A>   * @param instance The instance X.
<FONT ID="LN">1295</FONT><A NAME="1295"></A>   * @param targetClassIndex The index of the target class label for the class attribute.
<FONT ID="LN">1296</FONT><A NAME="1296"></A>   * @return The probability of X given C, P(X|C).
<FONT ID="LN">1297</FONT><A NAME="1297"></A>   */</FONT>
<FONT ID="LN">1298</FONT><A NAME="1298"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Double">double</FONT> getProbXGivenC(<A HREF="../../../weka/core/Instance.java.html">Instance</A> instance, <FONT ID="Int">int</FONT> targetClassIndex) <FONT ID="Throws">throws</FONT> Exception{
<FONT ID="LN">1299</FONT><A NAME="1299"></A>    <FONT ID="Double">double</FONT> probC = <FONT ID="IntegerLiteral">1</FONT> - m_ProportionGenerated;   
<FONT ID="LN">1300</FONT><A NAME="1300"></A>    <FONT ID="Double">double</FONT> probXgivenA = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1301</FONT><A NAME="1301"></A>    <FONT ID="Int">int</FONT> count = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1302</FONT><A NAME="1302"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; instance.numAttributes(); i++) {
<FONT ID="LN">1303</FONT><A NAME="1303"></A>      <FONT ID="If">if</FONT> (i != instance.classIndex()) {
<FONT ID="LN">1304</FONT><A NAME="1304"></A>    <A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A> agen = (<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>)m_Generators.get(count);
<FONT ID="LN">1305</FONT><A NAME="1305"></A>    <FONT ID="If">if</FONT> (!instance.isMissing(i)) {
<FONT ID="LN">1306</FONT><A NAME="1306"></A>      probXgivenA += agen.getLogProbabilityOf(instance.value(i));
<FONT ID="LN">1307</FONT><A NAME="1307"></A>    }
<FONT ID="LN">1308</FONT><A NAME="1308"></A>    count++;    
<FONT ID="LN">1309</FONT><A NAME="1309"></A>      }
<FONT ID="LN">1310</FONT><A NAME="1310"></A>    }
<FONT ID="LN">1311</FONT><A NAME="1311"></A>
<FONT ID="LN">1312</FONT><A NAME="1312"></A>    <FONT ID="If">if</FONT> (m_UseDensityOnly)
<FONT ID="LN">1313</FONT><A NAME="1313"></A>      <FONT ID="Return">return</FONT> probXgivenA;
<FONT ID="LN">1314</FONT><A NAME="1314"></A>
<FONT ID="LN">1315</FONT><A NAME="1315"></A>    <FONT ID="Double">double</FONT>[] distribution = m_Classifier.distributionForInstance(instance);
<FONT ID="LN">1316</FONT><A NAME="1316"></A>    <FONT ID="Double">double</FONT> probCgivenX = distribution[targetClassIndex];
<FONT ID="LN">1317</FONT><A NAME="1317"></A>    <FONT ID="If">if</FONT>(probCgivenX == <FONT ID="IntegerLiteral">1</FONT>)
<FONT ID="LN">1318</FONT><A NAME="1318"></A>    <FONT ID="Return">return</FONT> Double.POSITIVE_INFINITY;
<FONT ID="LN">1319</FONT><A NAME="1319"></A>
<FONT ID="LN">1320</FONT><A NAME="1320"></A>    <FONT ID="SingleLineComment">//final calculation
<FONT ID="LN">1321</FONT><A NAME="1321"></A></FONT>    <FONT ID="Double">double</FONT> top = Math.log(<FONT ID="IntegerLiteral">1</FONT> - probC) + Math.log(probCgivenX);
<FONT ID="LN">1322</FONT><A NAME="1322"></A>    <FONT ID="Double">double</FONT> bottom = Math.log(probC) + Math.log(<FONT ID="IntegerLiteral">1</FONT> - probCgivenX);   
<FONT ID="LN">1323</FONT><A NAME="1323"></A>
<FONT ID="LN">1324</FONT><A NAME="1324"></A>    <FONT ID="Return">return</FONT> (top - bottom) + probXgivenA;    
<FONT ID="LN">1325</FONT><A NAME="1325"></A>  }
<FONT ID="LN">1326</FONT><A NAME="1326"></A>
<FONT ID="LN">1327</FONT><A NAME="1327"></A>
<FONT ID="LN">1328</FONT><A NAME="1328"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1329</FONT><A NAME="1329"></A>   * Generates some outlier data and returns the targetData with some outlier data included.
<FONT ID="LN">1330</FONT><A NAME="1330"></A>   *
<FONT ID="LN">1331</FONT><A NAME="1331"></A>   * @param targetData The data for the target class.
<FONT ID="LN">1332</FONT><A NAME="1332"></A>   * @return The outlier and target data together.
<FONT ID="LN">1333</FONT><A NAME="1333"></A>   */</FONT>
<FONT ID="LN">1334</FONT><A NAME="1334"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A> generateData(<A HREF="../../../weka/core/Instances.java.html">Instances</A> targetData) {
<FONT ID="LN">1335</FONT><A NAME="1335"></A>    <FONT ID="Double">double</FONT> totalInstances = ((<FONT ID="Double">double</FONT>)targetData.numInstances()) / (<FONT ID="IntegerLiteral">1</FONT> - m_ProportionGenerated);
<FONT ID="LN">1336</FONT><A NAME="1336"></A>
<FONT ID="LN">1337</FONT><A NAME="1337"></A>    <FONT ID="Int">int</FONT> numInstances = (<FONT ID="Int">int</FONT>)(totalInstances - (<FONT ID="Double">double</FONT>)targetData.numInstances());
<FONT ID="LN">1338</FONT><A NAME="1338"></A>
<FONT ID="LN">1339</FONT><A NAME="1339"></A>    <FONT ID="SingleLineComment">//first reweight the target data
<FONT ID="LN">1340</FONT><A NAME="1340"></A></FONT>    <FONT ID="If">if</FONT> (m_UseInstanceWeights) {
<FONT ID="LN">1341</FONT><A NAME="1341"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; targetData.numInstances(); i++) {
<FONT ID="LN">1342</FONT><A NAME="1342"></A>    targetData.instance(i).setWeight(<FONT ID="FloatPointLiteral">0.5</FONT> * (<FONT ID="IntegerLiteral">1</FONT> / (<FONT ID="IntegerLiteral">1</FONT> - m_ProportionGenerated)));
<FONT ID="LN">1343</FONT><A NAME="1343"></A>      }
<FONT ID="LN">1344</FONT><A NAME="1344"></A>    }
<FONT ID="LN">1345</FONT><A NAME="1345"></A>
<FONT ID="LN">1346</FONT><A NAME="1346"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; numInstances; j++) {
<FONT ID="LN">1347</FONT><A NAME="1347"></A>      <FONT ID="SingleLineComment">//add to the targetData the instances that we generate...
<FONT ID="LN">1348</FONT><A NAME="1348"></A></FONT>      <A HREF="../../../weka/core/Instance.java.html">Instance</A> anInst = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/DenseInstance.java.html">DenseInstance</A>(targetData.numAttributes());
<FONT ID="LN">1349</FONT><A NAME="1349"></A>      anInst.setDataset(targetData);
<FONT ID="LN">1350</FONT><A NAME="1350"></A>      <FONT ID="Int">int</FONT> position = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1351</FONT><A NAME="1351"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; targetData.numAttributes(); i++) {
<FONT ID="LN">1352</FONT><A NAME="1352"></A>    <FONT ID="If">if</FONT> (targetData.classIndex() != i) {
<FONT ID="LN">1353</FONT><A NAME="1353"></A>      <FONT ID="SingleLineComment">//not the class attribute
<FONT ID="LN">1354</FONT><A NAME="1354"></A></FONT>      <A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A> agen = (<A HREF="../../../weka/classifiers/meta/generators/GaussianGenerator.java.html">Generator</A>)m_Generators.get(position);
<FONT ID="LN">1355</FONT><A NAME="1355"></A>      anInst.setValue(i, agen.generate());
<FONT ID="LN">1356</FONT><A NAME="1356"></A>      position++;
<FONT ID="LN">1357</FONT><A NAME="1357"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">1358</FONT><A NAME="1358"></A>      <FONT ID="SingleLineComment">//is the class attribute
<FONT ID="LN">1359</FONT><A NAME="1359"></A></FONT>      anInst.setValue(i, OneClassClassifier.OUTLIER_LABEL);
<FONT ID="LN">1360</FONT><A NAME="1360"></A>      <FONT ID="If">if</FONT> (m_UseInstanceWeights)
<FONT ID="LN">1361</FONT><A NAME="1361"></A>        anInst.setWeight(<FONT ID="FloatPointLiteral">0.5</FONT> * (<FONT ID="IntegerLiteral">1</FONT> / m_ProportionGenerated));
<FONT ID="LN">1362</FONT><A NAME="1362"></A>    }
<FONT ID="LN">1363</FONT><A NAME="1363"></A>
<FONT ID="LN">1364</FONT><A NAME="1364"></A>      }
<FONT ID="LN">1365</FONT><A NAME="1365"></A>      targetData.add(anInst);       
<FONT ID="LN">1366</FONT><A NAME="1366"></A>    }
<FONT ID="LN">1367</FONT><A NAME="1367"></A>
<FONT ID="LN">1368</FONT><A NAME="1368"></A>    <FONT ID="Return">return</FONT> targetData;
<FONT ID="LN">1369</FONT><A NAME="1369"></A>  }
<FONT ID="LN">1370</FONT><A NAME="1370"></A>
<FONT ID="LN">1371</FONT><A NAME="1371"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1372</FONT><A NAME="1372"></A>   * Returns a probability distribution for a given instance.
<FONT ID="LN">1373</FONT><A NAME="1373"></A>   * 
<FONT ID="LN">1374</FONT><A NAME="1374"></A>   * @param instance The instance to calculate the probability distribution for.
<FONT ID="LN">1375</FONT><A NAME="1375"></A>   * @return The probability for each class.
<FONT ID="LN">1376</FONT><A NAME="1376"></A>   */</FONT>
<FONT ID="LN">1377</FONT><A NAME="1377"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT>[] distributionForInstance(<A HREF="../../../weka/core/Instance.java.html">Instance</A> instance) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1378</FONT><A NAME="1378"></A>    <A HREF="../../../weka/core/Instance.java.html">Instance</A> filtered = (<A HREF="../../../weka/core/Instance.java.html">Instance</A>)instance.copy();
<FONT ID="LN">1379</FONT><A NAME="1379"></A>
<FONT ID="LN">1380</FONT><A NAME="1380"></A>    m_AddOutlierFilter.input(instance);
<FONT ID="LN">1381</FONT><A NAME="1381"></A>    filtered = m_AddOutlierFilter.output();
<FONT ID="LN">1382</FONT><A NAME="1382"></A>
<FONT ID="LN">1383</FONT><A NAME="1383"></A>    <FONT ID="If">if</FONT> (m_UseLaplaceCorrection &amp;&amp; m_MergeFilter != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1384</FONT><A NAME="1384"></A>      m_MergeFilter.input(filtered);
<FONT ID="LN">1385</FONT><A NAME="1385"></A>      filtered = m_MergeFilter.output();
<FONT ID="LN">1386</FONT><A NAME="1386"></A>    }
<FONT ID="LN">1387</FONT><A NAME="1387"></A>
<FONT ID="LN">1388</FONT><A NAME="1388"></A>    <FONT ID="Double">double</FONT>[] dist = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[instance.numClasses()];
<FONT ID="LN">1389</FONT><A NAME="1389"></A>    <FONT ID="Double">double</FONT> probForOutlierClass = <FONT ID="IntegerLiteral">1</FONT> / (<FONT ID="IntegerLiteral">1</FONT> + Math.exp(<FONT ID="This">this</FONT>.getProbXGivenC(filtered, filtered.classAttribute().indexOfValue(m_TargetClassLabel)) - m_Threshold));
<FONT ID="LN">1390</FONT><A NAME="1390"></A>    <FONT ID="If">if</FONT>(<FONT ID="This">this</FONT>.getProbXGivenC(filtered, filtered.classAttribute().indexOfValue(m_TargetClassLabel)) == Double.POSITIVE_INFINITY)
<FONT ID="LN">1391</FONT><A NAME="1391"></A>    probForOutlierClass = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1392</FONT><A NAME="1392"></A>
<FONT ID="LN">1393</FONT><A NAME="1393"></A>    dist[instance.classAttribute().indexOfValue(m_TargetClassLabel)] = <FONT ID="IntegerLiteral">1</FONT> - probForOutlierClass; 
<FONT ID="LN">1394</FONT><A NAME="1394"></A>    <FONT ID="If">if</FONT> (instance.classAttribute().indexOfValue(OneClassClassifier.OUTLIER_LABEL) == -<FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1395</FONT><A NAME="1395"></A>      <FONT ID="If">if</FONT> (<FONT ID="This">this</FONT>.getProbXGivenC(filtered, filtered.classAttribute().indexOfValue(m_TargetClassLabel)) &gt;= m_Threshold)
<FONT ID="LN">1396</FONT><A NAME="1396"></A>    dist[instance.classAttribute().indexOfValue(m_TargetClassLabel)] = <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">1397</FONT><A NAME="1397"></A>      <FONT ID="Else">else</FONT>
<FONT ID="LN">1398</FONT><A NAME="1398"></A>    dist[instance.classAttribute().indexOfValue(m_TargetClassLabel)] = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1399</FONT><A NAME="1399"></A>    } <FONT ID="Else">else</FONT>
<FONT ID="LN">1400</FONT><A NAME="1400"></A>      dist[instance.classAttribute().indexOfValue(OneClassClassifier.OUTLIER_LABEL)] = probForOutlierClass;
<FONT ID="LN">1401</FONT><A NAME="1401"></A>
<FONT ID="LN">1402</FONT><A NAME="1402"></A>    <FONT ID="Return">return</FONT> dist;
<FONT ID="LN">1403</FONT><A NAME="1403"></A>  }
<FONT ID="LN">1404</FONT><A NAME="1404"></A>
<FONT ID="LN">1405</FONT><A NAME="1405"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1406</FONT><A NAME="1406"></A>   * Output a representation of this classifier
<FONT ID="LN">1407</FONT><A NAME="1407"></A>   * 
<FONT ID="LN">1408</FONT><A NAME="1408"></A>   * @return a representation of this classifier
<FONT ID="LN">1409</FONT><A NAME="1409"></A>   */</FONT>
<FONT ID="LN">1410</FONT><A NAME="1410"></A>  <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">1411</FONT><A NAME="1411"></A>
<FONT ID="LN">1412</FONT><A NAME="1412"></A>    StringBuffer result = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">1413</FONT><A NAME="1413"></A>    result.append(<FONT ID="StringLiteral">"\n\nClassifier Model\n"</FONT>+m_Classifier.toString());
<FONT ID="LN">1414</FONT><A NAME="1414"></A>
<FONT ID="LN">1415</FONT><A NAME="1415"></A>    <FONT ID="Return">return</FONT> result.toString();
<FONT ID="LN">1416</FONT><A NAME="1416"></A>  }
<FONT ID="LN">1417</FONT><A NAME="1417"></A>
<FONT ID="LN">1418</FONT><A NAME="1418"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1419</FONT><A NAME="1419"></A>   * Returns the revision string.
<FONT ID="LN">1420</FONT><A NAME="1420"></A>   *
<FONT ID="LN">1421</FONT><A NAME="1421"></A>   * @return The revision string.
<FONT ID="LN">1422</FONT><A NAME="1422"></A>   */</FONT>
<FONT ID="LN">1423</FONT><A NAME="1423"></A>  <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">1424</FONT><A NAME="1424"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"$Revision: 5987 $"</FONT>;
<FONT ID="LN">1425</FONT><A NAME="1425"></A>  }
<FONT ID="LN">1426</FONT><A NAME="1426"></A>
<FONT ID="LN">1427</FONT><A NAME="1427"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1428</FONT><A NAME="1428"></A>   * Main method for executing this classifier.
<FONT ID="LN">1429</FONT><A NAME="1429"></A>   *
<FONT ID="LN">1430</FONT><A NAME="1430"></A>   * @param args    use -h to see all available options
<FONT ID="LN">1431</FONT><A NAME="1431"></A>   */</FONT>
<FONT ID="LN">1432</FONT><A NAME="1432"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Void">void</FONT> main(String[] args) {
<FONT ID="LN">1433</FONT><A NAME="1433"></A>    runClassifier(<FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/meta/OneClassClassifier.java.html">OneClassClassifier</A>(), args);
<FONT ID="LN">1434</FONT><A NAME="1434"></A>  }
<FONT ID="LN">1435</FONT><A NAME="1435"></A>}
<FONT ID="LN">1436</FONT><A NAME="1436"></A>
<FONT ID="LN">1437</FONT><A NAME="1437"></A></pre><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">OneClassClassifier.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>

</BODY>
</HTML>