<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD>
<LINK REL=STYLESHEET TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
<META NAME="GENERATOR" CONTENT="Java2HTML Version 1.5">
<TITLE>weka.classifiers.functions.MultilayerPerceptronCS (Java2HTML)</TITLE>
</HEAD>
<BODY><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">MultilayerPerceptronCS.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>
<pre ID="Classes">
<FONT ID="LN">1   </FONT><A NAME="1"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">2   </FONT><A NAME="2"></A> *    This program is free software; you can redistribute it and/or modify
<FONT ID="LN">3   </FONT><A NAME="3"></A> *    it under the terms of the GNU General Public License as published by
<FONT ID="LN">4   </FONT><A NAME="4"></A> *    the Free Software Foundation; either version 2 of the License, or
<FONT ID="LN">5   </FONT><A NAME="5"></A> *    (at your option) any later version.
<FONT ID="LN">6   </FONT><A NAME="6"></A> *
<FONT ID="LN">7   </FONT><A NAME="7"></A> *    This program is distributed in the hope that it will be useful,
<FONT ID="LN">8   </FONT><A NAME="8"></A> *    but WITHOUT ANY WARRANTY; without even the implied warranty of
<FONT ID="LN">9   </FONT><A NAME="9"></A> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
<FONT ID="LN">10  </FONT><A NAME="10"></A> *    GNU General Public License for more details.
<FONT ID="LN">11  </FONT><A NAME="11"></A> *
<FONT ID="LN">12  </FONT><A NAME="12"></A> *    You should have received a copy of the GNU General Public License
<FONT ID="LN">13  </FONT><A NAME="13"></A> *    along with this program; if not, write to the Free Software
<FONT ID="LN">14  </FONT><A NAME="14"></A> *    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
<FONT ID="LN">15  </FONT><A NAME="15"></A> */</FONT>
<FONT ID="LN">16  </FONT><A NAME="16"></A>
<FONT ID="LN">17  </FONT><A NAME="17"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">18  </FONT><A NAME="18"></A> *    MultilayerPerceptronCS.java
<FONT ID="LN">19  </FONT><A NAME="19"></A> *    Copyright (C) 2000 University of Waikato, Hamilton, New Zealand
<FONT ID="LN">20  </FONT><A NAME="20"></A> */</FONT>
<FONT ID="LN">21  </FONT><A NAME="21"></A>
<FONT ID="LN">22  </FONT><A NAME="22"></A><FONT ID="Package">package</FONT> weka.classifiers.functions;
<FONT ID="LN">23  </FONT><A NAME="23"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/AbstractClassifier.java.html">weka.classifiers.AbstractClassifier</A>;
<FONT ID="LN">24  </FONT><A NAME="24"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/Classifier.java.html">weka.classifiers.Classifier</A>;
<FONT ID="LN">25  </FONT><A NAME="25"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/functions/neural/LinearUnit.java.html">weka.classifiers.functions.neural.LinearUnit</A>;
<FONT ID="LN">26  </FONT><A NAME="26"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">weka.classifiers.functions.neural.NeuralConnection</A>;
<FONT ID="LN">27  </FONT><A NAME="27"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">weka.classifiers.functions.neural.NeuralNode</A>;
<FONT ID="LN">28  </FONT><A NAME="28"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/functions/neural/SigmoidUnit.java.html">weka.classifiers.functions.neural.SigmoidUnit</A>;
<FONT ID="LN">29  </FONT><A NAME="29"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Capabilities.java.html">weka.core.Capabilities</A>;
<FONT ID="LN">30  </FONT><A NAME="30"></A><FONT ID="SingleLineComment">//modCS.V &amp; modCS.S; require the data source converter to read the files.
<FONT ID="LN">31  </FONT><A NAME="31"></A></FONT><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/converters/ConverterUtils.java.html">weka.core.converters.ConverterUtils.DataSource</A>;
<FONT ID="LN">32  </FONT><A NAME="32"></A>
<FONT ID="LN">33  </FONT><A NAME="33"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/FastVector.java.html">weka.core.FastVector</A>;
<FONT ID="LN">34  </FONT><A NAME="34"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Instance.java.html">weka.core.Instance</A>;
<FONT ID="LN">35  </FONT><A NAME="35"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Instances.java.html">weka.core.Instances</A>;
<FONT ID="LN">36  </FONT><A NAME="36"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Option.java.html">weka.core.Option</A>;
<FONT ID="LN">37  </FONT><A NAME="37"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/OptionHandler.java.html">weka.core.OptionHandler</A>;
<FONT ID="LN">38  </FONT><A NAME="38"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Randomizable.java.html">weka.core.Randomizable</A>;
<FONT ID="LN">39  </FONT><A NAME="39"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/RevisionHandler.java.html">weka.core.RevisionHandler</A>;
<FONT ID="LN">40  </FONT><A NAME="40"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/RevisionUtils.java.html">weka.core.RevisionUtils</A>;
<FONT ID="LN">41  </FONT><A NAME="41"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Utils.java.html">weka.core.Utils</A>;
<FONT ID="LN">42  </FONT><A NAME="42"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/WeightedInstancesHandler.java.html">weka.core.WeightedInstancesHandler</A>;
<FONT ID="LN">43  </FONT><A NAME="43"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Capabilities.java.html">weka.core.Capabilities.Capability</A>;
<FONT ID="LN">44  </FONT><A NAME="44"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/filters/Filter.java.html">weka.filters.Filter</A>;
<FONT ID="LN">45  </FONT><A NAME="45"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/NominalToBinary.java.html">weka.filters.unsupervised.attribute.NominalToBinary</A>;
<FONT ID="LN">46  </FONT><A NAME="46"></A>
<FONT ID="LN">47  </FONT><A NAME="47"></A><FONT ID="Import">import</FONT> java.awt.BorderLayout;
<FONT ID="LN">48  </FONT><A NAME="48"></A><FONT ID="Import">import</FONT> java.awt.Color;
<FONT ID="LN">49  </FONT><A NAME="49"></A><FONT ID="Import">import</FONT> java.awt.Component;
<FONT ID="LN">50  </FONT><A NAME="50"></A><FONT ID="Import">import</FONT> java.awt.Dimension;
<FONT ID="LN">51  </FONT><A NAME="51"></A><FONT ID="Import">import</FONT> java.awt.FontMetrics;
<FONT ID="LN">52  </FONT><A NAME="52"></A><FONT ID="Import">import</FONT> java.awt.Graphics;
<FONT ID="LN">53  </FONT><A NAME="53"></A><FONT ID="Import">import</FONT> java.awt.event.ActionEvent;
<FONT ID="LN">54  </FONT><A NAME="54"></A><FONT ID="Import">import</FONT> java.awt.event.ActionListener;
<FONT ID="LN">55  </FONT><A NAME="55"></A><FONT ID="Import">import</FONT> java.awt.event.MouseAdapter;
<FONT ID="LN">56  </FONT><A NAME="56"></A><FONT ID="Import">import</FONT> java.awt.event.MouseEvent;
<FONT ID="LN">57  </FONT><A NAME="57"></A><FONT ID="Import">import</FONT> java.awt.event.WindowAdapter;
<FONT ID="LN">58  </FONT><A NAME="58"></A><FONT ID="Import">import</FONT> java.awt.event.WindowEvent;
<FONT ID="LN">59  </FONT><A NAME="59"></A><FONT ID="Import">import</FONT> java.util.Enumeration;
<FONT ID="LN">60  </FONT><A NAME="60"></A><FONT ID="Import">import</FONT> java.util.Random;
<FONT ID="LN">61  </FONT><A NAME="61"></A><FONT ID="Import">import</FONT> java.util.StringTokenizer;
<FONT ID="LN">62  </FONT><A NAME="62"></A><FONT ID="Import">import</FONT> java.util.Vector;
<FONT ID="LN">63  </FONT><A NAME="63"></A>
<FONT ID="LN">64  </FONT><A NAME="64"></A><FONT ID="Import">import</FONT> javax.swing.BorderFactory;
<FONT ID="LN">65  </FONT><A NAME="65"></A><FONT ID="Import">import</FONT> javax.swing.Box;
<FONT ID="LN">66  </FONT><A NAME="66"></A><FONT ID="Import">import</FONT> javax.swing.BoxLayout;
<FONT ID="LN">67  </FONT><A NAME="67"></A><FONT ID="Import">import</FONT> javax.swing.JButton;
<FONT ID="LN">68  </FONT><A NAME="68"></A><FONT ID="Import">import</FONT> javax.swing.JFrame;
<FONT ID="LN">69  </FONT><A NAME="69"></A><FONT ID="Import">import</FONT> javax.swing.JLabel;
<FONT ID="LN">70  </FONT><A NAME="70"></A><FONT ID="Import">import</FONT> javax.swing.JOptionPane;
<FONT ID="LN">71  </FONT><A NAME="71"></A><FONT ID="Import">import</FONT> javax.swing.JPanel;
<FONT ID="LN">72  </FONT><A NAME="72"></A><FONT ID="Import">import</FONT> javax.swing.JScrollPane;
<FONT ID="LN">73  </FONT><A NAME="73"></A><FONT ID="Import">import</FONT> javax.swing.JTextField;
<FONT ID="LN">74  </FONT><A NAME="74"></A>
<FONT ID="LN">75  </FONT><A NAME="75"></A><FONT ID="FormalComment">/** 
<FONT ID="LN">76  </FONT><A NAME="76"></A> &lt;!-- globalinfo-start --&gt;
<FONT ID="LN">77  </FONT><A NAME="77"></A> * A Classifier that uses backpropagation to classify instances.&lt;br/&gt;
<FONT ID="LN">78  </FONT><A NAME="78"></A> * This network can be built by hand, created by an algorithm or both. The network can also be monitored and modified during training time. The nodes in this network are all sigmoid (except for when the class is numeric in which case the the output nodes become unthresholded linear units).
<FONT ID="LN">79  </FONT><A NAME="79"></A> * &lt;p/&gt;
<FONT ID="LN">80  </FONT><A NAME="80"></A> &lt;!-- globalinfo-end --&gt;
<FONT ID="LN">81  </FONT><A NAME="81"></A> *
<FONT ID="LN">82  </FONT><A NAME="82"></A> &lt;!-- options-start --&gt;
<FONT ID="LN">83  </FONT><A NAME="83"></A> * Valid options are: &lt;p/&gt;
<FONT ID="LN">84  </FONT><A NAME="84"></A> * 
<FONT ID="LN">85  </FONT><A NAME="85"></A> * &lt;pre&gt; -L &amp;lt;learning rate&amp;gt;
<FONT ID="LN">86  </FONT><A NAME="86"></A> *  Learning Rate for the backpropagation algorithm.
<FONT ID="LN">87  </FONT><A NAME="87"></A> *  (Value should be between 0 - 1, Default = 0.3).&lt;/pre&gt;
<FONT ID="LN">88  </FONT><A NAME="88"></A> * 
<FONT ID="LN">89  </FONT><A NAME="89"></A> * &lt;pre&gt; -M &amp;lt;momentum&amp;gt;
<FONT ID="LN">90  </FONT><A NAME="90"></A> *  Momentum Rate for the backpropagation algorithm.
<FONT ID="LN">91  </FONT><A NAME="91"></A> *  (Value should be between 0 - 1, Default = 0.2).&lt;/pre&gt;
<FONT ID="LN">92  </FONT><A NAME="92"></A> * 
<FONT ID="LN">93  </FONT><A NAME="93"></A> * &lt;pre&gt; -N &amp;lt;number of epochs&amp;gt;
<FONT ID="LN">94  </FONT><A NAME="94"></A> *  Number of epochs to train through.
<FONT ID="LN">95  </FONT><A NAME="95"></A> *  (Default = 500).&lt;/pre&gt;
<FONT ID="LN">96  </FONT><A NAME="96"></A> * 
<FONT ID="LN">97  </FONT><A NAME="97"></A> * &lt;pre&gt; -V &amp;lt;percentage size of validation set&amp;gt;
<FONT ID="LN">98  </FONT><A NAME="98"></A> *  Percentage size of validation set to use to terminate
<FONT ID="LN">99  </FONT><A NAME="99"></A> *  training (if this is non zero it can pre-empt num of epochs.
<FONT ID="LN">100 </FONT><A NAME="100"></A> *  (Value should be between 0 - 100, Default = 0).&lt;/pre&gt;
<FONT ID="LN">101 </FONT><A NAME="101"></A> * 
<FONT ID="LN">102 </FONT><A NAME="102"></A> * &lt;pre&gt; -S &amp;lt;seed&amp;gt;
<FONT ID="LN">103 </FONT><A NAME="103"></A> *  The value used to seed the random number generator
<FONT ID="LN">104 </FONT><A NAME="104"></A> *  (Value should be &amp;gt;= 0 and and a long, Default = 0).&lt;/pre&gt;
<FONT ID="LN">105 </FONT><A NAME="105"></A> * 
<FONT ID="LN">106 </FONT><A NAME="106"></A> * &lt;pre&gt; -E &amp;lt;threshold for number of consequetive errors&amp;gt;
<FONT ID="LN">107 </FONT><A NAME="107"></A> *  The consequetive number of errors allowed for validation
<FONT ID="LN">108 </FONT><A NAME="108"></A> *  testing before the netwrok terminates.
<FONT ID="LN">109 </FONT><A NAME="109"></A> *  (Value should be &amp;gt; 0, Default = 20).&lt;/pre&gt;
<FONT ID="LN">110 </FONT><A NAME="110"></A> * 
<FONT ID="LN">111 </FONT><A NAME="111"></A> * &lt;pre&gt; -G
<FONT ID="LN">112 </FONT><A NAME="112"></A> *  GUI will be opened.
<FONT ID="LN">113 </FONT><A NAME="113"></A> *  (Use this to bring up a GUI).&lt;/pre&gt;
<FONT ID="LN">114 </FONT><A NAME="114"></A> * 
<FONT ID="LN">115 </FONT><A NAME="115"></A> * &lt;pre&gt; -A
<FONT ID="LN">116 </FONT><A NAME="116"></A> *  Autocreation of the network connections will NOT be done.
<FONT ID="LN">117 </FONT><A NAME="117"></A> *  (This will be ignored if -G is NOT set)&lt;/pre&gt;
<FONT ID="LN">118 </FONT><A NAME="118"></A> * 
<FONT ID="LN">119 </FONT><A NAME="119"></A> * &lt;pre&gt; -B
<FONT ID="LN">120 </FONT><A NAME="120"></A> *  A NominalToBinary filter will NOT automatically be used.
<FONT ID="LN">121 </FONT><A NAME="121"></A> *  (Set this to not use a NominalToBinary filter).&lt;/pre&gt;
<FONT ID="LN">122 </FONT><A NAME="122"></A> * 
<FONT ID="LN">123 </FONT><A NAME="123"></A> * &lt;pre&gt; -H &amp;lt;comma seperated numbers for nodes on each layer&amp;gt;
<FONT ID="LN">124 </FONT><A NAME="124"></A> *  The hidden layers to be created for the network.
<FONT ID="LN">125 </FONT><A NAME="125"></A> *  (Value should be a list of comma separated Natural 
<FONT ID="LN">126 </FONT><A NAME="126"></A> *  numbers or the letters 'a' = (attribs + classes) / 2, 
<FONT ID="LN">127 </FONT><A NAME="127"></A> *  'i' = attribs, 'o' = classes, 't' = attribs .+ classes)
<FONT ID="LN">128 </FONT><A NAME="128"></A> *  for wildcard values, Default = a).&lt;/pre&gt;
<FONT ID="LN">129 </FONT><A NAME="129"></A> * 
<FONT ID="LN">130 </FONT><A NAME="130"></A> * &lt;pre&gt; -C
<FONT ID="LN">131 </FONT><A NAME="131"></A> *  Normalizing a numeric class will NOT be done.
<FONT ID="LN">132 </FONT><A NAME="132"></A> *  (Set this to not normalize the class if it's numeric).&lt;/pre&gt;
<FONT ID="LN">133 </FONT><A NAME="133"></A> * 
<FONT ID="LN">134 </FONT><A NAME="134"></A> * &lt;pre&gt; -I
<FONT ID="LN">135 </FONT><A NAME="135"></A> *  Normalizing the attributes will NOT be done.
<FONT ID="LN">136 </FONT><A NAME="136"></A> *  (Set this to not normalize the attributes).&lt;/pre&gt;
<FONT ID="LN">137 </FONT><A NAME="137"></A> * 
<FONT ID="LN">138 </FONT><A NAME="138"></A> * &lt;pre&gt; -R
<FONT ID="LN">139 </FONT><A NAME="139"></A> *  Reseting the network will NOT be allowed.
<FONT ID="LN">140 </FONT><A NAME="140"></A> *  (Set this to not allow the network to reset).&lt;/pre&gt;
<FONT ID="LN">141 </FONT><A NAME="141"></A> * 
<FONT ID="LN">142 </FONT><A NAME="142"></A> * &lt;pre&gt; -D
<FONT ID="LN">143 </FONT><A NAME="143"></A> *  Learning rate decay will occur.
<FONT ID="LN">144 </FONT><A NAME="144"></A> *  (Set this to cause the learning rate to decay).&lt;/pre&gt;
<FONT ID="LN">145 </FONT><A NAME="145"></A> * 
<FONT ID="LN">146 </FONT><A NAME="146"></A> * &lt;pre&gt; -validation-set &amp;lt;data source file&amp;gt;
<FONT ID="LN">147 </FONT><A NAME="147"></A> *  Validation set to use,  as drawn from the data source file.
<FONT ID="LN">148 </FONT><A NAME="148"></A> * &lt;/pre&gt;
<FONT ID="LN">149 </FONT><A NAME="149"></A> * 
<FONT ID="LN">150 </FONT><A NAME="150"></A> * &lt;pre&gt; -secondary-training &amp;lt;data source file&amp;gt;
<FONT ID="LN">151 </FONT><A NAME="151"></A> *  Secondary task training set to use, as drawn from the data source file.
<FONT ID="LN">152 </FONT><A NAME="152"></A> * &lt;/pre&gt;
<FONT ID="LN">153 </FONT><A NAME="153"></A> * 
<FONT ID="LN">154 </FONT><A NAME="154"></A> &lt;!-- options-end --&gt;
<FONT ID="LN">155 </FONT><A NAME="155"></A> *
<FONT ID="LN">156 </FONT><A NAME="156"></A> * @author Malcolm Ware (mfw4@cs.waikato.ac.nz)
<FONT ID="LN">157 </FONT><A NAME="157"></A> * @version $Revision: 6202 $
<FONT ID="LN">158 </FONT><A NAME="158"></A> */</FONT>
<FONT ID="LN">159 </FONT><A NAME="159"></A><FONT ID="Public">public</FONT> <FONT ID="Class">class</FONT> MultilayerPerceptronCS 
<FONT ID="LN">160 </FONT><A NAME="160"></A>  <FONT ID="Extends">extends</FONT> <A HREF="../../../weka/classifiers/AbstractClassifier.java.html">AbstractClassifier</A> 
<FONT ID="LN">161 </FONT><A NAME="161"></A>  <FONT ID="Implements">implements</FONT> <A HREF="../../../weka/core/OptionHandler.java.html">OptionHandler</A>, <A HREF="../../../weka/core/WeightedInstancesHandler.java.html">WeightedInstancesHandler</A>, <A HREF="../../../weka/core/Randomizable.java.html">Randomizable</A> {
<FONT ID="LN">162 </FONT><A NAME="162"></A>  
<FONT ID="LN">163 </FONT><A NAME="163"></A>  <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">164 </FONT><A NAME="164"></A>  <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">572250905027665169L</FONT>;
<FONT ID="LN">165 </FONT><A NAME="165"></A>  
<FONT ID="LN">166 </FONT><A NAME="166"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">167 </FONT><A NAME="167"></A>   * Main method for testing this class.
<FONT ID="LN">168 </FONT><A NAME="168"></A>   *
<FONT ID="LN">169 </FONT><A NAME="169"></A>   * @param argv should contain command line options (see setOptions)
<FONT ID="LN">170 </FONT><A NAME="170"></A>   */</FONT>
<FONT ID="LN">171 </FONT><A NAME="171"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Void">void</FONT> main(String [] argv) {
<FONT ID="LN">172 </FONT><A NAME="172"></A>    runClassifier(<FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/MultilayerPerceptronCS.java.html">MultilayerPerceptronCS</A>(), argv);
<FONT ID="LN">173 </FONT><A NAME="173"></A>  }
<FONT ID="LN">174 </FONT><A NAME="174"></A>  
<FONT ID="LN">175 </FONT><A NAME="175"></A>
<FONT ID="LN">176 </FONT><A NAME="176"></A>  <FONT ID="FormalComment">/** 
<FONT ID="LN">177 </FONT><A NAME="177"></A>   * This inner class is used to connect the nodes in the network up to
<FONT ID="LN">178 </FONT><A NAME="178"></A>   * the data that they are classifying, Note that objects of this class are
<FONT ID="LN">179 </FONT><A NAME="179"></A>   * only suitable to go on the attribute side or class side of the network
<FONT ID="LN">180 </FONT><A NAME="180"></A>   * and not both.
<FONT ID="LN">181 </FONT><A NAME="181"></A>   */</FONT>
<FONT ID="LN">182 </FONT><A NAME="182"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Class">class</FONT> NeuralEnd 
<FONT ID="LN">183 </FONT><A NAME="183"></A>    <FONT ID="Extends">extends</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A> {
<FONT ID="LN">184 </FONT><A NAME="184"></A>    
<FONT ID="LN">185 </FONT><A NAME="185"></A>    <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">186 </FONT><A NAME="186"></A>    <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">7305185603191183338L</FONT>;
<FONT ID="LN">187 </FONT><A NAME="187"></A>  
<FONT ID="LN">188 </FONT><A NAME="188"></A>    <FONT ID="FormalComment">/** 
<FONT ID="LN">189 </FONT><A NAME="189"></A>     * the value that represents the instance value this node represents. 
<FONT ID="LN">190 </FONT><A NAME="190"></A>     * For an input it is the attribute number, for an output, if nominal
<FONT ID="LN">191 </FONT><A NAME="191"></A>     * it is the class value. 
<FONT ID="LN">192 </FONT><A NAME="192"></A>     */</FONT>
<FONT ID="LN">193 </FONT><A NAME="193"></A>    <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_link;
<FONT ID="LN">194 </FONT><A NAME="194"></A>    
<FONT ID="LN">195 </FONT><A NAME="195"></A>    <FONT ID="FormalComment">/** True if node is an input, False if it's an output. */</FONT>
<FONT ID="LN">196 </FONT><A NAME="196"></A>    <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_input;
<FONT ID="LN">197 </FONT><A NAME="197"></A>
<FONT ID="LN">198 </FONT><A NAME="198"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">199 </FONT><A NAME="199"></A>     * Constructor
<FONT ID="LN">200 </FONT><A NAME="200"></A>     */</FONT>
<FONT ID="LN">201 </FONT><A NAME="201"></A>    <FONT ID="Public">public</FONT> NeuralEnd(String id) {
<FONT ID="LN">202 </FONT><A NAME="202"></A>      <FONT ID="Super">super</FONT>(id);
<FONT ID="LN">203 </FONT><A NAME="203"></A>
<FONT ID="LN">204 </FONT><A NAME="204"></A>      m_link = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">205 </FONT><A NAME="205"></A>      m_input = <FONT ID="True">true</FONT>;
<FONT ID="LN">206 </FONT><A NAME="206"></A>      
<FONT ID="LN">207 </FONT><A NAME="207"></A>    }
<FONT ID="LN">208 </FONT><A NAME="208"></A>  
<FONT ID="LN">209 </FONT><A NAME="209"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">210 </FONT><A NAME="210"></A>     * Call this function to determine if the point at x,y is on the unit.
<FONT ID="LN">211 </FONT><A NAME="211"></A>     * @param g The graphics context for font size info.
<FONT ID="LN">212 </FONT><A NAME="212"></A>     * @param x The x coord.
<FONT ID="LN">213 </FONT><A NAME="213"></A>     * @param y The y coord.
<FONT ID="LN">214 </FONT><A NAME="214"></A>     * @param w The width of the display.
<FONT ID="LN">215 </FONT><A NAME="215"></A>     * @param h The height of the display.
<FONT ID="LN">216 </FONT><A NAME="216"></A>     * @return True if the point is on the unit, false otherwise.
<FONT ID="LN">217 </FONT><A NAME="217"></A>     */</FONT>
<FONT ID="LN">218 </FONT><A NAME="218"></A>    <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> onUnit(Graphics g, <FONT ID="Int">int</FONT> x, <FONT ID="Int">int</FONT> y, <FONT ID="Int">int</FONT> w, <FONT ID="Int">int</FONT> h) {
<FONT ID="LN">219 </FONT><A NAME="219"></A>      
<FONT ID="LN">220 </FONT><A NAME="220"></A>      FontMetrics fm = g.getFontMetrics();
<FONT ID="LN">221 </FONT><A NAME="221"></A>      <FONT ID="Int">int</FONT> l = (<FONT ID="Int">int</FONT>)(m_x * w) - fm.stringWidth(m_id) / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">222 </FONT><A NAME="222"></A>      <FONT ID="Int">int</FONT> t = (<FONT ID="Int">int</FONT>)(m_y * h) - fm.getHeight() / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">223 </FONT><A NAME="223"></A>      <FONT ID="If">if</FONT> (x &lt; l || x &gt; l + fm.stringWidth(m_id) + <FONT ID="IntegerLiteral">4</FONT> 
<FONT ID="LN">224 </FONT><A NAME="224"></A>      || y &lt; t || y &gt; t + fm.getHeight() + fm.getDescent() + <FONT ID="IntegerLiteral">4</FONT>) {
<FONT ID="LN">225 </FONT><A NAME="225"></A>    <FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;
<FONT ID="LN">226 </FONT><A NAME="226"></A>      }
<FONT ID="LN">227 </FONT><A NAME="227"></A>      <FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;
<FONT ID="LN">228 </FONT><A NAME="228"></A>      
<FONT ID="LN">229 </FONT><A NAME="229"></A>    }
<FONT ID="LN">230 </FONT><A NAME="230"></A>   
<FONT ID="LN">231 </FONT><A NAME="231"></A>
<FONT ID="LN">232 </FONT><A NAME="232"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">233 </FONT><A NAME="233"></A>     * This will draw the node id to the graphics context.
<FONT ID="LN">234 </FONT><A NAME="234"></A>     * @param g The graphics context.
<FONT ID="LN">235 </FONT><A NAME="235"></A>     * @param w The width of the drawing area.
<FONT ID="LN">236 </FONT><A NAME="236"></A>     * @param h The height of the drawing area.
<FONT ID="LN">237 </FONT><A NAME="237"></A>     */</FONT>
<FONT ID="LN">238 </FONT><A NAME="238"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> drawNode(Graphics g, <FONT ID="Int">int</FONT> w, <FONT ID="Int">int</FONT> h) {
<FONT ID="LN">239 </FONT><A NAME="239"></A>      
<FONT ID="LN">240 </FONT><A NAME="240"></A>      <FONT ID="If">if</FONT> ((m_type &amp; PURE_INPUT) == PURE_INPUT) {
<FONT ID="LN">241 </FONT><A NAME="241"></A>    g.setColor(Color.green);
<FONT ID="LN">242 </FONT><A NAME="242"></A>      }
<FONT ID="LN">243 </FONT><A NAME="243"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">244 </FONT><A NAME="244"></A>    g.setColor(Color.orange);
<FONT ID="LN">245 </FONT><A NAME="245"></A>      }
<FONT ID="LN">246 </FONT><A NAME="246"></A>      
<FONT ID="LN">247 </FONT><A NAME="247"></A>      FontMetrics fm = g.getFontMetrics();
<FONT ID="LN">248 </FONT><A NAME="248"></A>      <FONT ID="Int">int</FONT> l = (<FONT ID="Int">int</FONT>)(m_x * w) - fm.stringWidth(m_id) / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">249 </FONT><A NAME="249"></A>      <FONT ID="Int">int</FONT> t = (<FONT ID="Int">int</FONT>)(m_y * h) - fm.getHeight() / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">250 </FONT><A NAME="250"></A>      g.fill3DRect(l, t, fm.stringWidth(m_id) + <FONT ID="IntegerLiteral">4</FONT>
<FONT ID="LN">251 </FONT><A NAME="251"></A>           , fm.getHeight() + fm.getDescent() + <FONT ID="IntegerLiteral">4</FONT>
<FONT ID="LN">252 </FONT><A NAME="252"></A>           , <FONT ID="True">true</FONT>);
<FONT ID="LN">253 </FONT><A NAME="253"></A>      g.setColor(Color.black);
<FONT ID="LN">254 </FONT><A NAME="254"></A>      
<FONT ID="LN">255 </FONT><A NAME="255"></A>      g.drawString(m_id, l + <FONT ID="IntegerLiteral">2</FONT>, t + fm.getHeight() + <FONT ID="IntegerLiteral">2</FONT>);
<FONT ID="LN">256 </FONT><A NAME="256"></A>
<FONT ID="LN">257 </FONT><A NAME="257"></A>    }
<FONT ID="LN">258 </FONT><A NAME="258"></A>
<FONT ID="LN">259 </FONT><A NAME="259"></A>
<FONT ID="LN">260 </FONT><A NAME="260"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">261 </FONT><A NAME="261"></A>     * Call this function to draw the node highlighted.
<FONT ID="LN">262 </FONT><A NAME="262"></A>     * @param g The graphics context.
<FONT ID="LN">263 </FONT><A NAME="263"></A>     * @param w The width of the drawing area.
<FONT ID="LN">264 </FONT><A NAME="264"></A>     * @param h The height of the drawing area.
<FONT ID="LN">265 </FONT><A NAME="265"></A>     */</FONT>
<FONT ID="LN">266 </FONT><A NAME="266"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> drawHighlight(Graphics g, <FONT ID="Int">int</FONT> w, <FONT ID="Int">int</FONT> h) {
<FONT ID="LN">267 </FONT><A NAME="267"></A>      
<FONT ID="LN">268 </FONT><A NAME="268"></A>      g.setColor(Color.black);
<FONT ID="LN">269 </FONT><A NAME="269"></A>      FontMetrics fm = g.getFontMetrics();
<FONT ID="LN">270 </FONT><A NAME="270"></A>      <FONT ID="Int">int</FONT> l = (<FONT ID="Int">int</FONT>)(m_x * w) - fm.stringWidth(m_id) / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">271 </FONT><A NAME="271"></A>      <FONT ID="Int">int</FONT> t = (<FONT ID="Int">int</FONT>)(m_y * h) - fm.getHeight() / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">272 </FONT><A NAME="272"></A>      g.fillRect(l - <FONT ID="IntegerLiteral">2</FONT>, t - <FONT ID="IntegerLiteral">2</FONT>, fm.stringWidth(m_id) + <FONT ID="IntegerLiteral">8</FONT>
<FONT ID="LN">273 </FONT><A NAME="273"></A>         , fm.getHeight() + fm.getDescent() + <FONT ID="IntegerLiteral">8</FONT>); 
<FONT ID="LN">274 </FONT><A NAME="274"></A>      drawNode(g, w, h);
<FONT ID="LN">275 </FONT><A NAME="275"></A>    }
<FONT ID="LN">276 </FONT><A NAME="276"></A>    
<FONT ID="LN">277 </FONT><A NAME="277"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">278 </FONT><A NAME="278"></A>     * Call this to get the output value of this unit. 
<FONT ID="LN">279 </FONT><A NAME="279"></A>     * @param calculate True if the value should be calculated if it hasn't 
<FONT ID="LN">280 </FONT><A NAME="280"></A>     * been already.
<FONT ID="LN">281 </FONT><A NAME="281"></A>     * @return The output value, or NaN, if the value has not been calculated.
<FONT ID="LN">282 </FONT><A NAME="282"></A>     */</FONT>
<FONT ID="LN">283 </FONT><A NAME="283"></A>    <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> outputValue(<FONT ID="Boolean">boolean</FONT> calculate) {
<FONT ID="LN">284 </FONT><A NAME="284"></A>     
<FONT ID="LN">285 </FONT><A NAME="285"></A>      <FONT ID="If">if</FONT> (Double.isNaN(m_unitValue) &amp;&amp; calculate) {
<FONT ID="LN">286 </FONT><A NAME="286"></A>    <FONT ID="If">if</FONT> (m_input) {
<FONT ID="LN">287 </FONT><A NAME="287"></A>      <FONT ID="If">if</FONT> (m_currentInstance.isMissing(m_link)) {
<FONT ID="LN">288 </FONT><A NAME="288"></A>        m_unitValue = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">289 </FONT><A NAME="289"></A>      }
<FONT ID="LN">290 </FONT><A NAME="290"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">291 </FONT><A NAME="291"></A>        
<FONT ID="LN">292 </FONT><A NAME="292"></A>        m_unitValue = m_currentInstance.value(m_link);
<FONT ID="LN">293 </FONT><A NAME="293"></A>      }
<FONT ID="LN">294 </FONT><A NAME="294"></A>    }
<FONT ID="LN">295 </FONT><A NAME="295"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">296 </FONT><A NAME="296"></A>      <FONT ID="SingleLineComment">//node is an output.
<FONT ID="LN">297 </FONT><A NAME="297"></A></FONT>      m_unitValue = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">298 </FONT><A NAME="298"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numInputs; noa++) {
<FONT ID="LN">299 </FONT><A NAME="299"></A>        m_unitValue += m_inputList[noa].outputValue(<FONT ID="True">true</FONT>);
<FONT ID="LN">300 </FONT><A NAME="300"></A>       
<FONT ID="LN">301 </FONT><A NAME="301"></A>      }
<FONT ID="LN">302 </FONT><A NAME="302"></A>      <FONT ID="If">if</FONT> (m_numeric &amp;&amp; m_normalizeClass) {
<FONT ID="LN">303 </FONT><A NAME="303"></A>        <FONT ID="SingleLineComment">//then scale the value;
<FONT ID="LN">304 </FONT><A NAME="304"></A></FONT>        <FONT ID="SingleLineComment">//this scales linearly from between -1 and 1
<FONT ID="LN">305 </FONT><A NAME="305"></A></FONT>        m_unitValue = m_unitValue * 
<FONT ID="LN">306 </FONT><A NAME="306"></A>          m_attributeRanges[m_instances.classIndex()] + 
<FONT ID="LN">307 </FONT><A NAME="307"></A>          m_attributeBases[m_instances.classIndex()];
<FONT ID="LN">308 </FONT><A NAME="308"></A>      }         
<FONT ID="LN">309 </FONT><A NAME="309"></A>    }
<FONT ID="LN">310 </FONT><A NAME="310"></A>      }
<FONT ID="LN">311 </FONT><A NAME="311"></A>      <FONT ID="Return">return</FONT> m_unitValue;
<FONT ID="LN">312 </FONT><A NAME="312"></A>      
<FONT ID="LN">313 </FONT><A NAME="313"></A>      
<FONT ID="LN">314 </FONT><A NAME="314"></A>    }
<FONT ID="LN">315 </FONT><A NAME="315"></A>    
<FONT ID="LN">316 </FONT><A NAME="316"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">317 </FONT><A NAME="317"></A>     * Call this to get the error value of this unit, which in this case is
<FONT ID="LN">318 </FONT><A NAME="318"></A>     * the difference between the predicted class, and the actual class.
<FONT ID="LN">319 </FONT><A NAME="319"></A>     * @param calculate True if the value should be calculated if it hasn't 
<FONT ID="LN">320 </FONT><A NAME="320"></A>     * been already.
<FONT ID="LN">321 </FONT><A NAME="321"></A>     * @return The error value, or NaN, if the value has not been calculated.
<FONT ID="LN">322 </FONT><A NAME="322"></A>     */</FONT>
<FONT ID="LN">323 </FONT><A NAME="323"></A>    <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> errorValue(<FONT ID="Boolean">boolean</FONT> calculate) {
<FONT ID="LN">324 </FONT><A NAME="324"></A>      
<FONT ID="LN">325 </FONT><A NAME="325"></A>      <FONT ID="If">if</FONT> (!Double.isNaN(m_unitValue) &amp;&amp; Double.isNaN(m_unitError) 
<FONT ID="LN">326 </FONT><A NAME="326"></A>      &amp;&amp; calculate) {
<FONT ID="LN">327 </FONT><A NAME="327"></A>    
<FONT ID="LN">328 </FONT><A NAME="328"></A>    <FONT ID="If">if</FONT> (m_input) {
<FONT ID="LN">329 </FONT><A NAME="329"></A>      m_unitError = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">330 </FONT><A NAME="330"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numOutputs; noa++) {
<FONT ID="LN">331 </FONT><A NAME="331"></A>        m_unitError += m_outputList[noa].errorValue(<FONT ID="True">true</FONT>);
<FONT ID="LN">332 </FONT><A NAME="332"></A>      }
<FONT ID="LN">333 </FONT><A NAME="333"></A>    }
<FONT ID="LN">334 </FONT><A NAME="334"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">335 </FONT><A NAME="335"></A>      <FONT ID="If">if</FONT> (m_currentInstance.classIsMissing()) {
<FONT ID="LN">336 </FONT><A NAME="336"></A>        m_unitError = <FONT ID="FloatPointLiteral">.1</FONT>;  
<FONT ID="LN">337 </FONT><A NAME="337"></A>      }
<FONT ID="LN">338 </FONT><A NAME="338"></A>          <FONT ID="SingleLineComment">//dmod
<FONT ID="LN">339 </FONT><A NAME="339"></A></FONT>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (m_instances.classAttribute().isNominal()) {
<FONT ID="LN">340 </FONT><A NAME="340"></A>        <FONT ID="If">if</FONT> (m_currentInstance.classValue() == m_link) {
<FONT ID="LN">341 </FONT><A NAME="341"></A>          <FONT ID="SingleLineComment">//1
<FONT ID="LN">342 </FONT><A NAME="342"></A></FONT>                m_unitError = <FONT ID="IntegerLiteral">1</FONT> - m_unitValue;
<FONT ID="LN">343 </FONT><A NAME="343"></A>        }
<FONT ID="LN">344 </FONT><A NAME="344"></A>        <FONT ID="Else">else</FONT> { <FONT ID="SingleLineComment">//0
<FONT ID="LN">345 </FONT><A NAME="345"></A></FONT>          m_unitError =  <FONT ID="IntegerLiteral">0</FONT> - m_unitValue;
<FONT ID="LN">346 </FONT><A NAME="346"></A>        }
<FONT ID="LN">347 </FONT><A NAME="347"></A>      }
<FONT ID="LN">348 </FONT><A NAME="348"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (m_numeric) {
<FONT ID="LN">349 </FONT><A NAME="349"></A>        
<FONT ID="LN">350 </FONT><A NAME="350"></A>        <FONT ID="If">if</FONT> (m_normalizeClass) {
<FONT ID="LN">351 </FONT><A NAME="351"></A>          <FONT ID="If">if</FONT> (m_attributeRanges[m_instances.classIndex()] == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">352 </FONT><A NAME="352"></A>        m_unitError = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">353 </FONT><A NAME="353"></A>          }
<FONT ID="LN">354 </FONT><A NAME="354"></A>          <FONT ID="Else">else</FONT> {
<FONT ID="LN">355 </FONT><A NAME="355"></A>        m_unitError = (m_currentInstance.classValue() - m_unitValue ) /
<FONT ID="LN">356 </FONT><A NAME="356"></A>          m_attributeRanges[m_instances.classIndex()];
<FONT ID="LN">357 </FONT><A NAME="357"></A>        <FONT ID="SingleLineComment">//m_numericRange;
<FONT ID="LN">358 </FONT><A NAME="358"></A></FONT>        
<FONT ID="LN">359 </FONT><A NAME="359"></A>          }
<FONT ID="LN">360 </FONT><A NAME="360"></A>        }
<FONT ID="LN">361 </FONT><A NAME="361"></A>        <FONT ID="Else">else</FONT> {
<FONT ID="LN">362 </FONT><A NAME="362"></A>          m_unitError = m_currentInstance.classValue() - m_unitValue;
<FONT ID="LN">363 </FONT><A NAME="363"></A>        }
<FONT ID="LN">364 </FONT><A NAME="364"></A>      }
<FONT ID="LN">365 </FONT><A NAME="365"></A>    }
<FONT ID="LN">366 </FONT><A NAME="366"></A>      }
<FONT ID="LN">367 </FONT><A NAME="367"></A>      <FONT ID="Return">return</FONT> m_unitError;
<FONT ID="LN">368 </FONT><A NAME="368"></A>    }
<FONT ID="LN">369 </FONT><A NAME="369"></A>    
<FONT ID="LN">370 </FONT><A NAME="370"></A>    
<FONT ID="LN">371 </FONT><A NAME="371"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">372 </FONT><A NAME="372"></A>     * Call this to reset the value and error for this unit, ready for the next
<FONT ID="LN">373 </FONT><A NAME="373"></A>     * run. This will also call the reset function of all units that are 
<FONT ID="LN">374 </FONT><A NAME="374"></A>     * connected as inputs to this one.
<FONT ID="LN">375 </FONT><A NAME="375"></A>     * This is also the time that the update for the listeners will be 
<FONT ID="LN">376 </FONT><A NAME="376"></A>     * performed.
<FONT ID="LN">377 </FONT><A NAME="377"></A>     */</FONT>
<FONT ID="LN">378 </FONT><A NAME="378"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> reset() {
<FONT ID="LN">379 </FONT><A NAME="379"></A>      
<FONT ID="LN">380 </FONT><A NAME="380"></A>      <FONT ID="If">if</FONT> (!Double.isNaN(m_unitValue) || !Double.isNaN(m_unitError)) {
<FONT ID="LN">381 </FONT><A NAME="381"></A>    m_unitValue = Double.NaN;
<FONT ID="LN">382 </FONT><A NAME="382"></A>    m_unitError = Double.NaN;
<FONT ID="LN">383 </FONT><A NAME="383"></A>    m_weightsUpdated = <FONT ID="False">false</FONT>;
<FONT ID="LN">384 </FONT><A NAME="384"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numInputs; noa++) {
<FONT ID="LN">385 </FONT><A NAME="385"></A>      m_inputList[noa].reset();
<FONT ID="LN">386 </FONT><A NAME="386"></A>    }
<FONT ID="LN">387 </FONT><A NAME="387"></A>      }
<FONT ID="LN">388 </FONT><A NAME="388"></A>    }
<FONT ID="LN">389 </FONT><A NAME="389"></A>    
<FONT ID="LN">390 </FONT><A NAME="390"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">391 </FONT><A NAME="391"></A>     * Call this to have the connection save the current
<FONT ID="LN">392 </FONT><A NAME="392"></A>     * weights.
<FONT ID="LN">393 </FONT><A NAME="393"></A>     */</FONT>
<FONT ID="LN">394 </FONT><A NAME="394"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> saveWeights() {
<FONT ID="LN">395 </FONT><A NAME="395"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_numInputs; i++) {
<FONT ID="LN">396 </FONT><A NAME="396"></A>        m_inputList[i].saveWeights();
<FONT ID="LN">397 </FONT><A NAME="397"></A>      }
<FONT ID="LN">398 </FONT><A NAME="398"></A>    }
<FONT ID="LN">399 </FONT><A NAME="399"></A>    
<FONT ID="LN">400 </FONT><A NAME="400"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">401 </FONT><A NAME="401"></A>     * Call this to have the connection restore from the saved
<FONT ID="LN">402 </FONT><A NAME="402"></A>     * weights.
<FONT ID="LN">403 </FONT><A NAME="403"></A>     */</FONT>
<FONT ID="LN">404 </FONT><A NAME="404"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> restoreWeights() {
<FONT ID="LN">405 </FONT><A NAME="405"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_numInputs; i++) {
<FONT ID="LN">406 </FONT><A NAME="406"></A>        m_inputList[i].restoreWeights();
<FONT ID="LN">407 </FONT><A NAME="407"></A>      }
<FONT ID="LN">408 </FONT><A NAME="408"></A>    }
<FONT ID="LN">409 </FONT><A NAME="409"></A>    
<FONT ID="LN">410 </FONT><A NAME="410"></A>    
<FONT ID="LN">411 </FONT><A NAME="411"></A>    <FONT ID="FormalComment">/** 
<FONT ID="LN">412 </FONT><A NAME="412"></A>     * Call this function to set What this end unit represents.
<FONT ID="LN">413 </FONT><A NAME="413"></A>     * @param input True if this unit is used for entering an attribute,
<FONT ID="LN">414 </FONT><A NAME="414"></A>     * False if it's used for determining a class value.
<FONT ID="LN">415 </FONT><A NAME="415"></A>     * @param val The attribute number or class type that this unit represents.
<FONT ID="LN">416 </FONT><A NAME="416"></A>     * (for nominal attributes).
<FONT ID="LN">417 </FONT><A NAME="417"></A>     */</FONT>
<FONT ID="LN">418 </FONT><A NAME="418"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setLink(<FONT ID="Boolean">boolean</FONT> input, <FONT ID="Int">int</FONT> val) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">419 </FONT><A NAME="419"></A>      m_input = input;
<FONT ID="LN">420 </FONT><A NAME="420"></A>      
<FONT ID="LN">421 </FONT><A NAME="421"></A>      <FONT ID="If">if</FONT> (input) {
<FONT ID="LN">422 </FONT><A NAME="422"></A>    m_type = PURE_INPUT;
<FONT ID="LN">423 </FONT><A NAME="423"></A>      }
<FONT ID="LN">424 </FONT><A NAME="424"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">425 </FONT><A NAME="425"></A>    m_type = PURE_OUTPUT;
<FONT ID="LN">426 </FONT><A NAME="426"></A>      }
<FONT ID="LN">427 </FONT><A NAME="427"></A>      <FONT ID="If">if</FONT> (val &lt; <FONT ID="IntegerLiteral">0</FONT> || (input &amp;&amp; val &gt; m_instances.numAttributes()) 
<FONT ID="LN">428 </FONT><A NAME="428"></A>      || (!input &amp;&amp; m_instances.classAttribute().isNominal() 
<FONT ID="LN">429 </FONT><A NAME="429"></A>          &amp;&amp; val &gt; m_instances.classAttribute().numValues())) {
<FONT ID="LN">430 </FONT><A NAME="430"></A>    m_link = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">431 </FONT><A NAME="431"></A>      }
<FONT ID="LN">432 </FONT><A NAME="432"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">433 </FONT><A NAME="433"></A>    m_link = val;
<FONT ID="LN">434 </FONT><A NAME="434"></A>      }
<FONT ID="LN">435 </FONT><A NAME="435"></A>    }
<FONT ID="LN">436 </FONT><A NAME="436"></A>    
<FONT ID="LN">437 </FONT><A NAME="437"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">438 </FONT><A NAME="438"></A>     * @return link for this node.
<FONT ID="LN">439 </FONT><A NAME="439"></A>     */</FONT>
<FONT ID="LN">440 </FONT><A NAME="440"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getLink() {
<FONT ID="LN">441 </FONT><A NAME="441"></A>      <FONT ID="Return">return</FONT> m_link;
<FONT ID="LN">442 </FONT><A NAME="442"></A>    }
<FONT ID="LN">443 </FONT><A NAME="443"></A>    
<FONT ID="LN">444 </FONT><A NAME="444"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">445 </FONT><A NAME="445"></A>     * Returns the revision string.
<FONT ID="LN">446 </FONT><A NAME="446"></A>     * 
<FONT ID="LN">447 </FONT><A NAME="447"></A>     * @return      the revision
<FONT ID="LN">448 </FONT><A NAME="448"></A>     */</FONT>
<FONT ID="LN">449 </FONT><A NAME="449"></A>    <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">450 </FONT><A NAME="450"></A>      <FONT ID="Return">return</FONT> RevisionUtils.extract(<FONT ID="StringLiteral">"$Revision: 6202 $"</FONT>);
<FONT ID="LN">451 </FONT><A NAME="451"></A>    }
<FONT ID="LN">452 </FONT><A NAME="452"></A>  }
<FONT ID="LN">453 </FONT><A NAME="453"></A>  
<FONT ID="LN">454 </FONT><A NAME="454"></A>
<FONT ID="LN">455 </FONT><A NAME="455"></A> 
<FONT ID="LN">456 </FONT><A NAME="456"></A>  <FONT ID="FormalComment">/** Inner class used to draw the nodes onto.(uses the node lists!!) 
<FONT ID="LN">457 </FONT><A NAME="457"></A>   * This will also handle the user input. */</FONT>
<FONT ID="LN">458 </FONT><A NAME="458"></A>  <FONT ID="Private">private</FONT> <FONT ID="Class">class</FONT> NodePanel 
<FONT ID="LN">459 </FONT><A NAME="459"></A>    <FONT ID="Extends">extends</FONT> JPanel
<FONT ID="LN">460 </FONT><A NAME="460"></A>    <FONT ID="Implements">implements</FONT> <A HREF="../../../weka/core/RevisionHandler.java.html">RevisionHandler</A> {
<FONT ID="LN">461 </FONT><A NAME="461"></A>    
<FONT ID="LN">462 </FONT><A NAME="462"></A>    <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">463 </FONT><A NAME="463"></A>    <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = -<FONT ID="IntegerLiteral">3067621833388149984L</FONT>;
<FONT ID="LN">464 </FONT><A NAME="464"></A>
<FONT ID="LN">465 </FONT><A NAME="465"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">466 </FONT><A NAME="466"></A>     * The constructor.
<FONT ID="LN">467 </FONT><A NAME="467"></A>     */</FONT>
<FONT ID="LN">468 </FONT><A NAME="468"></A>    <FONT ID="Public">public</FONT> NodePanel() {
<FONT ID="LN">469 </FONT><A NAME="469"></A>      
<FONT ID="LN">470 </FONT><A NAME="470"></A>
<FONT ID="LN">471 </FONT><A NAME="471"></A>      addMouseListener(<FONT ID="New">new</FONT> MouseAdapter() {
<FONT ID="LN">472 </FONT><A NAME="472"></A>      
<FONT ID="LN">473 </FONT><A NAME="473"></A>      <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> mousePressed(MouseEvent e) {
<FONT ID="LN">474 </FONT><A NAME="474"></A>        
<FONT ID="LN">475 </FONT><A NAME="475"></A>        <FONT ID="If">if</FONT> (!m_stopped) {
<FONT ID="LN">476 </FONT><A NAME="476"></A>          <FONT ID="Return">return</FONT>;
<FONT ID="LN">477 </FONT><A NAME="477"></A>        }
<FONT ID="LN">478 </FONT><A NAME="478"></A>        <FONT ID="If">if</FONT> ((e.getModifiers() &amp; MouseEvent.BUTTON1_MASK) == MouseEvent.BUTTON1_MASK &amp;&amp; 
<FONT ID="LN">479 </FONT><A NAME="479"></A>        !e.isAltDown()) {
<FONT ID="LN">480 </FONT><A NAME="480"></A>          Graphics g = NodePanel.<FONT ID="This">this</FONT>.getGraphics();
<FONT ID="LN">481 </FONT><A NAME="481"></A>          <FONT ID="Int">int</FONT> x = e.getX();
<FONT ID="LN">482 </FONT><A NAME="482"></A>          <FONT ID="Int">int</FONT> y = e.getY();
<FONT ID="LN">483 </FONT><A NAME="483"></A>          <FONT ID="Int">int</FONT> w = NodePanel.<FONT ID="This">this</FONT>.getWidth();
<FONT ID="LN">484 </FONT><A NAME="484"></A>          <FONT ID="Int">int</FONT> h = NodePanel.<FONT ID="This">this</FONT>.getHeight();
<FONT ID="LN">485 </FONT><A NAME="485"></A>          <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> tmp = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">4</FONT>);
<FONT ID="LN">486 </FONT><A NAME="486"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numAttributes; noa++) {
<FONT ID="LN">487 </FONT><A NAME="487"></A>        <FONT ID="If">if</FONT> (m_inputs[noa].onUnit(g, x, y, w, h)) {
<FONT ID="LN">488 </FONT><A NAME="488"></A>          tmp.addElement(m_inputs[noa]);
<FONT ID="LN">489 </FONT><A NAME="489"></A>          selection(tmp, 
<FONT ID="LN">490 </FONT><A NAME="490"></A>                (e.getModifiers() &amp; MouseEvent.CTRL_MASK) == MouseEvent.CTRL_MASK
<FONT ID="LN">491 </FONT><A NAME="491"></A>                , <FONT ID="True">true</FONT>);
<FONT ID="LN">492 </FONT><A NAME="492"></A>          <FONT ID="Return">return</FONT>;
<FONT ID="LN">493 </FONT><A NAME="493"></A>        }
<FONT ID="LN">494 </FONT><A NAME="494"></A>          }
<FONT ID="LN">495 </FONT><A NAME="495"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numClasses; noa++) {
<FONT ID="LN">496 </FONT><A NAME="496"></A>        <FONT ID="If">if</FONT> (m_outputs[noa].onUnit(g, x, y, w, h)) {
<FONT ID="LN">497 </FONT><A NAME="497"></A>          tmp.addElement(m_outputs[noa]);
<FONT ID="LN">498 </FONT><A NAME="498"></A>          selection(tmp,
<FONT ID="LN">499 </FONT><A NAME="499"></A>                (e.getModifiers() &amp; MouseEvent.CTRL_MASK) == MouseEvent.CTRL_MASK
<FONT ID="LN">500 </FONT><A NAME="500"></A>                , <FONT ID="True">true</FONT>);
<FONT ID="LN">501 </FONT><A NAME="501"></A>          <FONT ID="Return">return</FONT>;
<FONT ID="LN">502 </FONT><A NAME="502"></A>        }
<FONT ID="LN">503 </FONT><A NAME="503"></A>          }
<FONT ID="LN">504 </FONT><A NAME="504"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_neuralNodes.length; noa++) {
<FONT ID="LN">505 </FONT><A NAME="505"></A>        <FONT ID="If">if</FONT> (m_neuralNodes[noa].onUnit(g, x, y, w, h)) {
<FONT ID="LN">506 </FONT><A NAME="506"></A>          tmp.addElement(m_neuralNodes[noa]);
<FONT ID="LN">507 </FONT><A NAME="507"></A>          selection(tmp,
<FONT ID="LN">508 </FONT><A NAME="508"></A>                (e.getModifiers() &amp; MouseEvent.CTRL_MASK) == MouseEvent.CTRL_MASK
<FONT ID="LN">509 </FONT><A NAME="509"></A>                , <FONT ID="True">true</FONT>);
<FONT ID="LN">510 </FONT><A NAME="510"></A>          <FONT ID="Return">return</FONT>;
<FONT ID="LN">511 </FONT><A NAME="511"></A>        }
<FONT ID="LN">512 </FONT><A NAME="512"></A>
<FONT ID="LN">513 </FONT><A NAME="513"></A>          }
<FONT ID="LN">514 </FONT><A NAME="514"></A>          <A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A> temp = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A>(String.valueOf(m_nextId), 
<FONT ID="LN">515 </FONT><A NAME="515"></A>                           m_random, m_sigmoidUnit);
<FONT ID="LN">516 </FONT><A NAME="516"></A>          m_nextId++;
<FONT ID="LN">517 </FONT><A NAME="517"></A>          temp.setX((<FONT ID="Double">double</FONT>)e.getX() / w);
<FONT ID="LN">518 </FONT><A NAME="518"></A>          temp.setY((<FONT ID="Double">double</FONT>)e.getY() / h);
<FONT ID="LN">519 </FONT><A NAME="519"></A>          tmp.addElement(temp);
<FONT ID="LN">520 </FONT><A NAME="520"></A>          addNode(temp);
<FONT ID="LN">521 </FONT><A NAME="521"></A>          selection(tmp, (e.getModifiers() &amp; MouseEvent.CTRL_MASK) == MouseEvent.CTRL_MASK
<FONT ID="LN">522 </FONT><A NAME="522"></A>            , <FONT ID="True">true</FONT>);
<FONT ID="LN">523 </FONT><A NAME="523"></A>        }
<FONT ID="LN">524 </FONT><A NAME="524"></A>        <FONT ID="Else">else</FONT> {
<FONT ID="LN">525 </FONT><A NAME="525"></A>          <FONT ID="SingleLineComment">//then right click
<FONT ID="LN">526 </FONT><A NAME="526"></A></FONT>          Graphics g = NodePanel.<FONT ID="This">this</FONT>.getGraphics();
<FONT ID="LN">527 </FONT><A NAME="527"></A>          <FONT ID="Int">int</FONT> x = e.getX();
<FONT ID="LN">528 </FONT><A NAME="528"></A>          <FONT ID="Int">int</FONT> y = e.getY();
<FONT ID="LN">529 </FONT><A NAME="529"></A>          <FONT ID="Int">int</FONT> w = NodePanel.<FONT ID="This">this</FONT>.getWidth();
<FONT ID="LN">530 </FONT><A NAME="530"></A>          <FONT ID="Int">int</FONT> h = NodePanel.<FONT ID="This">this</FONT>.getHeight();
<FONT ID="LN">531 </FONT><A NAME="531"></A>          <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> tmp = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">4</FONT>);
<FONT ID="LN">532 </FONT><A NAME="532"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numAttributes; noa++) {
<FONT ID="LN">533 </FONT><A NAME="533"></A>        <FONT ID="If">if</FONT> (m_inputs[noa].onUnit(g, x, y, w, h)) {
<FONT ID="LN">534 </FONT><A NAME="534"></A>          tmp.addElement(m_inputs[noa]);
<FONT ID="LN">535 </FONT><A NAME="535"></A>          selection(tmp, 
<FONT ID="LN">536 </FONT><A NAME="536"></A>                (e.getModifiers() &amp; MouseEvent.CTRL_MASK) == MouseEvent.CTRL_MASK
<FONT ID="LN">537 </FONT><A NAME="537"></A>                , <FONT ID="False">false</FONT>);
<FONT ID="LN">538 </FONT><A NAME="538"></A>          <FONT ID="Return">return</FONT>;
<FONT ID="LN">539 </FONT><A NAME="539"></A>        }
<FONT ID="LN">540 </FONT><A NAME="540"></A>        
<FONT ID="LN">541 </FONT><A NAME="541"></A>        
<FONT ID="LN">542 </FONT><A NAME="542"></A>          }
<FONT ID="LN">543 </FONT><A NAME="543"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numClasses; noa++) {
<FONT ID="LN">544 </FONT><A NAME="544"></A>        <FONT ID="If">if</FONT> (m_outputs[noa].onUnit(g, x, y, w, h)) {
<FONT ID="LN">545 </FONT><A NAME="545"></A>          tmp.addElement(m_outputs[noa]);
<FONT ID="LN">546 </FONT><A NAME="546"></A>          selection(tmp,
<FONT ID="LN">547 </FONT><A NAME="547"></A>                (e.getModifiers() &amp; MouseEvent.CTRL_MASK) == MouseEvent.CTRL_MASK
<FONT ID="LN">548 </FONT><A NAME="548"></A>                , <FONT ID="False">false</FONT>);
<FONT ID="LN">549 </FONT><A NAME="549"></A>          <FONT ID="Return">return</FONT>;
<FONT ID="LN">550 </FONT><A NAME="550"></A>        }
<FONT ID="LN">551 </FONT><A NAME="551"></A>          }
<FONT ID="LN">552 </FONT><A NAME="552"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_neuralNodes.length; noa++) {
<FONT ID="LN">553 </FONT><A NAME="553"></A>        <FONT ID="If">if</FONT> (m_neuralNodes[noa].onUnit(g, x, y, w, h)) {
<FONT ID="LN">554 </FONT><A NAME="554"></A>          tmp.addElement(m_neuralNodes[noa]);
<FONT ID="LN">555 </FONT><A NAME="555"></A>          selection(tmp,
<FONT ID="LN">556 </FONT><A NAME="556"></A>                (e.getModifiers() &amp; MouseEvent.CTRL_MASK) == MouseEvent.CTRL_MASK
<FONT ID="LN">557 </FONT><A NAME="557"></A>                , <FONT ID="False">false</FONT>);
<FONT ID="LN">558 </FONT><A NAME="558"></A>          <FONT ID="Return">return</FONT>;
<FONT ID="LN">559 </FONT><A NAME="559"></A>        }
<FONT ID="LN">560 </FONT><A NAME="560"></A>          }
<FONT ID="LN">561 </FONT><A NAME="561"></A>          selection(<FONT ID="Null">null</FONT>, (e.getModifiers() &amp; MouseEvent.CTRL_MASK) == MouseEvent.CTRL_MASK
<FONT ID="LN">562 </FONT><A NAME="562"></A>            , <FONT ID="False">false</FONT>);
<FONT ID="LN">563 </FONT><A NAME="563"></A>        }
<FONT ID="LN">564 </FONT><A NAME="564"></A>      }
<FONT ID="LN">565 </FONT><A NAME="565"></A>    });
<FONT ID="LN">566 </FONT><A NAME="566"></A>    }
<FONT ID="LN">567 </FONT><A NAME="567"></A>    
<FONT ID="LN">568 </FONT><A NAME="568"></A>    
<FONT ID="LN">569 </FONT><A NAME="569"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">570 </FONT><A NAME="570"></A>     * This function gets called when the user has clicked something
<FONT ID="LN">571 </FONT><A NAME="571"></A>     * It will amend the current selection or connect the current selection
<FONT ID="LN">572 </FONT><A NAME="572"></A>     * to the new selection.
<FONT ID="LN">573 </FONT><A NAME="573"></A>     * Or if nothing was selected and the right button was used it will 
<FONT ID="LN">574 </FONT><A NAME="574"></A>     * delete the node.
<FONT ID="LN">575 </FONT><A NAME="575"></A>     * @param v The units that were selected.
<FONT ID="LN">576 </FONT><A NAME="576"></A>     * @param ctrl True if ctrl was held down.
<FONT ID="LN">577 </FONT><A NAME="577"></A>     * @param left True if it was the left mouse button.
<FONT ID="LN">578 </FONT><A NAME="578"></A>     */</FONT>
<FONT ID="LN">579 </FONT><A NAME="579"></A>    <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> selection(<A HREF="../../../weka/core/FastVector.java.html">FastVector</A> v, <FONT ID="Boolean">boolean</FONT> ctrl, <FONT ID="Boolean">boolean</FONT> left) {
<FONT ID="LN">580 </FONT><A NAME="580"></A>      
<FONT ID="LN">581 </FONT><A NAME="581"></A>      <FONT ID="If">if</FONT> (v == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">582 </FONT><A NAME="582"></A>    <FONT ID="SingleLineComment">//then unselect all.
<FONT ID="LN">583 </FONT><A NAME="583"></A></FONT>    m_selected.removeAllElements();
<FONT ID="LN">584 </FONT><A NAME="584"></A>    repaint();
<FONT ID="LN">585 </FONT><A NAME="585"></A>    <FONT ID="Return">return</FONT>;
<FONT ID="LN">586 </FONT><A NAME="586"></A>      }
<FONT ID="LN">587 </FONT><A NAME="587"></A>      
<FONT ID="LN">588 </FONT><A NAME="588"></A>
<FONT ID="LN">589 </FONT><A NAME="589"></A>      <FONT ID="SingleLineComment">//then exclusive or the new selection with the current one.
<FONT ID="LN">590 </FONT><A NAME="590"></A></FONT>      <FONT ID="If">if</FONT> ((ctrl || m_selected.size() == <FONT ID="IntegerLiteral">0</FONT>) &amp;&amp; left) {
<FONT ID="LN">591 </FONT><A NAME="591"></A>    <FONT ID="Boolean">boolean</FONT> removed = <FONT ID="False">false</FONT>;
<FONT ID="LN">592 </FONT><A NAME="592"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; v.size(); noa++) {
<FONT ID="LN">593 </FONT><A NAME="593"></A>      removed = <FONT ID="False">false</FONT>;
<FONT ID="LN">594 </FONT><A NAME="594"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">0</FONT>; nob &lt; m_selected.size(); nob++) {
<FONT ID="LN">595 </FONT><A NAME="595"></A>        <FONT ID="If">if</FONT> (v.elementAt(noa) == m_selected.elementAt(nob)) {
<FONT ID="LN">596 </FONT><A NAME="596"></A>          <FONT ID="SingleLineComment">//then remove that element
<FONT ID="LN">597 </FONT><A NAME="597"></A></FONT>          m_selected.removeElementAt(nob);
<FONT ID="LN">598 </FONT><A NAME="598"></A>          removed = <FONT ID="True">true</FONT>;
<FONT ID="LN">599 </FONT><A NAME="599"></A>          <FONT ID="Break">break</FONT>;
<FONT ID="LN">600 </FONT><A NAME="600"></A>        }
<FONT ID="LN">601 </FONT><A NAME="601"></A>      }
<FONT ID="LN">602 </FONT><A NAME="602"></A>      <FONT ID="If">if</FONT> (!removed) {
<FONT ID="LN">603 </FONT><A NAME="603"></A>        m_selected.addElement(v.elementAt(noa));
<FONT ID="LN">604 </FONT><A NAME="604"></A>      }
<FONT ID="LN">605 </FONT><A NAME="605"></A>    }
<FONT ID="LN">606 </FONT><A NAME="606"></A>    repaint();
<FONT ID="LN">607 </FONT><A NAME="607"></A>    <FONT ID="Return">return</FONT>;
<FONT ID="LN">608 </FONT><A NAME="608"></A>      }
<FONT ID="LN">609 </FONT><A NAME="609"></A>
<FONT ID="LN">610 </FONT><A NAME="610"></A>      
<FONT ID="LN">611 </FONT><A NAME="611"></A>      <FONT ID="If">if</FONT> (left) {
<FONT ID="LN">612 </FONT><A NAME="612"></A>    <FONT ID="SingleLineComment">//then connect the current selection to the new one.
<FONT ID="LN">613 </FONT><A NAME="613"></A></FONT>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_selected.size(); noa++) {
<FONT ID="LN">614 </FONT><A NAME="614"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">0</FONT>; nob &lt; v.size(); nob++) {
<FONT ID="LN">615 </FONT><A NAME="615"></A>        NeuralConnection
<FONT ID="LN">616 </FONT><A NAME="616"></A>          .connect((<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)m_selected.elementAt(noa)
<FONT ID="LN">617 </FONT><A NAME="617"></A>               , (<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)v.elementAt(nob));
<FONT ID="LN">618 </FONT><A NAME="618"></A>      }
<FONT ID="LN">619 </FONT><A NAME="619"></A>    }
<FONT ID="LN">620 </FONT><A NAME="620"></A>      }
<FONT ID="LN">621 </FONT><A NAME="621"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (m_selected.size() &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">622 </FONT><A NAME="622"></A>    <FONT ID="SingleLineComment">//then disconnect the current selection from the new one.
<FONT ID="LN">623 </FONT><A NAME="623"></A></FONT>    
<FONT ID="LN">624 </FONT><A NAME="624"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_selected.size(); noa++) {
<FONT ID="LN">625 </FONT><A NAME="625"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">0</FONT>; nob &lt; v.size(); nob++) {
<FONT ID="LN">626 </FONT><A NAME="626"></A>        NeuralConnection
<FONT ID="LN">627 </FONT><A NAME="627"></A>          .disconnect((<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)m_selected.elementAt(noa)
<FONT ID="LN">628 </FONT><A NAME="628"></A>              , (<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)v.elementAt(nob));
<FONT ID="LN">629 </FONT><A NAME="629"></A>        
<FONT ID="LN">630 </FONT><A NAME="630"></A>        NeuralConnection
<FONT ID="LN">631 </FONT><A NAME="631"></A>          .disconnect((<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)v.elementAt(nob)
<FONT ID="LN">632 </FONT><A NAME="632"></A>              , (<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)m_selected.elementAt(noa));
<FONT ID="LN">633 </FONT><A NAME="633"></A>        
<FONT ID="LN">634 </FONT><A NAME="634"></A>      }
<FONT ID="LN">635 </FONT><A NAME="635"></A>    }
<FONT ID="LN">636 </FONT><A NAME="636"></A>      }
<FONT ID="LN">637 </FONT><A NAME="637"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">638 </FONT><A NAME="638"></A>    <FONT ID="SingleLineComment">//then remove the selected node. (it was right clicked while 
<FONT ID="LN">639 </FONT><A NAME="639"></A></FONT>    <FONT ID="SingleLineComment">//no other units were selected
<FONT ID="LN">640 </FONT><A NAME="640"></A></FONT>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; v.size(); noa++) {
<FONT ID="LN">641 </FONT><A NAME="641"></A>      ((<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)v.elementAt(noa)).removeAllInputs();
<FONT ID="LN">642 </FONT><A NAME="642"></A>      ((<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)v.elementAt(noa)).removeAllOutputs();
<FONT ID="LN">643 </FONT><A NAME="643"></A>      removeNode((<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)v.elementAt(noa));
<FONT ID="LN">644 </FONT><A NAME="644"></A>    }
<FONT ID="LN">645 </FONT><A NAME="645"></A>      }
<FONT ID="LN">646 </FONT><A NAME="646"></A>      repaint();
<FONT ID="LN">647 </FONT><A NAME="647"></A>    }
<FONT ID="LN">648 </FONT><A NAME="648"></A>
<FONT ID="LN">649 </FONT><A NAME="649"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">650 </FONT><A NAME="650"></A>     * This will paint the nodes ontot the panel.
<FONT ID="LN">651 </FONT><A NAME="651"></A>     * @param g The graphics context.
<FONT ID="LN">652 </FONT><A NAME="652"></A>     */</FONT>
<FONT ID="LN">653 </FONT><A NAME="653"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> paintComponent(Graphics g) {
<FONT ID="LN">654 </FONT><A NAME="654"></A>
<FONT ID="LN">655 </FONT><A NAME="655"></A>      <FONT ID="Super">super</FONT>.paintComponent(g);
<FONT ID="LN">656 </FONT><A NAME="656"></A>      <FONT ID="Int">int</FONT> x = getWidth();
<FONT ID="LN">657 </FONT><A NAME="657"></A>      <FONT ID="Int">int</FONT> y = getHeight();
<FONT ID="LN">658 </FONT><A NAME="658"></A>      <FONT ID="If">if</FONT> (<FONT ID="IntegerLiteral">25</FONT> * m_numAttributes &gt; <FONT ID="IntegerLiteral">25</FONT> * m_numClasses &amp;&amp; 
<FONT ID="LN">659 </FONT><A NAME="659"></A>      <FONT ID="IntegerLiteral">25</FONT> * m_numAttributes &gt; y) {
<FONT ID="LN">660 </FONT><A NAME="660"></A>    setSize(x, <FONT ID="IntegerLiteral">25</FONT> * m_numAttributes);
<FONT ID="LN">661 </FONT><A NAME="661"></A>      }
<FONT ID="LN">662 </FONT><A NAME="662"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (<FONT ID="IntegerLiteral">25</FONT> * m_numClasses &gt; y) {
<FONT ID="LN">663 </FONT><A NAME="663"></A>    setSize(x, <FONT ID="IntegerLiteral">25</FONT> * m_numClasses);
<FONT ID="LN">664 </FONT><A NAME="664"></A>      }
<FONT ID="LN">665 </FONT><A NAME="665"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">666 </FONT><A NAME="666"></A>    setSize(x, y);
<FONT ID="LN">667 </FONT><A NAME="667"></A>      }
<FONT ID="LN">668 </FONT><A NAME="668"></A>
<FONT ID="LN">669 </FONT><A NAME="669"></A>      y = getHeight();
<FONT ID="LN">670 </FONT><A NAME="670"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numAttributes; noa++) {
<FONT ID="LN">671 </FONT><A NAME="671"></A>    m_inputs[noa].drawInputLines(g, x, y);
<FONT ID="LN">672 </FONT><A NAME="672"></A>      }
<FONT ID="LN">673 </FONT><A NAME="673"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numClasses; noa++) {
<FONT ID="LN">674 </FONT><A NAME="674"></A>    m_outputs[noa].drawInputLines(g, x, y);
<FONT ID="LN">675 </FONT><A NAME="675"></A>    m_outputs[noa].drawOutputLines(g, x, y);
<FONT ID="LN">676 </FONT><A NAME="676"></A>      }
<FONT ID="LN">677 </FONT><A NAME="677"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_neuralNodes.length; noa++) {
<FONT ID="LN">678 </FONT><A NAME="678"></A>    m_neuralNodes[noa].drawInputLines(g, x, y);
<FONT ID="LN">679 </FONT><A NAME="679"></A>      }
<FONT ID="LN">680 </FONT><A NAME="680"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numAttributes; noa++) {
<FONT ID="LN">681 </FONT><A NAME="681"></A>    m_inputs[noa].drawNode(g, x, y);
<FONT ID="LN">682 </FONT><A NAME="682"></A>      }
<FONT ID="LN">683 </FONT><A NAME="683"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numClasses; noa++) {
<FONT ID="LN">684 </FONT><A NAME="684"></A>    m_outputs[noa].drawNode(g, x, y);
<FONT ID="LN">685 </FONT><A NAME="685"></A>      }
<FONT ID="LN">686 </FONT><A NAME="686"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_neuralNodes.length; noa++) {
<FONT ID="LN">687 </FONT><A NAME="687"></A>    m_neuralNodes[noa].drawNode(g, x, y);
<FONT ID="LN">688 </FONT><A NAME="688"></A>      }
<FONT ID="LN">689 </FONT><A NAME="689"></A>
<FONT ID="LN">690 </FONT><A NAME="690"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_selected.size(); noa++) {
<FONT ID="LN">691 </FONT><A NAME="691"></A>    ((<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>)m_selected.elementAt(noa)).drawHighlight(g, x, y);
<FONT ID="LN">692 </FONT><A NAME="692"></A>      }
<FONT ID="LN">693 </FONT><A NAME="693"></A>    }
<FONT ID="LN">694 </FONT><A NAME="694"></A>    
<FONT ID="LN">695 </FONT><A NAME="695"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">696 </FONT><A NAME="696"></A>     * Returns the revision string.
<FONT ID="LN">697 </FONT><A NAME="697"></A>     * 
<FONT ID="LN">698 </FONT><A NAME="698"></A>     * @return      the revision
<FONT ID="LN">699 </FONT><A NAME="699"></A>     */</FONT>
<FONT ID="LN">700 </FONT><A NAME="700"></A>    <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">701 </FONT><A NAME="701"></A>      <FONT ID="Return">return</FONT> RevisionUtils.extract(<FONT ID="StringLiteral">"$Revision: 6202 $"</FONT>);
<FONT ID="LN">702 </FONT><A NAME="702"></A>    }
<FONT ID="LN">703 </FONT><A NAME="703"></A>  }
<FONT ID="LN">704 </FONT><A NAME="704"></A>
<FONT ID="LN">705 </FONT><A NAME="705"></A>  <FONT ID="FormalComment">/** 
<FONT ID="LN">706 </FONT><A NAME="706"></A>   * This provides the basic controls for working with the neuralnetwork
<FONT ID="LN">707 </FONT><A NAME="707"></A>   * @author Malcolm Ware (mfw4@cs.waikato.ac.nz)
<FONT ID="LN">708 </FONT><A NAME="708"></A>   * @version $Revision: 6202 $
<FONT ID="LN">709 </FONT><A NAME="709"></A>   */</FONT>
<FONT ID="LN">710 </FONT><A NAME="710"></A>  <FONT ID="Class">class</FONT> ControlPanel 
<FONT ID="LN">711 </FONT><A NAME="711"></A>    <FONT ID="Extends">extends</FONT> JPanel
<FONT ID="LN">712 </FONT><A NAME="712"></A>    <FONT ID="Implements">implements</FONT> <A HREF="../../../weka/core/RevisionHandler.java.html">RevisionHandler</A> {
<FONT ID="LN">713 </FONT><A NAME="713"></A>    
<FONT ID="LN">714 </FONT><A NAME="714"></A>    <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">715 </FONT><A NAME="715"></A>    <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">7393543302294142271L</FONT>;
<FONT ID="LN">716 </FONT><A NAME="716"></A>    
<FONT ID="LN">717 </FONT><A NAME="717"></A>    <FONT ID="FormalComment">/** The start stop button. */</FONT>
<FONT ID="LN">718 </FONT><A NAME="718"></A>    <FONT ID="Public">public</FONT> JButton m_startStop;
<FONT ID="LN">719 </FONT><A NAME="719"></A>    
<FONT ID="LN">720 </FONT><A NAME="720"></A>    <FONT ID="FormalComment">/** The button to accept the network (even if it hasn't done all epochs. */</FONT>
<FONT ID="LN">721 </FONT><A NAME="721"></A>    <FONT ID="Public">public</FONT> JButton m_acceptButton;
<FONT ID="LN">722 </FONT><A NAME="722"></A>    
<FONT ID="LN">723 </FONT><A NAME="723"></A>    <FONT ID="FormalComment">/** A label to state the number of epochs processed so far. */</FONT>
<FONT ID="LN">724 </FONT><A NAME="724"></A>    <FONT ID="Public">public</FONT> JPanel m_epochsLabel;
<FONT ID="LN">725 </FONT><A NAME="725"></A>    
<FONT ID="LN">726 </FONT><A NAME="726"></A>    <FONT ID="FormalComment">/** A label to state the total number of epochs to be processed. */</FONT>
<FONT ID="LN">727 </FONT><A NAME="727"></A>    <FONT ID="Public">public</FONT> JLabel m_totalEpochsLabel;
<FONT ID="LN">728 </FONT><A NAME="728"></A>    
<FONT ID="LN">729 </FONT><A NAME="729"></A>    <FONT ID="FormalComment">/** A text field to allow the changing of the total number of epochs. */</FONT>
<FONT ID="LN">730 </FONT><A NAME="730"></A>    <FONT ID="Public">public</FONT> JTextField m_changeEpochs;
<FONT ID="LN">731 </FONT><A NAME="731"></A>    
<FONT ID="LN">732 </FONT><A NAME="732"></A>    <FONT ID="FormalComment">/** A label to state the learning rate. */</FONT>
<FONT ID="LN">733 </FONT><A NAME="733"></A>    <FONT ID="Public">public</FONT> JLabel m_learningLabel;
<FONT ID="LN">734 </FONT><A NAME="734"></A>    
<FONT ID="LN">735 </FONT><A NAME="735"></A>    <FONT ID="FormalComment">/** A label to state the momentum. */</FONT>
<FONT ID="LN">736 </FONT><A NAME="736"></A>    <FONT ID="Public">public</FONT> JLabel m_momentumLabel;
<FONT ID="LN">737 </FONT><A NAME="737"></A>    
<FONT ID="LN">738 </FONT><A NAME="738"></A>    <FONT ID="FormalComment">/** A text field to allow the changing of the learning rate. */</FONT>
<FONT ID="LN">739 </FONT><A NAME="739"></A>    <FONT ID="Public">public</FONT> JTextField m_changeLearning;
<FONT ID="LN">740 </FONT><A NAME="740"></A>    
<FONT ID="LN">741 </FONT><A NAME="741"></A>    <FONT ID="FormalComment">/** A text field to allow the changing of the momentum. */</FONT>
<FONT ID="LN">742 </FONT><A NAME="742"></A>    <FONT ID="Public">public</FONT> JTextField m_changeMomentum;
<FONT ID="LN">743 </FONT><A NAME="743"></A>    
<FONT ID="LN">744 </FONT><A NAME="744"></A>    <FONT ID="FormalComment">/** A label to state roughly the accuracy of the network.(because the
<FONT ID="LN">745 </FONT><A NAME="745"></A>    accuracy is calculated per epoch, but the network is changing 
<FONT ID="LN">746 </FONT><A NAME="746"></A>    throughout each epoch train).
<FONT ID="LN">747 </FONT><A NAME="747"></A>    */</FONT>
<FONT ID="LN">748 </FONT><A NAME="748"></A>    <FONT ID="Public">public</FONT> JPanel m_errorLabel;
<FONT ID="LN">749 </FONT><A NAME="749"></A>    <FONT ID="SingleLineComment">//modCS.E
<FONT ID="LN">750 </FONT><A NAME="750"></A></FONT>    <FONT ID="FormalComment">/** A label to indicate the currently lowest validation error on the 
<FONT ID="LN">751 </FONT><A NAME="751"></A>     * neural network GUI. */</FONT>
<FONT ID="LN">752 </FONT><A NAME="752"></A>    <FONT ID="Public">public</FONT> JPanel m_lowValErrorLabel;
<FONT ID="LN">753 </FONT><A NAME="753"></A>    <FONT ID="FormalComment">/** 
<FONT ID="LN">754 </FONT><A NAME="754"></A>     * A label to indicate the epoch index when the lowest validation 
<FONT ID="LN">755 </FONT><A NAME="755"></A>     * error is found
<FONT ID="LN">756 </FONT><A NAME="756"></A>     */</FONT>
<FONT ID="LN">757 </FONT><A NAME="757"></A>    <FONT ID="Public">public</FONT> JPanel m_epochIndexLabel;    
<FONT ID="LN">758 </FONT><A NAME="758"></A>    
<FONT ID="LN">759 </FONT><A NAME="759"></A>    
<FONT ID="LN">760 </FONT><A NAME="760"></A>    <FONT ID="FormalComment">/** The constructor. */</FONT>
<FONT ID="LN">761 </FONT><A NAME="761"></A>    <FONT ID="Public">public</FONT> ControlPanel() { 
<FONT ID="LN">762 </FONT><A NAME="762"></A>      setBorder(BorderFactory.createTitledBorder(<FONT ID="StringLiteral">"Controls"</FONT>));
<FONT ID="LN">763 </FONT><A NAME="763"></A>      
<FONT ID="LN">764 </FONT><A NAME="764"></A>      m_totalEpochsLabel = <FONT ID="New">new</FONT> JLabel(<FONT ID="StringLiteral">"Num Of Epochs  "</FONT>);
<FONT ID="LN">765 </FONT><A NAME="765"></A>      m_epochsLabel = <FONT ID="New">new</FONT> JPanel(){ 
<FONT ID="LN">766 </FONT><A NAME="766"></A>      <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">767 </FONT><A NAME="767"></A>      <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">2562773937093221399L</FONT>;
<FONT ID="LN">768 </FONT><A NAME="768"></A>
<FONT ID="LN">769 </FONT><A NAME="769"></A>      <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> paintComponent(Graphics g) {
<FONT ID="LN">770 </FONT><A NAME="770"></A>        <FONT ID="Super">super</FONT>.paintComponent(g);
<FONT ID="LN">771 </FONT><A NAME="771"></A>        g.setColor(m_controlPanel.m_totalEpochsLabel.getForeground());
<FONT ID="LN">772 </FONT><A NAME="772"></A>        g.drawString(<FONT ID="StringLiteral">"Epoch  "</FONT> + m_epoch, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="IntegerLiteral">10</FONT>);
<FONT ID="LN">773 </FONT><A NAME="773"></A>      }
<FONT ID="LN">774 </FONT><A NAME="774"></A>    };
<FONT ID="LN">775 </FONT><A NAME="775"></A>      m_epochsLabel.setFont(m_totalEpochsLabel.getFont());
<FONT ID="LN">776 </FONT><A NAME="776"></A>
<FONT ID="LN">777 </FONT><A NAME="777"></A>        <FONT ID="SingleLineComment">//modCS.E; Displays lowest validation error output in the neural
<FONT ID="LN">778 </FONT><A NAME="778"></A></FONT>        <FONT ID="SingleLineComment">// network GUI.      
<FONT ID="LN">779 </FONT><A NAME="779"></A></FONT>        m_lowValErrorLabel = <FONT ID="New">new</FONT> JPanel()
<FONT ID="LN">780 </FONT><A NAME="780"></A>        {
<FONT ID="LN">781 </FONT><A NAME="781"></A>            <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">782 </FONT><A NAME="782"></A>            <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">4390239056336679189L</FONT>;
<FONT ID="LN">783 </FONT><A NAME="783"></A>
<FONT ID="LN">784 </FONT><A NAME="784"></A>            <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> paintComponent(Graphics g)
<FONT ID="LN">785 </FONT><A NAME="785"></A>            {
<FONT ID="LN">786 </FONT><A NAME="786"></A>                    <FONT ID="Super">super</FONT>.paintComponent(g);
<FONT ID="LN">787 </FONT><A NAME="787"></A>                    g.setColor(m_controlPanel.m_totalEpochsLabel.getForeground());
<FONT ID="LN">788 </FONT><A NAME="788"></A>                    <FONT ID="If">if</FONT> (m_valSize == <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; m_valSet == <FONT ID="Null">null</FONT>)
<FONT ID="LN">789 </FONT><A NAME="789"></A>                    {
<FONT ID="LN">790 </FONT><A NAME="790"></A>                            g.drawString(<FONT ID="StringLiteral">"Lowest Validation Error = NA"</FONT>, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="IntegerLiteral">10</FONT>);
<FONT ID="LN">791 </FONT><A NAME="791"></A>                    }
<FONT ID="LN">792 </FONT><A NAME="792"></A>                    <FONT ID="Else">else</FONT>
<FONT ID="LN">793 </FONT><A NAME="793"></A>                    {
<FONT ID="LN">794 </FONT><A NAME="794"></A>                            g.drawString(<FONT ID="StringLiteral">"Lowest Validation Error = "</FONT>
<FONT ID="LN">795 </FONT><A NAME="795"></A>                                    + Utils.doubleToString(m_lowValError, <FONT ID="IntegerLiteral">7</FONT>), <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="IntegerLiteral">10</FONT>);
<FONT ID="LN">796 </FONT><A NAME="796"></A>                    }
<FONT ID="LN">797 </FONT><A NAME="797"></A>            }
<FONT ID="LN">798 </FONT><A NAME="798"></A>        };
<FONT ID="LN">799 </FONT><A NAME="799"></A>        m_lowValErrorLabel.setFont(m_epochsLabel.getFont());
<FONT ID="LN">800 </FONT><A NAME="800"></A>        <FONT ID="SingleLineComment">//added : should not be needed anymore; for val error
<FONT ID="LN">801 </FONT><A NAME="801"></A></FONT>        m_epochIndexLabel = <FONT ID="New">new</FONT> JPanel()
<FONT ID="LN">802 </FONT><A NAME="802"></A>        {
<FONT ID="LN">803 </FONT><A NAME="803"></A>            <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">804 </FONT><A NAME="804"></A>            <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">4390239056336679189L</FONT>;
<FONT ID="LN">805 </FONT><A NAME="805"></A>
<FONT ID="LN">806 </FONT><A NAME="806"></A>            <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> paintComponent(Graphics g)
<FONT ID="LN">807 </FONT><A NAME="807"></A>            {
<FONT ID="LN">808 </FONT><A NAME="808"></A>                    <FONT ID="Super">super</FONT>.paintComponent(g);
<FONT ID="LN">809 </FONT><A NAME="809"></A>                    g.setColor(m_controlPanel.m_totalEpochsLabel.getForeground());
<FONT ID="LN">810 </FONT><A NAME="810"></A>                    <FONT ID="If">if</FONT> (m_valSize == <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; m_valSet == <FONT ID="Null">null</FONT>)
<FONT ID="LN">811 </FONT><A NAME="811"></A>                    {
<FONT ID="LN">812 </FONT><A NAME="812"></A>                            g.drawString(
<FONT ID="LN">813 </FONT><A NAME="813"></A>                                    <FONT ID="StringLiteral">"Epoch index (lowest validation error) = NA"</FONT>, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="IntegerLiteral">10</FONT>);
<FONT ID="LN">814 </FONT><A NAME="814"></A>                    }
<FONT ID="LN">815 </FONT><A NAME="815"></A>                    <FONT ID="Else">else</FONT>
<FONT ID="LN">816 </FONT><A NAME="816"></A>                    {
<FONT ID="LN">817 </FONT><A NAME="817"></A>                            g.drawString(<FONT ID="StringLiteral">"Epoch index (lowest validation error) = "</FONT>
<FONT ID="LN">818 </FONT><A NAME="818"></A>                                    + m_epochIndex, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="IntegerLiteral">10</FONT>);
<FONT ID="LN">819 </FONT><A NAME="819"></A>                    }
<FONT ID="LN">820 </FONT><A NAME="820"></A>            }
<FONT ID="LN">821 </FONT><A NAME="821"></A>        };
<FONT ID="LN">822 </FONT><A NAME="822"></A>        m_epochIndexLabel.setFont(m_epochsLabel.getFont());
<FONT ID="LN">823 </FONT><A NAME="823"></A>      
<FONT ID="LN">824 </FONT><A NAME="824"></A>      
<FONT ID="LN">825 </FONT><A NAME="825"></A>      m_changeEpochs = <FONT ID="New">new</FONT> JTextField();
<FONT ID="LN">826 </FONT><A NAME="826"></A>      m_changeEpochs.setText(<FONT ID="StringLiteral">""</FONT> + m_numEpochs);
<FONT ID="LN">827 </FONT><A NAME="827"></A>      m_errorLabel = <FONT ID="New">new</FONT> JPanel(){
<FONT ID="LN">828 </FONT><A NAME="828"></A>      <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">829 </FONT><A NAME="829"></A>      <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">4390239056336679189L</FONT>;
<FONT ID="LN">830 </FONT><A NAME="830"></A>
<FONT ID="LN">831 </FONT><A NAME="831"></A>      <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> paintComponent(Graphics g) {
<FONT ID="LN">832 </FONT><A NAME="832"></A>        <FONT ID="Super">super</FONT>.paintComponent(g);
<FONT ID="LN">833 </FONT><A NAME="833"></A>        g.setColor(m_controlPanel.m_totalEpochsLabel.getForeground());
<FONT ID="LN">834 </FONT><A NAME="834"></A>        <FONT ID="If">if</FONT> (m_valSize == <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; m_valSet == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">835 </FONT><A NAME="835"></A>          g.drawString(<FONT ID="StringLiteral">"Error per Epoch = "</FONT> + 
<FONT ID="LN">836 </FONT><A NAME="836"></A>               Utils.doubleToString(m_error, <FONT ID="IntegerLiteral">7</FONT>), <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="IntegerLiteral">10</FONT>);
<FONT ID="LN">837 </FONT><A NAME="837"></A>        }
<FONT ID="LN">838 </FONT><A NAME="838"></A>        <FONT ID="Else">else</FONT> {
<FONT ID="LN">839 </FONT><A NAME="839"></A>          g.drawString(<FONT ID="StringLiteral">"Validation Error per Epoch = "</FONT>
<FONT ID="LN">840 </FONT><A NAME="840"></A>               + Utils.doubleToString(m_error, <FONT ID="IntegerLiteral">7</FONT>), <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="IntegerLiteral">10</FONT>);
<FONT ID="LN">841 </FONT><A NAME="841"></A>        }
<FONT ID="LN">842 </FONT><A NAME="842"></A>      }
<FONT ID="LN">843 </FONT><A NAME="843"></A>    };
<FONT ID="LN">844 </FONT><A NAME="844"></A>      m_errorLabel.setFont(m_epochsLabel.getFont());
<FONT ID="LN">845 </FONT><A NAME="845"></A>      
<FONT ID="LN">846 </FONT><A NAME="846"></A>      m_learningLabel = <FONT ID="New">new</FONT> JLabel(<FONT ID="StringLiteral">"Learning Rate = "</FONT>);
<FONT ID="LN">847 </FONT><A NAME="847"></A>      m_momentumLabel = <FONT ID="New">new</FONT> JLabel(<FONT ID="StringLiteral">"Momentum = "</FONT>);
<FONT ID="LN">848 </FONT><A NAME="848"></A>      m_changeLearning = <FONT ID="New">new</FONT> JTextField();
<FONT ID="LN">849 </FONT><A NAME="849"></A>      m_changeMomentum = <FONT ID="New">new</FONT> JTextField();
<FONT ID="LN">850 </FONT><A NAME="850"></A>      m_changeLearning.setText(<FONT ID="StringLiteral">""</FONT> + m_learningRate);
<FONT ID="LN">851 </FONT><A NAME="851"></A>      m_changeMomentum.setText(<FONT ID="StringLiteral">""</FONT> + m_momentum);
<FONT ID="LN">852 </FONT><A NAME="852"></A>      setLayout(<FONT ID="New">new</FONT> BorderLayout(<FONT ID="IntegerLiteral">15</FONT>, <FONT ID="IntegerLiteral">10</FONT>));
<FONT ID="LN">853 </FONT><A NAME="853"></A>
<FONT ID="LN">854 </FONT><A NAME="854"></A>      m_stopIt = <FONT ID="True">true</FONT>;
<FONT ID="LN">855 </FONT><A NAME="855"></A>      m_accepted = <FONT ID="False">false</FONT>;
<FONT ID="LN">856 </FONT><A NAME="856"></A>      m_startStop = <FONT ID="New">new</FONT> JButton(<FONT ID="StringLiteral">"Start"</FONT>);
<FONT ID="LN">857 </FONT><A NAME="857"></A>      m_startStop.setActionCommand(<FONT ID="StringLiteral">"Start"</FONT>);
<FONT ID="LN">858 </FONT><A NAME="858"></A>      
<FONT ID="LN">859 </FONT><A NAME="859"></A>      m_acceptButton = <FONT ID="New">new</FONT> JButton(<FONT ID="StringLiteral">"Accept"</FONT>);
<FONT ID="LN">860 </FONT><A NAME="860"></A>      m_acceptButton.setActionCommand(<FONT ID="StringLiteral">"Accept"</FONT>);
<FONT ID="LN">861 </FONT><A NAME="861"></A>      
<FONT ID="LN">862 </FONT><A NAME="862"></A>      JPanel buttons = <FONT ID="New">new</FONT> JPanel();
<FONT ID="LN">863 </FONT><A NAME="863"></A>      buttons.setLayout(<FONT ID="New">new</FONT> BoxLayout(buttons, BoxLayout.Y_AXIS));
<FONT ID="LN">864 </FONT><A NAME="864"></A>      buttons.add(m_startStop);
<FONT ID="LN">865 </FONT><A NAME="865"></A>      buttons.add(m_acceptButton);
<FONT ID="LN">866 </FONT><A NAME="866"></A>      add(buttons, BorderLayout.WEST);
<FONT ID="LN">867 </FONT><A NAME="867"></A>      JPanel data = <FONT ID="New">new</FONT> JPanel();
<FONT ID="LN">868 </FONT><A NAME="868"></A>      data.setLayout(<FONT ID="New">new</FONT> BoxLayout(data, BoxLayout.Y_AXIS));
<FONT ID="LN">869 </FONT><A NAME="869"></A>      
<FONT ID="LN">870 </FONT><A NAME="870"></A>      Box ab = <FONT ID="New">new</FONT> Box(BoxLayout.X_AXIS);
<FONT ID="LN">871 </FONT><A NAME="871"></A>      ab.add(m_epochsLabel);
<FONT ID="LN">872 </FONT><A NAME="872"></A>      data.add(ab);
<FONT ID="LN">873 </FONT><A NAME="873"></A>      
<FONT ID="LN">874 </FONT><A NAME="874"></A>
<FONT ID="LN">875 </FONT><A NAME="875"></A>      
<FONT ID="LN">876 </FONT><A NAME="876"></A>      ab = <FONT ID="New">new</FONT> Box(BoxLayout.X_AXIS);
<FONT ID="LN">877 </FONT><A NAME="877"></A>      ab.add(m_errorLabel);
<FONT ID="LN">878 </FONT><A NAME="878"></A>      data.add(ab);
<FONT ID="LN">879 </FONT><A NAME="879"></A>      
<FONT ID="LN">880 </FONT><A NAME="880"></A>      <FONT ID="SingleLineComment">//modCS.E
<FONT ID="LN">881 </FONT><A NAME="881"></A></FONT>      <FONT ID="SingleLineComment">//establishes space on the neural network GUI for lowest validation error
<FONT ID="LN">882 </FONT><A NAME="882"></A></FONT>      ab = <FONT ID="New">new</FONT> Box(BoxLayout.X_AXIS);
<FONT ID="LN">883 </FONT><A NAME="883"></A>      ab.add(m_lowValErrorLabel);
<FONT ID="LN">884 </FONT><A NAME="884"></A>      data.add(ab);
<FONT ID="LN">885 </FONT><A NAME="885"></A>      ab = <FONT ID="New">new</FONT> Box(BoxLayout.X_AXIS);
<FONT ID="LN">886 </FONT><A NAME="886"></A>      ab.add(m_epochIndexLabel);
<FONT ID="LN">887 </FONT><A NAME="887"></A>      data.add(ab);      
<FONT ID="LN">888 </FONT><A NAME="888"></A>         
<FONT ID="LN">889 </FONT><A NAME="889"></A>      add(data, BorderLayout.CENTER);
<FONT ID="LN">890 </FONT><A NAME="890"></A>
<FONT ID="LN">891 </FONT><A NAME="891"></A>      data = <FONT ID="New">new</FONT> JPanel();
<FONT ID="LN">892 </FONT><A NAME="892"></A>      data.setLayout(<FONT ID="New">new</FONT> BoxLayout(data, BoxLayout.Y_AXIS));
<FONT ID="LN">893 </FONT><A NAME="893"></A>      
<FONT ID="LN">894 </FONT><A NAME="894"></A>      ab = <FONT ID="New">new</FONT> Box(BoxLayout.X_AXIS);
<FONT ID="LN">895 </FONT><A NAME="895"></A>      Component b = Box.createGlue();
<FONT ID="LN">896 </FONT><A NAME="896"></A>      ab.add(m_totalEpochsLabel);
<FONT ID="LN">897 </FONT><A NAME="897"></A>      ab.add(m_changeEpochs);
<FONT ID="LN">898 </FONT><A NAME="898"></A>      m_changeEpochs.setMaximumSize(<FONT ID="New">new</FONT> Dimension(<FONT ID="IntegerLiteral">200</FONT>, <FONT ID="IntegerLiteral">20</FONT>));
<FONT ID="LN">899 </FONT><A NAME="899"></A>      ab.add(b);
<FONT ID="LN">900 </FONT><A NAME="900"></A>      data.add(ab);      
<FONT ID="LN">901 </FONT><A NAME="901"></A>           
<FONT ID="LN">902 </FONT><A NAME="902"></A>      ab = <FONT ID="New">new</FONT> Box(BoxLayout.X_AXIS);
<FONT ID="LN">903 </FONT><A NAME="903"></A>      b = Box.createGlue();
<FONT ID="LN">904 </FONT><A NAME="904"></A>      ab.add(m_learningLabel);
<FONT ID="LN">905 </FONT><A NAME="905"></A>      ab.add(m_changeLearning);
<FONT ID="LN">906 </FONT><A NAME="906"></A>      m_changeLearning.setMaximumSize(<FONT ID="New">new</FONT> Dimension(<FONT ID="IntegerLiteral">200</FONT>, <FONT ID="IntegerLiteral">20</FONT>));
<FONT ID="LN">907 </FONT><A NAME="907"></A>      ab.add(b);
<FONT ID="LN">908 </FONT><A NAME="908"></A>      data.add(ab);
<FONT ID="LN">909 </FONT><A NAME="909"></A>      
<FONT ID="LN">910 </FONT><A NAME="910"></A>      ab = <FONT ID="New">new</FONT> Box(BoxLayout.X_AXIS);
<FONT ID="LN">911 </FONT><A NAME="911"></A>      b = Box.createGlue();
<FONT ID="LN">912 </FONT><A NAME="912"></A>      ab.add(m_momentumLabel);
<FONT ID="LN">913 </FONT><A NAME="913"></A>      ab.add(m_changeMomentum);
<FONT ID="LN">914 </FONT><A NAME="914"></A>      m_changeMomentum.setMaximumSize(<FONT ID="New">new</FONT> Dimension(<FONT ID="IntegerLiteral">200</FONT>, <FONT ID="IntegerLiteral">20</FONT>));
<FONT ID="LN">915 </FONT><A NAME="915"></A>      ab.add(b);
<FONT ID="LN">916 </FONT><A NAME="916"></A>      data.add(ab);
<FONT ID="LN">917 </FONT><A NAME="917"></A>      
<FONT ID="LN">918 </FONT><A NAME="918"></A>      add(data, BorderLayout.EAST);
<FONT ID="LN">919 </FONT><A NAME="919"></A>      
<FONT ID="LN">920 </FONT><A NAME="920"></A>      m_startStop.addActionListener(<FONT ID="New">new</FONT> ActionListener() {
<FONT ID="LN">921 </FONT><A NAME="921"></A>      <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> actionPerformed(ActionEvent e) {
<FONT ID="LN">922 </FONT><A NAME="922"></A>        <FONT ID="If">if</FONT> (e.getActionCommand().equals(<FONT ID="StringLiteral">"Start"</FONT>)) {
<FONT ID="LN">923 </FONT><A NAME="923"></A>          m_stopIt = <FONT ID="False">false</FONT>;
<FONT ID="LN">924 </FONT><A NAME="924"></A>          m_startStop.setText(<FONT ID="StringLiteral">"Stop"</FONT>);
<FONT ID="LN">925 </FONT><A NAME="925"></A>          m_startStop.setActionCommand(<FONT ID="StringLiteral">"Stop"</FONT>);
<FONT ID="LN">926 </FONT><A NAME="926"></A>          <FONT ID="Int">int</FONT> n = Integer.valueOf(m_changeEpochs.getText()).intValue();
<FONT ID="LN">927 </FONT><A NAME="927"></A>          
<FONT ID="LN">928 </FONT><A NAME="928"></A>          m_numEpochs = n;
<FONT ID="LN">929 </FONT><A NAME="929"></A>          m_changeEpochs.setText(<FONT ID="StringLiteral">""</FONT> + m_numEpochs);
<FONT ID="LN">930 </FONT><A NAME="930"></A>          
<FONT ID="LN">931 </FONT><A NAME="931"></A>          <FONT ID="Double">double</FONT> m=Double.valueOf(m_changeLearning.getText()).
<FONT ID="LN">932 </FONT><A NAME="932"></A>        doubleValue();
<FONT ID="LN">933 </FONT><A NAME="933"></A>          setLearningRate(m);
<FONT ID="LN">934 </FONT><A NAME="934"></A>          m_changeLearning.setText(<FONT ID="StringLiteral">""</FONT> + m_learningRate);
<FONT ID="LN">935 </FONT><A NAME="935"></A>          
<FONT ID="LN">936 </FONT><A NAME="936"></A>          m = Double.valueOf(m_changeMomentum.getText()).doubleValue();
<FONT ID="LN">937 </FONT><A NAME="937"></A>          setMomentum(m);
<FONT ID="LN">938 </FONT><A NAME="938"></A>          m_changeMomentum.setText(<FONT ID="StringLiteral">""</FONT> + m_momentum);
<FONT ID="LN">939 </FONT><A NAME="939"></A>          
<FONT ID="LN">940 </FONT><A NAME="940"></A>          blocker(<FONT ID="False">false</FONT>);
<FONT ID="LN">941 </FONT><A NAME="941"></A>        }
<FONT ID="LN">942 </FONT><A NAME="942"></A>        <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (e.getActionCommand().equals(<FONT ID="StringLiteral">"Stop"</FONT>)) {
<FONT ID="LN">943 </FONT><A NAME="943"></A>          m_stopIt = <FONT ID="True">true</FONT>;
<FONT ID="LN">944 </FONT><A NAME="944"></A>          m_startStop.setText(<FONT ID="StringLiteral">"Start"</FONT>);
<FONT ID="LN">945 </FONT><A NAME="945"></A>          m_startStop.setActionCommand(<FONT ID="StringLiteral">"Start"</FONT>);
<FONT ID="LN">946 </FONT><A NAME="946"></A>        }
<FONT ID="LN">947 </FONT><A NAME="947"></A>      }
<FONT ID="LN">948 </FONT><A NAME="948"></A>    });
<FONT ID="LN">949 </FONT><A NAME="949"></A>      
<FONT ID="LN">950 </FONT><A NAME="950"></A>      m_acceptButton.addActionListener(<FONT ID="New">new</FONT> ActionListener() {
<FONT ID="LN">951 </FONT><A NAME="951"></A>      <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> actionPerformed(ActionEvent e) {
<FONT ID="LN">952 </FONT><A NAME="952"></A>        m_accepted = <FONT ID="True">true</FONT>;
<FONT ID="LN">953 </FONT><A NAME="953"></A>        blocker(<FONT ID="False">false</FONT>);
<FONT ID="LN">954 </FONT><A NAME="954"></A>      }
<FONT ID="LN">955 </FONT><A NAME="955"></A>    });
<FONT ID="LN">956 </FONT><A NAME="956"></A>      
<FONT ID="LN">957 </FONT><A NAME="957"></A>      m_changeEpochs.addActionListener(<FONT ID="New">new</FONT> ActionListener() {
<FONT ID="LN">958 </FONT><A NAME="958"></A>      <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> actionPerformed(ActionEvent e) {
<FONT ID="LN">959 </FONT><A NAME="959"></A>        <FONT ID="Int">int</FONT> n = Integer.valueOf(m_changeEpochs.getText()).intValue();
<FONT ID="LN">960 </FONT><A NAME="960"></A>        <FONT ID="If">if</FONT> (n &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">961 </FONT><A NAME="961"></A>          m_numEpochs = n;
<FONT ID="LN">962 </FONT><A NAME="962"></A>          blocker(<FONT ID="False">false</FONT>);
<FONT ID="LN">963 </FONT><A NAME="963"></A>        }
<FONT ID="LN">964 </FONT><A NAME="964"></A>      }
<FONT ID="LN">965 </FONT><A NAME="965"></A>    });
<FONT ID="LN">966 </FONT><A NAME="966"></A>    }
<FONT ID="LN">967 </FONT><A NAME="967"></A>    
<FONT ID="LN">968 </FONT><A NAME="968"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">969 </FONT><A NAME="969"></A>     * Returns the revision string.
<FONT ID="LN">970 </FONT><A NAME="970"></A>     * 
<FONT ID="LN">971 </FONT><A NAME="971"></A>     * @return      the revision
<FONT ID="LN">972 </FONT><A NAME="972"></A>     */</FONT>
<FONT ID="LN">973 </FONT><A NAME="973"></A>    <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">974 </FONT><A NAME="974"></A>      <FONT ID="Return">return</FONT> RevisionUtils.extract(<FONT ID="StringLiteral">"$Revision: 6202 $"</FONT>);
<FONT ID="LN">975 </FONT><A NAME="975"></A>    }
<FONT ID="LN">976 </FONT><A NAME="976"></A>  }
<FONT ID="LN">977 </FONT><A NAME="977"></A>  
<FONT ID="LN">978 </FONT><A NAME="978"></A>
<FONT ID="LN">979 </FONT><A NAME="979"></A>  <FONT ID="FormalComment">/** a ZeroR model in case no model can be built from the data */</FONT>
<FONT ID="LN">980 </FONT><A NAME="980"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/classifiers/AbstractClassifier.java.html">Classifier</A> m_ZeroR;
<FONT ID="LN">981 </FONT><A NAME="981"></A>    
<FONT ID="LN">982 </FONT><A NAME="982"></A>  <FONT ID="FormalComment">/** The training instances. */</FONT>
<FONT ID="LN">983 </FONT><A NAME="983"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A> m_instances;
<FONT ID="LN">984 </FONT><A NAME="984"></A>  
<FONT ID="LN">985 </FONT><A NAME="985"></A>  <FONT ID="SingleLineComment">//modCS.S &amp; //modCS.V
<FONT ID="LN">986 </FONT><A NAME="986"></A></FONT>  <FONT ID="FormalComment">/**
<FONT ID="LN">987 </FONT><A NAME="987"></A>   * Declaration of needed structures for loading and storing external
<FONT ID="LN">988 </FONT><A NAME="988"></A>   * validation and secondary task training files.
<FONT ID="LN">989 </FONT><A NAME="989"></A>   */</FONT>
<FONT ID="LN">990 </FONT><A NAME="990"></A>  <FONT ID="Protected">protected</FONT> DataSource m_valSetSource = <FONT ID="Null">null</FONT>;
<FONT ID="LN">991 </FONT><A NAME="991"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A> m_valSet = <FONT ID="Null">null</FONT>;
<FONT ID="LN">992 </FONT><A NAME="992"></A>  <FONT ID="Protected">protected</FONT> String m_valSetFileName = <FONT ID="Null">null</FONT>;
<FONT ID="LN">993 </FONT><A NAME="993"></A>  <FONT ID="Protected">protected</FONT> DataSource m_secSetSource = <FONT ID="Null">null</FONT>;
<FONT ID="LN">994 </FONT><A NAME="994"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A> m_secSet = <FONT ID="Null">null</FONT>;
<FONT ID="LN">995 </FONT><A NAME="995"></A>  <FONT ID="Protected">protected</FONT> String m_secSetFileName = <FONT ID="Null">null</FONT>;  
<FONT ID="LN">996 </FONT><A NAME="996"></A>  
<FONT ID="LN">997 </FONT><A NAME="997"></A>  <FONT ID="FormalComment">/** The current instance running through the network. */</FONT>
<FONT ID="LN">998 </FONT><A NAME="998"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/core/Instance.java.html">Instance</A> m_currentInstance;
<FONT ID="LN">999 </FONT><A NAME="999"></A>  
<FONT ID="LN">1000</FONT><A NAME="1000"></A>  <FONT ID="FormalComment">/** A flag to say that it's a numeric class. */</FONT>
<FONT ID="LN">1001</FONT><A NAME="1001"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_numeric;
<FONT ID="LN">1002</FONT><A NAME="1002"></A>
<FONT ID="LN">1003</FONT><A NAME="1003"></A>  <FONT ID="FormalComment">/** The ranges for all the attributes. */</FONT>
<FONT ID="LN">1004</FONT><A NAME="1004"></A>  <FONT ID="Private">private</FONT> <FONT ID="Double">double</FONT>[] m_attributeRanges;
<FONT ID="LN">1005</FONT><A NAME="1005"></A>
<FONT ID="LN">1006</FONT><A NAME="1006"></A>  <FONT ID="FormalComment">/** The base values for all the attributes. */</FONT>
<FONT ID="LN">1007</FONT><A NAME="1007"></A>  <FONT ID="Private">private</FONT> <FONT ID="Double">double</FONT>[] m_attributeBases;
<FONT ID="LN">1008</FONT><A NAME="1008"></A>
<FONT ID="LN">1009</FONT><A NAME="1009"></A>  <FONT ID="FormalComment">/** The output units.(only feeds the errors, does no calcs) */</FONT>
<FONT ID="LN">1010</FONT><A NAME="1010"></A>  <FONT ID="Private">private</FONT> NeuralEnd[] m_outputs;
<FONT ID="LN">1011</FONT><A NAME="1011"></A>
<FONT ID="LN">1012</FONT><A NAME="1012"></A>  <FONT ID="FormalComment">/** The input units.(only feeds the inputs does no calcs) */</FONT>
<FONT ID="LN">1013</FONT><A NAME="1013"></A>  <FONT ID="Private">private</FONT> NeuralEnd[] m_inputs;
<FONT ID="LN">1014</FONT><A NAME="1014"></A>
<FONT ID="LN">1015</FONT><A NAME="1015"></A>  <FONT ID="FormalComment">/** All the nodes that actually comprise the logical neural net. */</FONT>
<FONT ID="LN">1016</FONT><A NAME="1016"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>[] m_neuralNodes;
<FONT ID="LN">1017</FONT><A NAME="1017"></A>
<FONT ID="LN">1018</FONT><A NAME="1018"></A>  <FONT ID="FormalComment">/** The number of classes. */</FONT>
<FONT ID="LN">1019</FONT><A NAME="1019"></A>  <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_numClasses = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1020</FONT><A NAME="1020"></A>  
<FONT ID="LN">1021</FONT><A NAME="1021"></A>  <FONT ID="FormalComment">/** The number of attributes. */</FONT>
<FONT ID="LN">1022</FONT><A NAME="1022"></A>  <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_numAttributes = <FONT ID="IntegerLiteral">0</FONT>; <FONT ID="SingleLineComment">//note the number doesn't include the class.
<FONT ID="LN">1023</FONT><A NAME="1023"></A></FONT>  
<FONT ID="LN">1024</FONT><A NAME="1024"></A>  <FONT ID="FormalComment">/** The panel the nodes are displayed on. */</FONT>
<FONT ID="LN">1025</FONT><A NAME="1025"></A>  <FONT ID="Private">private</FONT> NodePanel m_nodePanel;
<FONT ID="LN">1026</FONT><A NAME="1026"></A>  
<FONT ID="LN">1027</FONT><A NAME="1027"></A>  <FONT ID="FormalComment">/** The control panel. */</FONT>
<FONT ID="LN">1028</FONT><A NAME="1028"></A>  <FONT ID="Private">private</FONT> ControlPanel m_controlPanel;
<FONT ID="LN">1029</FONT><A NAME="1029"></A>
<FONT ID="LN">1030</FONT><A NAME="1030"></A>  <FONT ID="FormalComment">/** The next id number available for default naming. */</FONT>
<FONT ID="LN">1031</FONT><A NAME="1031"></A>  <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_nextId;
<FONT ID="LN">1032</FONT><A NAME="1032"></A>   
<FONT ID="LN">1033</FONT><A NAME="1033"></A>  <FONT ID="FormalComment">/** A Vector list of the units currently selected. */</FONT>
<FONT ID="LN">1034</FONT><A NAME="1034"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> m_selected;
<FONT ID="LN">1035</FONT><A NAME="1035"></A>
<FONT ID="LN">1036</FONT><A NAME="1036"></A>  <FONT ID="FormalComment">/** A Vector list of the graphers. */</FONT>
<FONT ID="LN">1037</FONT><A NAME="1037"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> m_graphers;
<FONT ID="LN">1038</FONT><A NAME="1038"></A>
<FONT ID="LN">1039</FONT><A NAME="1039"></A>  <FONT ID="FormalComment">/** The number of epochs to train through. */</FONT>
<FONT ID="LN">1040</FONT><A NAME="1040"></A>  <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_numEpochs;
<FONT ID="LN">1041</FONT><A NAME="1041"></A>
<FONT ID="LN">1042</FONT><A NAME="1042"></A>  <FONT ID="FormalComment">/** a flag to state if the network should be running, or stopped. */</FONT>
<FONT ID="LN">1043</FONT><A NAME="1043"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_stopIt;
<FONT ID="LN">1044</FONT><A NAME="1044"></A>
<FONT ID="LN">1045</FONT><A NAME="1045"></A>  <FONT ID="FormalComment">/** a flag to state that the network has in fact stopped. */</FONT>
<FONT ID="LN">1046</FONT><A NAME="1046"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_stopped;
<FONT ID="LN">1047</FONT><A NAME="1047"></A>
<FONT ID="LN">1048</FONT><A NAME="1048"></A>  <FONT ID="FormalComment">/** a flag to state that the network should be accepted the way it is. */</FONT>
<FONT ID="LN">1049</FONT><A NAME="1049"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_accepted;
<FONT ID="LN">1050</FONT><A NAME="1050"></A>  <FONT ID="FormalComment">/** The window for the network. */</FONT>
<FONT ID="LN">1051</FONT><A NAME="1051"></A>  <FONT ID="Private">private</FONT> JFrame m_win;
<FONT ID="LN">1052</FONT><A NAME="1052"></A>
<FONT ID="LN">1053</FONT><A NAME="1053"></A>  <FONT ID="FormalComment">/** A flag to tell the build classifier to automatically build a neural net.
<FONT ID="LN">1054</FONT><A NAME="1054"></A>   */</FONT>
<FONT ID="LN">1055</FONT><A NAME="1055"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_autoBuild;
<FONT ID="LN">1056</FONT><A NAME="1056"></A>
<FONT ID="LN">1057</FONT><A NAME="1057"></A>  <FONT ID="FormalComment">/** A flag to state that the gui for the network should be brought up.
<FONT ID="LN">1058</FONT><A NAME="1058"></A>      To allow interaction while training. */</FONT>
<FONT ID="LN">1059</FONT><A NAME="1059"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_gui;
<FONT ID="LN">1060</FONT><A NAME="1060"></A>
<FONT ID="LN">1061</FONT><A NAME="1061"></A>  <FONT ID="FormalComment">/** An int to say how big the validation set should be. */</FONT>
<FONT ID="LN">1062</FONT><A NAME="1062"></A>  <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_valSize;
<FONT ID="LN">1063</FONT><A NAME="1063"></A>
<FONT ID="LN">1064</FONT><A NAME="1064"></A>  <FONT ID="FormalComment">/** The number to to use to quit on validation testing. */</FONT>
<FONT ID="LN">1065</FONT><A NAME="1065"></A>  <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_driftThreshold;
<FONT ID="LN">1066</FONT><A NAME="1066"></A>
<FONT ID="LN">1067</FONT><A NAME="1067"></A>  <FONT ID="FormalComment">/** The number used to seed the random number generator. */</FONT>
<FONT ID="LN">1068</FONT><A NAME="1068"></A>  <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_randomSeed;
<FONT ID="LN">1069</FONT><A NAME="1069"></A>
<FONT ID="LN">1070</FONT><A NAME="1070"></A>  <FONT ID="FormalComment">/** The actual random number generator. */</FONT>
<FONT ID="LN">1071</FONT><A NAME="1071"></A>  <FONT ID="Private">private</FONT> Random m_random;
<FONT ID="LN">1072</FONT><A NAME="1072"></A>
<FONT ID="LN">1073</FONT><A NAME="1073"></A>  <FONT ID="FormalComment">/** A flag to state that a nominal to binary filter should be used. */</FONT>
<FONT ID="LN">1074</FONT><A NAME="1074"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_useNomToBin;
<FONT ID="LN">1075</FONT><A NAME="1075"></A>  
<FONT ID="LN">1076</FONT><A NAME="1076"></A>  <FONT ID="FormalComment">/** The actual filter. */</FONT>
<FONT ID="LN">1077</FONT><A NAME="1077"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/NominalToBinary.java.html">NominalToBinary</A> m_nominalToBinaryFilter;
<FONT ID="LN">1078</FONT><A NAME="1078"></A>
<FONT ID="LN">1079</FONT><A NAME="1079"></A>  <FONT ID="FormalComment">/** The string that defines the hidden layers */</FONT>
<FONT ID="LN">1080</FONT><A NAME="1080"></A>  <FONT ID="Private">private</FONT> String m_hiddenLayers;
<FONT ID="LN">1081</FONT><A NAME="1081"></A>
<FONT ID="LN">1082</FONT><A NAME="1082"></A>  <FONT ID="FormalComment">/** This flag states that the user wants the input values normalized. */</FONT>
<FONT ID="LN">1083</FONT><A NAME="1083"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_normalizeAttributes;
<FONT ID="LN">1084</FONT><A NAME="1084"></A>
<FONT ID="LN">1085</FONT><A NAME="1085"></A>  <FONT ID="FormalComment">/** This flag states that the user wants the learning rate to decay. */</FONT>
<FONT ID="LN">1086</FONT><A NAME="1086"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_decay;
<FONT ID="LN">1087</FONT><A NAME="1087"></A>
<FONT ID="LN">1088</FONT><A NAME="1088"></A>  <FONT ID="FormalComment">/** This is the learning rate for the network. */</FONT>
<FONT ID="LN">1089</FONT><A NAME="1089"></A>  <FONT ID="Private">private</FONT> <FONT ID="Double">double</FONT> m_learningRate;
<FONT ID="LN">1090</FONT><A NAME="1090"></A>
<FONT ID="LN">1091</FONT><A NAME="1091"></A>  <FONT ID="FormalComment">/** This is the momentum for the network. */</FONT>
<FONT ID="LN">1092</FONT><A NAME="1092"></A>  <FONT ID="Private">private</FONT> <FONT ID="Double">double</FONT> m_momentum;
<FONT ID="LN">1093</FONT><A NAME="1093"></A>
<FONT ID="LN">1094</FONT><A NAME="1094"></A>  <FONT ID="FormalComment">/** Shows the number of the epoch that the network just finished. */</FONT>
<FONT ID="LN">1095</FONT><A NAME="1095"></A>  <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_epoch;
<FONT ID="LN">1096</FONT><A NAME="1096"></A>
<FONT ID="LN">1097</FONT><A NAME="1097"></A>  <FONT ID="FormalComment">/** Shows the error of the epoch that the network just finished. */</FONT>
<FONT ID="LN">1098</FONT><A NAME="1098"></A>  <FONT ID="Private">private</FONT> <FONT ID="Double">double</FONT> m_error;
<FONT ID="LN">1099</FONT><A NAME="1099"></A>
<FONT ID="LN">1100</FONT><A NAME="1100"></A>   <FONT ID="SingleLineComment">//modCS.E
<FONT ID="LN">1101</FONT><A NAME="1101"></A></FONT>   <FONT ID="FormalComment">/** Shows the lowest validation error */</FONT>
<FONT ID="LN">1102</FONT><A NAME="1102"></A>   <FONT ID="Private">private</FONT> <FONT ID="Double">double</FONT> m_lowValError;
<FONT ID="LN">1103</FONT><A NAME="1103"></A>   <FONT ID="FormalComment">/** Shows the epoch index when lowest validation error is found */</FONT>
<FONT ID="LN">1104</FONT><A NAME="1104"></A>   <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_epochIndex;  
<FONT ID="LN">1105</FONT><A NAME="1105"></A>
<FONT ID="LN">1106</FONT><A NAME="1106"></A>  <FONT ID="FormalComment">/** This flag states that the user wants the network to restart if it
<FONT ID="LN">1107</FONT><A NAME="1107"></A>   * is found to be generating infinity or NaN for the error value. This
<FONT ID="LN">1108</FONT><A NAME="1108"></A>   * would restart the network with the current options except that the
<FONT ID="LN">1109</FONT><A NAME="1109"></A>   * learning rate would be smaller than before, (perhaps half of its current
<FONT ID="LN">1110</FONT><A NAME="1110"></A>   * value). This option will not be available if the gui is chosen (if the
<FONT ID="LN">1111</FONT><A NAME="1111"></A>   * gui is open the user can fix the network themselves, it is an 
<FONT ID="LN">1112</FONT><A NAME="1112"></A>   * architectural minefield for the network to be reset with the gui open). */</FONT>
<FONT ID="LN">1113</FONT><A NAME="1113"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_reset;
<FONT ID="LN">1114</FONT><A NAME="1114"></A>
<FONT ID="LN">1115</FONT><A NAME="1115"></A>  <FONT ID="FormalComment">/** This flag states that the user wants the class to be normalized while
<FONT ID="LN">1116</FONT><A NAME="1116"></A>   * processing in the network is done. (the final answer will be in the
<FONT ID="LN">1117</FONT><A NAME="1117"></A>   * original range regardless). This option will only be used when the class
<FONT ID="LN">1118</FONT><A NAME="1118"></A>   * is numeric. */</FONT>
<FONT ID="LN">1119</FONT><A NAME="1119"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_normalizeClass;
<FONT ID="LN">1120</FONT><A NAME="1120"></A>
<FONT ID="LN">1121</FONT><A NAME="1121"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1122</FONT><A NAME="1122"></A>   * this is a sigmoid unit. 
<FONT ID="LN">1123</FONT><A NAME="1123"></A>   */</FONT>
<FONT ID="LN">1124</FONT><A NAME="1124"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/classifiers/functions/neural/SigmoidUnit.java.html">SigmoidUnit</A> m_sigmoidUnit;
<FONT ID="LN">1125</FONT><A NAME="1125"></A>  
<FONT ID="LN">1126</FONT><A NAME="1126"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1127</FONT><A NAME="1127"></A>   * This is a linear unit.
<FONT ID="LN">1128</FONT><A NAME="1128"></A>   */</FONT>
<FONT ID="LN">1129</FONT><A NAME="1129"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/classifiers/functions/neural/LinearUnit.java.html">LinearUnit</A> m_linearUnit;
<FONT ID="LN">1130</FONT><A NAME="1130"></A>  
<FONT ID="LN">1131</FONT><A NAME="1131"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1132</FONT><A NAME="1132"></A>   * The constructor.
<FONT ID="LN">1133</FONT><A NAME="1133"></A>   */</FONT>
<FONT ID="LN">1134</FONT><A NAME="1134"></A>  <FONT ID="Public">public</FONT> MultilayerPerceptronCS() {
<FONT ID="LN">1135</FONT><A NAME="1135"></A>    m_instances = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1136</FONT><A NAME="1136"></A>    <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">1137</FONT><A NAME="1137"></A></FONT>    m_valSet = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1138</FONT><A NAME="1138"></A>    m_valSetSource = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1139</FONT><A NAME="1139"></A>    m_valSetFileName = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1140</FONT><A NAME="1140"></A>    <FONT ID="SingleLineComment">//modCS.S
<FONT ID="LN">1141</FONT><A NAME="1141"></A></FONT>    m_secSet = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1142</FONT><A NAME="1142"></A>    m_secSetSource = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1143</FONT><A NAME="1143"></A>    m_secSetFileName = <FONT ID="Null">null</FONT>;    
<FONT ID="LN">1144</FONT><A NAME="1144"></A>    
<FONT ID="LN">1145</FONT><A NAME="1145"></A>    m_currentInstance = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1146</FONT><A NAME="1146"></A>    m_controlPanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1147</FONT><A NAME="1147"></A>    m_nodePanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1148</FONT><A NAME="1148"></A>    m_epoch = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1149</FONT><A NAME="1149"></A>    m_error = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1150</FONT><A NAME="1150"></A>    
<FONT ID="LN">1151</FONT><A NAME="1151"></A>    
<FONT ID="LN">1152</FONT><A NAME="1152"></A>    m_outputs = <FONT ID="New">new</FONT> NeuralEnd[<FONT ID="IntegerLiteral">0</FONT>];
<FONT ID="LN">1153</FONT><A NAME="1153"></A>    m_inputs = <FONT ID="New">new</FONT> NeuralEnd[<FONT ID="IntegerLiteral">0</FONT>];
<FONT ID="LN">1154</FONT><A NAME="1154"></A>    m_numAttributes = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1155</FONT><A NAME="1155"></A>    m_numClasses = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1156</FONT><A NAME="1156"></A>    m_neuralNodes = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>[<FONT ID="IntegerLiteral">0</FONT>];
<FONT ID="LN">1157</FONT><A NAME="1157"></A>    m_selected = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">4</FONT>);
<FONT ID="LN">1158</FONT><A NAME="1158"></A>    m_graphers = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">2</FONT>);
<FONT ID="LN">1159</FONT><A NAME="1159"></A>    m_nextId = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1160</FONT><A NAME="1160"></A>    m_stopIt = <FONT ID="True">true</FONT>;
<FONT ID="LN">1161</FONT><A NAME="1161"></A>    m_stopped = <FONT ID="True">true</FONT>;
<FONT ID="LN">1162</FONT><A NAME="1162"></A>    m_accepted = <FONT ID="False">false</FONT>;
<FONT ID="LN">1163</FONT><A NAME="1163"></A>    m_numeric = <FONT ID="False">false</FONT>;
<FONT ID="LN">1164</FONT><A NAME="1164"></A>    m_random = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1165</FONT><A NAME="1165"></A>    m_nominalToBinaryFilter = <FONT ID="New">new</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/NominalToBinary.java.html">NominalToBinary</A>();
<FONT ID="LN">1166</FONT><A NAME="1166"></A>    m_sigmoidUnit = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/neural/SigmoidUnit.java.html">SigmoidUnit</A>();
<FONT ID="LN">1167</FONT><A NAME="1167"></A>    m_linearUnit = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/neural/LinearUnit.java.html">LinearUnit</A>();
<FONT ID="LN">1168</FONT><A NAME="1168"></A>    <FONT ID="SingleLineComment">//setting all the options to their defaults. To completely change these
<FONT ID="LN">1169</FONT><A NAME="1169"></A></FONT>    <FONT ID="SingleLineComment">//defaults they will also need to be changed down the bottom in the 
<FONT ID="LN">1170</FONT><A NAME="1170"></A></FONT>    <FONT ID="SingleLineComment">//setoptions function (the text info in the accompanying functions should 
<FONT ID="LN">1171</FONT><A NAME="1171"></A></FONT>    <FONT ID="SingleLineComment">//also be changed to reflect the new defaults
<FONT ID="LN">1172</FONT><A NAME="1172"></A></FONT>    m_normalizeClass = <FONT ID="True">true</FONT>;
<FONT ID="LN">1173</FONT><A NAME="1173"></A>    m_normalizeAttributes = <FONT ID="True">true</FONT>;
<FONT ID="LN">1174</FONT><A NAME="1174"></A>    m_autoBuild = <FONT ID="True">true</FONT>;
<FONT ID="LN">1175</FONT><A NAME="1175"></A>    m_gui = <FONT ID="False">false</FONT>;
<FONT ID="LN">1176</FONT><A NAME="1176"></A>    m_useNomToBin = <FONT ID="True">true</FONT>;
<FONT ID="LN">1177</FONT><A NAME="1177"></A>    m_driftThreshold = <FONT ID="IntegerLiteral">20</FONT>;
<FONT ID="LN">1178</FONT><A NAME="1178"></A>    m_numEpochs = <FONT ID="IntegerLiteral">500</FONT>;
<FONT ID="LN">1179</FONT><A NAME="1179"></A>    m_valSize = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1180</FONT><A NAME="1180"></A>    m_randomSeed = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1181</FONT><A NAME="1181"></A>    m_hiddenLayers = <FONT ID="StringLiteral">"a"</FONT>;
<FONT ID="LN">1182</FONT><A NAME="1182"></A>    m_learningRate = <FONT ID="FloatPointLiteral">.3</FONT>;
<FONT ID="LN">1183</FONT><A NAME="1183"></A>    m_momentum = <FONT ID="FloatPointLiteral">.2</FONT>;
<FONT ID="LN">1184</FONT><A NAME="1184"></A>    m_reset = <FONT ID="True">true</FONT>;
<FONT ID="LN">1185</FONT><A NAME="1185"></A>    m_decay = <FONT ID="False">false</FONT>;
<FONT ID="LN">1186</FONT><A NAME="1186"></A>  
<FONT ID="LN">1187</FONT><A NAME="1187"></A>    <FONT ID="SingleLineComment">//modCS.E
<FONT ID="LN">1188</FONT><A NAME="1188"></A></FONT>    m_lowValError = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1189</FONT><A NAME="1189"></A>    m_epochIndex = <FONT ID="IntegerLiteral">0</FONT>;    
<FONT ID="LN">1190</FONT><A NAME="1190"></A>    
<FONT ID="LN">1191</FONT><A NAME="1191"></A>  }
<FONT ID="LN">1192</FONT><A NAME="1192"></A>
<FONT ID="LN">1193</FONT><A NAME="1193"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1194</FONT><A NAME="1194"></A>   * @param d True if the learning rate should decay.
<FONT ID="LN">1195</FONT><A NAME="1195"></A>   */</FONT>
<FONT ID="LN">1196</FONT><A NAME="1196"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setDecay(<FONT ID="Boolean">boolean</FONT> d) {
<FONT ID="LN">1197</FONT><A NAME="1197"></A>    m_decay = d;
<FONT ID="LN">1198</FONT><A NAME="1198"></A>  }
<FONT ID="LN">1199</FONT><A NAME="1199"></A>  
<FONT ID="LN">1200</FONT><A NAME="1200"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1201</FONT><A NAME="1201"></A>   * @return the flag for having the learning rate decay.
<FONT ID="LN">1202</FONT><A NAME="1202"></A>   */</FONT>
<FONT ID="LN">1203</FONT><A NAME="1203"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getDecay() {
<FONT ID="LN">1204</FONT><A NAME="1204"></A>    <FONT ID="Return">return</FONT> m_decay;
<FONT ID="LN">1205</FONT><A NAME="1205"></A>  }
<FONT ID="LN">1206</FONT><A NAME="1206"></A>
<FONT ID="LN">1207</FONT><A NAME="1207"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1208</FONT><A NAME="1208"></A>   * This sets the network up to be able to reset itself with the current 
<FONT ID="LN">1209</FONT><A NAME="1209"></A>   * settings and the learning rate at half of what it is currently. This
<FONT ID="LN">1210</FONT><A NAME="1210"></A>   * will only happen if the network creates NaN or infinite errors. Also this
<FONT ID="LN">1211</FONT><A NAME="1211"></A>   * will continue to happen until the network is trained properly. The 
<FONT ID="LN">1212</FONT><A NAME="1212"></A>   * learning rate will also get set back to it's original value at the end of
<FONT ID="LN">1213</FONT><A NAME="1213"></A>   * this. This can only be set to true if the GUI is not brought up.
<FONT ID="LN">1214</FONT><A NAME="1214"></A>   * @param r True if the network should restart with it's current options
<FONT ID="LN">1215</FONT><A NAME="1215"></A>   * and set the learning rate to half what it currently is.
<FONT ID="LN">1216</FONT><A NAME="1216"></A>   */</FONT>
<FONT ID="LN">1217</FONT><A NAME="1217"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setReset(<FONT ID="Boolean">boolean</FONT> r) {
<FONT ID="LN">1218</FONT><A NAME="1218"></A>    <FONT ID="If">if</FONT> (m_gui) {
<FONT ID="LN">1219</FONT><A NAME="1219"></A>      r = <FONT ID="False">false</FONT>;
<FONT ID="LN">1220</FONT><A NAME="1220"></A>    }
<FONT ID="LN">1221</FONT><A NAME="1221"></A>    m_reset = r;
<FONT ID="LN">1222</FONT><A NAME="1222"></A>      
<FONT ID="LN">1223</FONT><A NAME="1223"></A>  }
<FONT ID="LN">1224</FONT><A NAME="1224"></A>
<FONT ID="LN">1225</FONT><A NAME="1225"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1226</FONT><A NAME="1226"></A>   * @return The flag for reseting the network.
<FONT ID="LN">1227</FONT><A NAME="1227"></A>   */</FONT>
<FONT ID="LN">1228</FONT><A NAME="1228"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getReset() {
<FONT ID="LN">1229</FONT><A NAME="1229"></A>    <FONT ID="Return">return</FONT> m_reset;
<FONT ID="LN">1230</FONT><A NAME="1230"></A>  }
<FONT ID="LN">1231</FONT><A NAME="1231"></A>  
<FONT ID="LN">1232</FONT><A NAME="1232"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1233</FONT><A NAME="1233"></A>   * @param c True if the class should be normalized (the class will only ever
<FONT ID="LN">1234</FONT><A NAME="1234"></A>   * be normalized if it is numeric). (Normalization puts the range between
<FONT ID="LN">1235</FONT><A NAME="1235"></A>   * -1 - 1).
<FONT ID="LN">1236</FONT><A NAME="1236"></A>   */</FONT>
<FONT ID="LN">1237</FONT><A NAME="1237"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setNormalizeNumericClass(<FONT ID="Boolean">boolean</FONT> c) {
<FONT ID="LN">1238</FONT><A NAME="1238"></A>    m_normalizeClass = c;
<FONT ID="LN">1239</FONT><A NAME="1239"></A>  }
<FONT ID="LN">1240</FONT><A NAME="1240"></A>  
<FONT ID="LN">1241</FONT><A NAME="1241"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1242</FONT><A NAME="1242"></A>   * @return The flag for normalizing a numeric class.
<FONT ID="LN">1243</FONT><A NAME="1243"></A>   */</FONT>
<FONT ID="LN">1244</FONT><A NAME="1244"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getNormalizeNumericClass() {
<FONT ID="LN">1245</FONT><A NAME="1245"></A>    <FONT ID="Return">return</FONT> m_normalizeClass;
<FONT ID="LN">1246</FONT><A NAME="1246"></A>  }
<FONT ID="LN">1247</FONT><A NAME="1247"></A>
<FONT ID="LN">1248</FONT><A NAME="1248"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1249</FONT><A NAME="1249"></A>   * @param a True if the attributes should be normalized (even nominal
<FONT ID="LN">1250</FONT><A NAME="1250"></A>   * attributes will get normalized here) (range goes between -1 - 1).
<FONT ID="LN">1251</FONT><A NAME="1251"></A>   */</FONT>
<FONT ID="LN">1252</FONT><A NAME="1252"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setNormalizeAttributes(<FONT ID="Boolean">boolean</FONT> a) {
<FONT ID="LN">1253</FONT><A NAME="1253"></A>    m_normalizeAttributes = a;
<FONT ID="LN">1254</FONT><A NAME="1254"></A>  }
<FONT ID="LN">1255</FONT><A NAME="1255"></A>
<FONT ID="LN">1256</FONT><A NAME="1256"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1257</FONT><A NAME="1257"></A>   * @return The flag for normalizing attributes.
<FONT ID="LN">1258</FONT><A NAME="1258"></A>   */</FONT>
<FONT ID="LN">1259</FONT><A NAME="1259"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getNormalizeAttributes() {
<FONT ID="LN">1260</FONT><A NAME="1260"></A>    <FONT ID="Return">return</FONT> m_normalizeAttributes;
<FONT ID="LN">1261</FONT><A NAME="1261"></A>  }
<FONT ID="LN">1262</FONT><A NAME="1262"></A>
<FONT ID="LN">1263</FONT><A NAME="1263"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1264</FONT><A NAME="1264"></A>   * @param f True if a nominalToBinary filter should be used on the
<FONT ID="LN">1265</FONT><A NAME="1265"></A>   * data.
<FONT ID="LN">1266</FONT><A NAME="1266"></A>   */</FONT>
<FONT ID="LN">1267</FONT><A NAME="1267"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setNominalToBinaryFilter(<FONT ID="Boolean">boolean</FONT> f) {
<FONT ID="LN">1268</FONT><A NAME="1268"></A>    m_useNomToBin = f;
<FONT ID="LN">1269</FONT><A NAME="1269"></A>  }
<FONT ID="LN">1270</FONT><A NAME="1270"></A>
<FONT ID="LN">1271</FONT><A NAME="1271"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1272</FONT><A NAME="1272"></A>   * @return The flag for nominal to binary filter use.
<FONT ID="LN">1273</FONT><A NAME="1273"></A>   */</FONT>
<FONT ID="LN">1274</FONT><A NAME="1274"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getNominalToBinaryFilter() {
<FONT ID="LN">1275</FONT><A NAME="1275"></A>    <FONT ID="Return">return</FONT> m_useNomToBin;
<FONT ID="LN">1276</FONT><A NAME="1276"></A>  }
<FONT ID="LN">1277</FONT><A NAME="1277"></A>
<FONT ID="LN">1278</FONT><A NAME="1278"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1279</FONT><A NAME="1279"></A>   * This seeds the random number generator, that is used when a random
<FONT ID="LN">1280</FONT><A NAME="1280"></A>   * number is needed for the network.
<FONT ID="LN">1281</FONT><A NAME="1281"></A>   * @param l The seed.
<FONT ID="LN">1282</FONT><A NAME="1282"></A>   */</FONT>
<FONT ID="LN">1283</FONT><A NAME="1283"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setSeed(<FONT ID="Int">int</FONT> l) {
<FONT ID="LN">1284</FONT><A NAME="1284"></A>    <FONT ID="If">if</FONT> (l &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1285</FONT><A NAME="1285"></A>      m_randomSeed = l;
<FONT ID="LN">1286</FONT><A NAME="1286"></A>    }
<FONT ID="LN">1287</FONT><A NAME="1287"></A>  }
<FONT ID="LN">1288</FONT><A NAME="1288"></A>  
<FONT ID="LN">1289</FONT><A NAME="1289"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1290</FONT><A NAME="1290"></A>   * @return The seed for the random number generator.
<FONT ID="LN">1291</FONT><A NAME="1291"></A>   */</FONT>
<FONT ID="LN">1292</FONT><A NAME="1292"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getSeed() {
<FONT ID="LN">1293</FONT><A NAME="1293"></A>    <FONT ID="Return">return</FONT> m_randomSeed;
<FONT ID="LN">1294</FONT><A NAME="1294"></A>  }
<FONT ID="LN">1295</FONT><A NAME="1295"></A>
<FONT ID="LN">1296</FONT><A NAME="1296"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1297</FONT><A NAME="1297"></A>   * This sets the threshold to use for when validation testing is being done.
<FONT ID="LN">1298</FONT><A NAME="1298"></A>   * It works by ending testing once the error on the validation set has 
<FONT ID="LN">1299</FONT><A NAME="1299"></A>   * consecutively increased a certain number of times.
<FONT ID="LN">1300</FONT><A NAME="1300"></A>   * @param t The threshold to use for this.
<FONT ID="LN">1301</FONT><A NAME="1301"></A>   */</FONT>
<FONT ID="LN">1302</FONT><A NAME="1302"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setValidationThreshold(<FONT ID="Int">int</FONT> t) {
<FONT ID="LN">1303</FONT><A NAME="1303"></A>    <FONT ID="If">if</FONT> (t &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1304</FONT><A NAME="1304"></A>      m_driftThreshold = t;
<FONT ID="LN">1305</FONT><A NAME="1305"></A>    }
<FONT ID="LN">1306</FONT><A NAME="1306"></A>  }
<FONT ID="LN">1307</FONT><A NAME="1307"></A>
<FONT ID="LN">1308</FONT><A NAME="1308"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1309</FONT><A NAME="1309"></A>   * @return The threshold used for validation testing.
<FONT ID="LN">1310</FONT><A NAME="1310"></A>   */</FONT>
<FONT ID="LN">1311</FONT><A NAME="1311"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getValidationThreshold() {
<FONT ID="LN">1312</FONT><A NAME="1312"></A>    <FONT ID="Return">return</FONT> m_driftThreshold;
<FONT ID="LN">1313</FONT><A NAME="1313"></A>  }
<FONT ID="LN">1314</FONT><A NAME="1314"></A>  
<FONT ID="LN">1315</FONT><A NAME="1315"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1316</FONT><A NAME="1316"></A>   * The learning rate can be set using this command.
<FONT ID="LN">1317</FONT><A NAME="1317"></A>   * NOTE That this is a static variable so it affect all networks that are
<FONT ID="LN">1318</FONT><A NAME="1318"></A>   * running.
<FONT ID="LN">1319</FONT><A NAME="1319"></A>   * Must be greater than 0 and no more than 1.
<FONT ID="LN">1320</FONT><A NAME="1320"></A>   * @param l The New learning rate. 
<FONT ID="LN">1321</FONT><A NAME="1321"></A>   */</FONT>
<FONT ID="LN">1322</FONT><A NAME="1322"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setLearningRate(<FONT ID="Double">double</FONT> l) {
<FONT ID="LN">1323</FONT><A NAME="1323"></A>    <FONT ID="If">if</FONT> (l &gt; <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; l &lt;= <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1324</FONT><A NAME="1324"></A>      m_learningRate = l;
<FONT ID="LN">1325</FONT><A NAME="1325"></A>    
<FONT ID="LN">1326</FONT><A NAME="1326"></A>      <FONT ID="If">if</FONT> (m_controlPanel != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1327</FONT><A NAME="1327"></A>    m_controlPanel.m_changeLearning.setText(<FONT ID="StringLiteral">""</FONT> + l);
<FONT ID="LN">1328</FONT><A NAME="1328"></A>      }
<FONT ID="LN">1329</FONT><A NAME="1329"></A>    }
<FONT ID="LN">1330</FONT><A NAME="1330"></A>  }
<FONT ID="LN">1331</FONT><A NAME="1331"></A>
<FONT ID="LN">1332</FONT><A NAME="1332"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1333</FONT><A NAME="1333"></A>   * @return The learning rate for the nodes.
<FONT ID="LN">1334</FONT><A NAME="1334"></A>   */</FONT>
<FONT ID="LN">1335</FONT><A NAME="1335"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getLearningRate() {
<FONT ID="LN">1336</FONT><A NAME="1336"></A>    <FONT ID="Return">return</FONT> m_learningRate;
<FONT ID="LN">1337</FONT><A NAME="1337"></A>  }
<FONT ID="LN">1338</FONT><A NAME="1338"></A>
<FONT ID="LN">1339</FONT><A NAME="1339"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1340</FONT><A NAME="1340"></A>   * The momentum can be set using this command.
<FONT ID="LN">1341</FONT><A NAME="1341"></A>   * THE same conditions apply to this as to the learning rate.
<FONT ID="LN">1342</FONT><A NAME="1342"></A>   * @param m The new Momentum.
<FONT ID="LN">1343</FONT><A NAME="1343"></A>   */</FONT>
<FONT ID="LN">1344</FONT><A NAME="1344"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setMomentum(<FONT ID="Double">double</FONT> m) {
<FONT ID="LN">1345</FONT><A NAME="1345"></A>    <FONT ID="If">if</FONT> (m &gt;= <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; m &lt;= <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1346</FONT><A NAME="1346"></A>      m_momentum = m;
<FONT ID="LN">1347</FONT><A NAME="1347"></A>  
<FONT ID="LN">1348</FONT><A NAME="1348"></A>      <FONT ID="If">if</FONT> (m_controlPanel != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1349</FONT><A NAME="1349"></A>    m_controlPanel.m_changeMomentum.setText(<FONT ID="StringLiteral">""</FONT> + m);
<FONT ID="LN">1350</FONT><A NAME="1350"></A>      }
<FONT ID="LN">1351</FONT><A NAME="1351"></A>    }
<FONT ID="LN">1352</FONT><A NAME="1352"></A>  }
<FONT ID="LN">1353</FONT><A NAME="1353"></A>  
<FONT ID="LN">1354</FONT><A NAME="1354"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1355</FONT><A NAME="1355"></A>   * @return The momentum for the nodes.
<FONT ID="LN">1356</FONT><A NAME="1356"></A>   */</FONT>
<FONT ID="LN">1357</FONT><A NAME="1357"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getMomentum() {
<FONT ID="LN">1358</FONT><A NAME="1358"></A>    <FONT ID="Return">return</FONT> m_momentum;
<FONT ID="LN">1359</FONT><A NAME="1359"></A>  }
<FONT ID="LN">1360</FONT><A NAME="1360"></A>
<FONT ID="LN">1361</FONT><A NAME="1361"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1362</FONT><A NAME="1362"></A>   * This will set whether the network is automatically built
<FONT ID="LN">1363</FONT><A NAME="1363"></A>   * or if it is left up to the user. (there is nothing to stop a user
<FONT ID="LN">1364</FONT><A NAME="1364"></A>   * from altering an autobuilt network however). 
<FONT ID="LN">1365</FONT><A NAME="1365"></A>   * @param a True if the network should be auto built.
<FONT ID="LN">1366</FONT><A NAME="1366"></A>   */</FONT>
<FONT ID="LN">1367</FONT><A NAME="1367"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setAutoBuild(<FONT ID="Boolean">boolean</FONT> a) {
<FONT ID="LN">1368</FONT><A NAME="1368"></A>    <FONT ID="If">if</FONT> (!m_gui) {
<FONT ID="LN">1369</FONT><A NAME="1369"></A>      a = <FONT ID="True">true</FONT>;
<FONT ID="LN">1370</FONT><A NAME="1370"></A>    }
<FONT ID="LN">1371</FONT><A NAME="1371"></A>    m_autoBuild = a;
<FONT ID="LN">1372</FONT><A NAME="1372"></A>  }
<FONT ID="LN">1373</FONT><A NAME="1373"></A>
<FONT ID="LN">1374</FONT><A NAME="1374"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1375</FONT><A NAME="1375"></A>   * @return The auto build state.
<FONT ID="LN">1376</FONT><A NAME="1376"></A>   */</FONT>
<FONT ID="LN">1377</FONT><A NAME="1377"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getAutoBuild() {
<FONT ID="LN">1378</FONT><A NAME="1378"></A>    <FONT ID="Return">return</FONT> m_autoBuild;
<FONT ID="LN">1379</FONT><A NAME="1379"></A>  }
<FONT ID="LN">1380</FONT><A NAME="1380"></A>
<FONT ID="LN">1381</FONT><A NAME="1381"></A>
<FONT ID="LN">1382</FONT><A NAME="1382"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1383</FONT><A NAME="1383"></A>   * This will set what the hidden layers are made up of when auto build is
<FONT ID="LN">1384</FONT><A NAME="1384"></A>   * enabled. Note to have no hidden units, just put a single 0, Any more
<FONT ID="LN">1385</FONT><A NAME="1385"></A>   * 0's will indicate that the string is badly formed and make it unaccepted.
<FONT ID="LN">1386</FONT><A NAME="1386"></A>   * Negative numbers, and floats will do the same. There are also some
<FONT ID="LN">1387</FONT><A NAME="1387"></A>   * wildcards. These are 'a' = (number of attributes + number of classes) / 2,
<FONT ID="LN">1388</FONT><A NAME="1388"></A>   * 'i' = number of attributes, 'o' = number of classes, and 't' = number of
<FONT ID="LN">1389</FONT><A NAME="1389"></A>   * attributes + number of classes.
<FONT ID="LN">1390</FONT><A NAME="1390"></A>   * @param h A string with a comma seperated list of numbers. Each number is 
<FONT ID="LN">1391</FONT><A NAME="1391"></A>   * the number of nodes to be on a hidden layer.
<FONT ID="LN">1392</FONT><A NAME="1392"></A>   */</FONT>
<FONT ID="LN">1393</FONT><A NAME="1393"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setHiddenLayers(String h) {
<FONT ID="LN">1394</FONT><A NAME="1394"></A>    String tmp = <FONT ID="StringLiteral">""</FONT>;
<FONT ID="LN">1395</FONT><A NAME="1395"></A>    StringTokenizer tok = <FONT ID="New">new</FONT> StringTokenizer(h, <FONT ID="StringLiteral">","</FONT>);
<FONT ID="LN">1396</FONT><A NAME="1396"></A>    <FONT ID="If">if</FONT> (tok.countTokens() == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1397</FONT><A NAME="1397"></A>      <FONT ID="Return">return</FONT>;
<FONT ID="LN">1398</FONT><A NAME="1398"></A>    }
<FONT ID="LN">1399</FONT><A NAME="1399"></A>    <FONT ID="Double">double</FONT> dval;
<FONT ID="LN">1400</FONT><A NAME="1400"></A>    <FONT ID="Int">int</FONT> val;
<FONT ID="LN">1401</FONT><A NAME="1401"></A>    String c;
<FONT ID="LN">1402</FONT><A NAME="1402"></A>    <FONT ID="Boolean">boolean</FONT> first = <FONT ID="True">true</FONT>;
<FONT ID="LN">1403</FONT><A NAME="1403"></A>    <FONT ID="While">while</FONT> (tok.hasMoreTokens()) {
<FONT ID="LN">1404</FONT><A NAME="1404"></A>      c = tok.nextToken().trim();
<FONT ID="LN">1405</FONT><A NAME="1405"></A>
<FONT ID="LN">1406</FONT><A NAME="1406"></A>      <FONT ID="If">if</FONT> (c.equals(<FONT ID="StringLiteral">"a"</FONT>) || c.equals(<FONT ID="StringLiteral">"i"</FONT>) || c.equals(<FONT ID="StringLiteral">"o"</FONT>) || 
<FONT ID="LN">1407</FONT><A NAME="1407"></A>           c.equals(<FONT ID="StringLiteral">"t"</FONT>)) {
<FONT ID="LN">1408</FONT><A NAME="1408"></A>    tmp += c;
<FONT ID="LN">1409</FONT><A NAME="1409"></A>      }
<FONT ID="LN">1410</FONT><A NAME="1410"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1411</FONT><A NAME="1411"></A>    dval = Double.valueOf(c).doubleValue();
<FONT ID="LN">1412</FONT><A NAME="1412"></A>    val = (<FONT ID="Int">int</FONT>)dval;
<FONT ID="LN">1413</FONT><A NAME="1413"></A>    
<FONT ID="LN">1414</FONT><A NAME="1414"></A>    <FONT ID="If">if</FONT> ((val == dval &amp;&amp; (val != <FONT ID="IntegerLiteral">0</FONT> || (tok.countTokens() == <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; first)) &amp;&amp; 
<FONT ID="LN">1415</FONT><A NAME="1415"></A>         val &gt;= <FONT ID="IntegerLiteral">0</FONT>)) {
<FONT ID="LN">1416</FONT><A NAME="1416"></A>      tmp += val;
<FONT ID="LN">1417</FONT><A NAME="1417"></A>    }
<FONT ID="LN">1418</FONT><A NAME="1418"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">1419</FONT><A NAME="1419"></A>      <FONT ID="Return">return</FONT>;
<FONT ID="LN">1420</FONT><A NAME="1420"></A>    }
<FONT ID="LN">1421</FONT><A NAME="1421"></A>      }
<FONT ID="LN">1422</FONT><A NAME="1422"></A>      
<FONT ID="LN">1423</FONT><A NAME="1423"></A>      first = <FONT ID="False">false</FONT>;
<FONT ID="LN">1424</FONT><A NAME="1424"></A>      <FONT ID="If">if</FONT> (tok.hasMoreTokens()) {
<FONT ID="LN">1425</FONT><A NAME="1425"></A>    tmp += <FONT ID="StringLiteral">", "</FONT>;
<FONT ID="LN">1426</FONT><A NAME="1426"></A>      }
<FONT ID="LN">1427</FONT><A NAME="1427"></A>    }
<FONT ID="LN">1428</FONT><A NAME="1428"></A>    m_hiddenLayers = tmp;
<FONT ID="LN">1429</FONT><A NAME="1429"></A>  }
<FONT ID="LN">1430</FONT><A NAME="1430"></A>
<FONT ID="LN">1431</FONT><A NAME="1431"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1432</FONT><A NAME="1432"></A>   * @return A string representing the hidden layers, each number is the number
<FONT ID="LN">1433</FONT><A NAME="1433"></A>   * of nodes on a hidden layer.
<FONT ID="LN">1434</FONT><A NAME="1434"></A>   */</FONT>
<FONT ID="LN">1435</FONT><A NAME="1435"></A>  <FONT ID="Public">public</FONT> String getHiddenLayers() {
<FONT ID="LN">1436</FONT><A NAME="1436"></A>    <FONT ID="Return">return</FONT> m_hiddenLayers;
<FONT ID="LN">1437</FONT><A NAME="1437"></A>  }
<FONT ID="LN">1438</FONT><A NAME="1438"></A>
<FONT ID="LN">1439</FONT><A NAME="1439"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1440</FONT><A NAME="1440"></A>   * This will set whether A GUI is brought up to allow interaction by the user
<FONT ID="LN">1441</FONT><A NAME="1441"></A>   * with the neural network during training.
<FONT ID="LN">1442</FONT><A NAME="1442"></A>   * @param a True if gui should be created.
<FONT ID="LN">1443</FONT><A NAME="1443"></A>   */</FONT>
<FONT ID="LN">1444</FONT><A NAME="1444"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setGUI(<FONT ID="Boolean">boolean</FONT> a) {
<FONT ID="LN">1445</FONT><A NAME="1445"></A>    m_gui = a;
<FONT ID="LN">1446</FONT><A NAME="1446"></A>    <FONT ID="If">if</FONT> (!a) {
<FONT ID="LN">1447</FONT><A NAME="1447"></A>      setAutoBuild(<FONT ID="True">true</FONT>);
<FONT ID="LN">1448</FONT><A NAME="1448"></A>      
<FONT ID="LN">1449</FONT><A NAME="1449"></A>    }
<FONT ID="LN">1450</FONT><A NAME="1450"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">1451</FONT><A NAME="1451"></A>      setReset(<FONT ID="False">false</FONT>);
<FONT ID="LN">1452</FONT><A NAME="1452"></A>    }
<FONT ID="LN">1453</FONT><A NAME="1453"></A>  }
<FONT ID="LN">1454</FONT><A NAME="1454"></A>
<FONT ID="LN">1455</FONT><A NAME="1455"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1456</FONT><A NAME="1456"></A>   * @return The true if should show gui.
<FONT ID="LN">1457</FONT><A NAME="1457"></A>   */</FONT>
<FONT ID="LN">1458</FONT><A NAME="1458"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getGUI() {
<FONT ID="LN">1459</FONT><A NAME="1459"></A>    <FONT ID="Return">return</FONT> m_gui;
<FONT ID="LN">1460</FONT><A NAME="1460"></A>  }
<FONT ID="LN">1461</FONT><A NAME="1461"></A>
<FONT ID="LN">1462</FONT><A NAME="1462"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1463</FONT><A NAME="1463"></A>   * This will set the size of the validation set.
<FONT ID="LN">1464</FONT><A NAME="1464"></A>   * @param a The size of the validation set, as a percentage of the whole.
<FONT ID="LN">1465</FONT><A NAME="1465"></A>   */</FONT>
<FONT ID="LN">1466</FONT><A NAME="1466"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setValidationSetSize(<FONT ID="Int">int</FONT> a) {
<FONT ID="LN">1467</FONT><A NAME="1467"></A>    <FONT ID="If">if</FONT> (a &lt; <FONT ID="IntegerLiteral">0</FONT> || a &gt; <FONT ID="IntegerLiteral">99</FONT>) {
<FONT ID="LN">1468</FONT><A NAME="1468"></A>      <FONT ID="Return">return</FONT>;
<FONT ID="LN">1469</FONT><A NAME="1469"></A>    }
<FONT ID="LN">1470</FONT><A NAME="1470"></A>    m_valSize = a;
<FONT ID="LN">1471</FONT><A NAME="1471"></A>  }
<FONT ID="LN">1472</FONT><A NAME="1472"></A>
<FONT ID="LN">1473</FONT><A NAME="1473"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1474</FONT><A NAME="1474"></A>   * @return The percentage size of the validation set.
<FONT ID="LN">1475</FONT><A NAME="1475"></A>   */</FONT>
<FONT ID="LN">1476</FONT><A NAME="1476"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getValidationSetSize() {
<FONT ID="LN">1477</FONT><A NAME="1477"></A>    <FONT ID="Return">return</FONT> m_valSize;
<FONT ID="LN">1478</FONT><A NAME="1478"></A>  }
<FONT ID="LN">1479</FONT><A NAME="1479"></A>
<FONT ID="LN">1480</FONT><A NAME="1480"></A>  
<FONT ID="LN">1481</FONT><A NAME="1481"></A>  
<FONT ID="LN">1482</FONT><A NAME="1482"></A>  
<FONT ID="LN">1483</FONT><A NAME="1483"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1484</FONT><A NAME="1484"></A>   * Set the number of training epochs to perform.
<FONT ID="LN">1485</FONT><A NAME="1485"></A>   * Must be greater than 0.
<FONT ID="LN">1486</FONT><A NAME="1486"></A>   * @param n The number of epochs to train through.
<FONT ID="LN">1487</FONT><A NAME="1487"></A>   */</FONT>
<FONT ID="LN">1488</FONT><A NAME="1488"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setTrainingTime(<FONT ID="Int">int</FONT> n) {
<FONT ID="LN">1489</FONT><A NAME="1489"></A>    <FONT ID="If">if</FONT> (n &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1490</FONT><A NAME="1490"></A>      m_numEpochs = n;
<FONT ID="LN">1491</FONT><A NAME="1491"></A>    }
<FONT ID="LN">1492</FONT><A NAME="1492"></A>  }
<FONT ID="LN">1493</FONT><A NAME="1493"></A>
<FONT ID="LN">1494</FONT><A NAME="1494"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1495</FONT><A NAME="1495"></A>   * @return The number of epochs to train through.
<FONT ID="LN">1496</FONT><A NAME="1496"></A>   */</FONT>
<FONT ID="LN">1497</FONT><A NAME="1497"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getTrainingTime() {
<FONT ID="LN">1498</FONT><A NAME="1498"></A>    <FONT ID="Return">return</FONT> m_numEpochs;
<FONT ID="LN">1499</FONT><A NAME="1499"></A>  }
<FONT ID="LN">1500</FONT><A NAME="1500"></A>  
<FONT ID="LN">1501</FONT><A NAME="1501"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1502</FONT><A NAME="1502"></A>   * Call this function to place a node into the network list.
<FONT ID="LN">1503</FONT><A NAME="1503"></A>   * @param n The node to place in the list.
<FONT ID="LN">1504</FONT><A NAME="1504"></A>   */</FONT>
<FONT ID="LN">1505</FONT><A NAME="1505"></A>  <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> addNode(<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A> n) {
<FONT ID="LN">1506</FONT><A NAME="1506"></A>    
<FONT ID="LN">1507</FONT><A NAME="1507"></A>    <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>[] temp1 = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>[m_neuralNodes.length + <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">1508</FONT><A NAME="1508"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_neuralNodes.length; noa++) {
<FONT ID="LN">1509</FONT><A NAME="1509"></A>      temp1[noa] = m_neuralNodes[noa];
<FONT ID="LN">1510</FONT><A NAME="1510"></A>    }
<FONT ID="LN">1511</FONT><A NAME="1511"></A>
<FONT ID="LN">1512</FONT><A NAME="1512"></A>    temp1[temp1.length-<FONT ID="IntegerLiteral">1</FONT>] = n;
<FONT ID="LN">1513</FONT><A NAME="1513"></A>    m_neuralNodes = temp1;
<FONT ID="LN">1514</FONT><A NAME="1514"></A>  }
<FONT ID="LN">1515</FONT><A NAME="1515"></A>
<FONT ID="LN">1516</FONT><A NAME="1516"></A>  <FONT ID="FormalComment">/** 
<FONT ID="LN">1517</FONT><A NAME="1517"></A>   * Call this function to remove the passed node from the list.
<FONT ID="LN">1518</FONT><A NAME="1518"></A>   * This will only remove the node if it is in the neuralnodes list.
<FONT ID="LN">1519</FONT><A NAME="1519"></A>   * @param n The neuralConnection to remove.
<FONT ID="LN">1520</FONT><A NAME="1520"></A>   * @return True if removed false if not (because it wasn't there).
<FONT ID="LN">1521</FONT><A NAME="1521"></A>   */</FONT>
<FONT ID="LN">1522</FONT><A NAME="1522"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> removeNode(<A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A> n) {
<FONT ID="LN">1523</FONT><A NAME="1523"></A>    <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>[] temp1 = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>[m_neuralNodes.length - <FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">1524</FONT><A NAME="1524"></A>    <FONT ID="Int">int</FONT> skip = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1525</FONT><A NAME="1525"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_neuralNodes.length; noa++) {
<FONT ID="LN">1526</FONT><A NAME="1526"></A>      <FONT ID="If">if</FONT> (n == m_neuralNodes[noa]) {
<FONT ID="LN">1527</FONT><A NAME="1527"></A>    skip++;
<FONT ID="LN">1528</FONT><A NAME="1528"></A>      }
<FONT ID="LN">1529</FONT><A NAME="1529"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (!((noa - skip) &gt;= temp1.length)) {
<FONT ID="LN">1530</FONT><A NAME="1530"></A>    temp1[noa - skip] = m_neuralNodes[noa];
<FONT ID="LN">1531</FONT><A NAME="1531"></A>      }
<FONT ID="LN">1532</FONT><A NAME="1532"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1533</FONT><A NAME="1533"></A>    <FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;
<FONT ID="LN">1534</FONT><A NAME="1534"></A>      }
<FONT ID="LN">1535</FONT><A NAME="1535"></A>    }
<FONT ID="LN">1536</FONT><A NAME="1536"></A>    m_neuralNodes = temp1;
<FONT ID="LN">1537</FONT><A NAME="1537"></A>    <FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;
<FONT ID="LN">1538</FONT><A NAME="1538"></A>  }
<FONT ID="LN">1539</FONT><A NAME="1539"></A>
<FONT ID="LN">1540</FONT><A NAME="1540"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1541</FONT><A NAME="1541"></A>   * This function sets what the m_numeric flag to represent the passed class
<FONT ID="LN">1542</FONT><A NAME="1542"></A>   * it also performs the normalization of the attributes if applicable
<FONT ID="LN">1543</FONT><A NAME="1543"></A>   * and sets up the info to normalize the class. (note that regardless of
<FONT ID="LN">1544</FONT><A NAME="1544"></A>   * the options it will fill an array with the range and base, set to 
<FONT ID="LN">1545</FONT><A NAME="1545"></A>   * normalize all attributes and the class to be between -1 and 1)
<FONT ID="LN">1546</FONT><A NAME="1546"></A>   * @param inst the instances.
<FONT ID="LN">1547</FONT><A NAME="1547"></A>   * @return The modified instances. This needs to be done. If the attributes
<FONT ID="LN">1548</FONT><A NAME="1548"></A>   * are normalized then deep copies will be made of all the instances which
<FONT ID="LN">1549</FONT><A NAME="1549"></A>   * will need to be passed back out.
<FONT ID="LN">1550</FONT><A NAME="1550"></A>   */</FONT>
<FONT ID="LN">1551</FONT><A NAME="1551"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A> setClassType(<A HREF="../../../weka/core/Instances.java.html">Instances</A> inst) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1552</FONT><A NAME="1552"></A>    <FONT ID="If">if</FONT> (inst != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1553</FONT><A NAME="1553"></A>      <FONT ID="SingleLineComment">// x bounds
<FONT ID="LN">1554</FONT><A NAME="1554"></A></FONT>      <FONT ID="Double">double</FONT> min=Double.POSITIVE_INFINITY;
<FONT ID="LN">1555</FONT><A NAME="1555"></A>      <FONT ID="Double">double</FONT> max=Double.NEGATIVE_INFINITY;
<FONT ID="LN">1556</FONT><A NAME="1556"></A>      <FONT ID="Double">double</FONT> value;
<FONT ID="LN">1557</FONT><A NAME="1557"></A>      m_attributeRanges = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[inst.numAttributes()];
<FONT ID="LN">1558</FONT><A NAME="1558"></A>      m_attributeBases = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[inst.numAttributes()];
<FONT ID="LN">1559</FONT><A NAME="1559"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; inst.numAttributes(); noa++) {
<FONT ID="LN">1560</FONT><A NAME="1560"></A>    min = Double.POSITIVE_INFINITY;
<FONT ID="LN">1561</FONT><A NAME="1561"></A>    max = Double.NEGATIVE_INFINITY;
<FONT ID="LN">1562</FONT><A NAME="1562"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i=<FONT ID="IntegerLiteral">0</FONT>; i &lt; inst.numInstances();i++) {
<FONT ID="LN">1563</FONT><A NAME="1563"></A>      <FONT ID="If">if</FONT> (!inst.instance(i).isMissing(noa)) {
<FONT ID="LN">1564</FONT><A NAME="1564"></A>        value = inst.instance(i).value(noa);
<FONT ID="LN">1565</FONT><A NAME="1565"></A>        <FONT ID="If">if</FONT> (value &lt; min) {
<FONT ID="LN">1566</FONT><A NAME="1566"></A>          min = value;
<FONT ID="LN">1567</FONT><A NAME="1567"></A>        }
<FONT ID="LN">1568</FONT><A NAME="1568"></A>        <FONT ID="If">if</FONT> (value &gt; max) {
<FONT ID="LN">1569</FONT><A NAME="1569"></A>          max = value;
<FONT ID="LN">1570</FONT><A NAME="1570"></A>        }
<FONT ID="LN">1571</FONT><A NAME="1571"></A>      }
<FONT ID="LN">1572</FONT><A NAME="1572"></A>    }
<FONT ID="LN">1573</FONT><A NAME="1573"></A>    
<FONT ID="LN">1574</FONT><A NAME="1574"></A>    m_attributeRanges[noa] = (max - min) / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">1575</FONT><A NAME="1575"></A>    m_attributeBases[noa] = (max + min) / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">1576</FONT><A NAME="1576"></A>        <FONT ID="SingleLineComment">//dmod
<FONT ID="LN">1577</FONT><A NAME="1577"></A></FONT>    <FONT ID="MultiLineComment">/*    System.out.println("Attribute " + noa + " Range: "  + m_attributeRanges[noa]);
<FONT ID="LN">1578</FONT><A NAME="1578"></A>        System.out.println("Attribute " + noa + " Bases: " + m_attributeBases[noa]);
<FONT ID="LN">1579</FONT><A NAME="1579"></A>        System.out.println(); */</FONT>
<FONT ID="LN">1580</FONT><A NAME="1580"></A>        
<FONT ID="LN">1581</FONT><A NAME="1581"></A>        <FONT ID="SingleLineComment">//Nominal class; hardcode base and range
<FONT ID="LN">1582</FONT><A NAME="1582"></A></FONT> <FONT ID="MultiLineComment">/*       if(noa == inst.classIndex() &amp;&amp; !inst.classAttribute().isNumeric())
<FONT ID="LN">1583</FONT><A NAME="1583"></A>        {
<FONT ID="LN">1584</FONT><A NAME="1584"></A>            m_attributeRanges[noa] = 0.4;
<FONT ID="LN">1585</FONT><A NAME="1585"></A>            m_attributeBases[noa] = 0.5;
<FONT ID="LN">1586</FONT><A NAME="1586"></A>            System.out.println(); 
<FONT ID="LN">1587</FONT><A NAME="1587"></A>            System.out.println(); 
<FONT ID="LN">1588</FONT><A NAME="1588"></A>            System.out.println("Nominal attribute detected; hardcoding range and base.");            
<FONT ID="LN">1589</FONT><A NAME="1589"></A>        } */</FONT>
<FONT ID="LN">1590</FONT><A NAME="1590"></A>        
<FONT ID="LN">1591</FONT><A NAME="1591"></A>    <FONT ID="If">if</FONT> (noa != inst.classIndex() &amp;&amp; m_normalizeAttributes) {
<FONT ID="LN">1592</FONT><A NAME="1592"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; inst.numInstances(); i++) {
<FONT ID="LN">1593</FONT><A NAME="1593"></A>        <FONT ID="If">if</FONT> (m_attributeRanges[noa] != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1594</FONT><A NAME="1594"></A>          inst.instance(i).setValue(noa, (inst.instance(i).value(noa)  
<FONT ID="LN">1595</FONT><A NAME="1595"></A>                          - m_attributeBases[noa]) /
<FONT ID="LN">1596</FONT><A NAME="1596"></A>                    m_attributeRanges[noa]);
<FONT ID="LN">1597</FONT><A NAME="1597"></A>        }
<FONT ID="LN">1598</FONT><A NAME="1598"></A>        <FONT ID="Else">else</FONT> {
<FONT ID="LN">1599</FONT><A NAME="1599"></A>          inst.instance(i).setValue(noa, inst.instance(i).value(noa) - 
<FONT ID="LN">1600</FONT><A NAME="1600"></A>                    m_attributeBases[noa]);
<FONT ID="LN">1601</FONT><A NAME="1601"></A>        }
<FONT ID="LN">1602</FONT><A NAME="1602"></A>      }
<FONT ID="LN">1603</FONT><A NAME="1603"></A>    }
<FONT ID="LN">1604</FONT><A NAME="1604"></A>      }
<FONT ID="LN">1605</FONT><A NAME="1605"></A>      <FONT ID="If">if</FONT> (inst.classAttribute().isNumeric()) {
<FONT ID="LN">1606</FONT><A NAME="1606"></A>    m_numeric = <FONT ID="True">true</FONT>;
<FONT ID="LN">1607</FONT><A NAME="1607"></A>      }
<FONT ID="LN">1608</FONT><A NAME="1608"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1609</FONT><A NAME="1609"></A>    m_numeric = <FONT ID="False">false</FONT>;
<FONT ID="LN">1610</FONT><A NAME="1610"></A>        <FONT ID="SingleLineComment">//warningmod
<FONT ID="LN">1611</FONT><A NAME="1611"></A></FONT>        <FONT ID="SingleLineComment">//m_numeric = true;
<FONT ID="LN">1612</FONT><A NAME="1612"></A></FONT>      }
<FONT ID="LN">1613</FONT><A NAME="1613"></A>    }
<FONT ID="LN">1614</FONT><A NAME="1614"></A>    <FONT ID="Return">return</FONT> inst;
<FONT ID="LN">1615</FONT><A NAME="1615"></A>  }
<FONT ID="LN">1616</FONT><A NAME="1616"></A>
<FONT ID="LN">1617</FONT><A NAME="1617"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1618</FONT><A NAME="1618"></A>   * A function used to stop the code that called buildclassifier
<FONT ID="LN">1619</FONT><A NAME="1619"></A>   * from continuing on before the user has finished the decision tree.
<FONT ID="LN">1620</FONT><A NAME="1620"></A>   * @param tf True to stop the thread, False to release the thread that is
<FONT ID="LN">1621</FONT><A NAME="1621"></A>   * waiting there (if one).
<FONT ID="LN">1622</FONT><A NAME="1622"></A>   */</FONT>
<FONT ID="LN">1623</FONT><A NAME="1623"></A>  <FONT ID="Public">public</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> blocker(<FONT ID="Boolean">boolean</FONT> tf) {
<FONT ID="LN">1624</FONT><A NAME="1624"></A>    <FONT ID="If">if</FONT> (tf) {
<FONT ID="LN">1625</FONT><A NAME="1625"></A>      <FONT ID="Try">try</FONT> {
<FONT ID="LN">1626</FONT><A NAME="1626"></A>    wait();
<FONT ID="LN">1627</FONT><A NAME="1627"></A>      } <FONT ID="Catch">catch</FONT>(InterruptedException e) {
<FONT ID="LN">1628</FONT><A NAME="1628"></A>      }
<FONT ID="LN">1629</FONT><A NAME="1629"></A>    }
<FONT ID="LN">1630</FONT><A NAME="1630"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">1631</FONT><A NAME="1631"></A>      notifyAll();
<FONT ID="LN">1632</FONT><A NAME="1632"></A>    }
<FONT ID="LN">1633</FONT><A NAME="1633"></A>  }
<FONT ID="LN">1634</FONT><A NAME="1634"></A>
<FONT ID="LN">1635</FONT><A NAME="1635"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1636</FONT><A NAME="1636"></A>   * Call this function to update the control panel for the gui.
<FONT ID="LN">1637</FONT><A NAME="1637"></A>   */</FONT>
<FONT ID="LN">1638</FONT><A NAME="1638"></A>  <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> updateDisplay() {
<FONT ID="LN">1639</FONT><A NAME="1639"></A>    
<FONT ID="LN">1640</FONT><A NAME="1640"></A>    <FONT ID="If">if</FONT> (m_gui) {
<FONT ID="LN">1641</FONT><A NAME="1641"></A>      m_controlPanel.m_errorLabel.repaint();
<FONT ID="LN">1642</FONT><A NAME="1642"></A>      m_controlPanel.m_epochsLabel.repaint();
<FONT ID="LN">1643</FONT><A NAME="1643"></A>      <FONT ID="SingleLineComment">//modCS.E
<FONT ID="LN">1644</FONT><A NAME="1644"></A></FONT>      m_controlPanel.m_lowValErrorLabel.repaint();
<FONT ID="LN">1645</FONT><A NAME="1645"></A>      m_controlPanel.m_epochIndexLabel.repaint();      
<FONT ID="LN">1646</FONT><A NAME="1646"></A>    }
<FONT ID="LN">1647</FONT><A NAME="1647"></A>  }
<FONT ID="LN">1648</FONT><A NAME="1648"></A>  
<FONT ID="LN">1649</FONT><A NAME="1649"></A>
<FONT ID="LN">1650</FONT><A NAME="1650"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1651</FONT><A NAME="1651"></A>   * this will reset all the nodes in the network.
<FONT ID="LN">1652</FONT><A NAME="1652"></A>   */</FONT>
<FONT ID="LN">1653</FONT><A NAME="1653"></A>  <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> resetNetwork() {
<FONT ID="LN">1654</FONT><A NAME="1654"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noc = <FONT ID="IntegerLiteral">0</FONT>; noc &lt; m_numClasses; noc++) {
<FONT ID="LN">1655</FONT><A NAME="1655"></A>      m_outputs[noc].reset();
<FONT ID="LN">1656</FONT><A NAME="1656"></A>    }
<FONT ID="LN">1657</FONT><A NAME="1657"></A>  }
<FONT ID="LN">1658</FONT><A NAME="1658"></A>  
<FONT ID="LN">1659</FONT><A NAME="1659"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1660</FONT><A NAME="1660"></A>   * This will cause the output values of all the nodes to be calculated.
<FONT ID="LN">1661</FONT><A NAME="1661"></A>   * Note that the m_currentInstance is used to calculate these values.
<FONT ID="LN">1662</FONT><A NAME="1662"></A>   */</FONT>
<FONT ID="LN">1663</FONT><A NAME="1663"></A>  <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> calculateOutputs() {
<FONT ID="LN">1664</FONT><A NAME="1664"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noc = <FONT ID="IntegerLiteral">0</FONT>; noc &lt; m_numClasses; noc++) {  
<FONT ID="LN">1665</FONT><A NAME="1665"></A>      <FONT ID="SingleLineComment">//get the values. 
<FONT ID="LN">1666</FONT><A NAME="1666"></A></FONT>      m_outputs[noc].outputValue(<FONT ID="True">true</FONT>);
<FONT ID="LN">1667</FONT><A NAME="1667"></A>    }
<FONT ID="LN">1668</FONT><A NAME="1668"></A>  }
<FONT ID="LN">1669</FONT><A NAME="1669"></A>
<FONT ID="LN">1670</FONT><A NAME="1670"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1671</FONT><A NAME="1671"></A>   * This will cause the error values to be calculated for all nodes.
<FONT ID="LN">1672</FONT><A NAME="1672"></A>   * Note that the m_currentInstance is used to calculate these values.
<FONT ID="LN">1673</FONT><A NAME="1673"></A>   * Also the output values should have been calculated first.
<FONT ID="LN">1674</FONT><A NAME="1674"></A>   * @return The squared error.
<FONT ID="LN">1675</FONT><A NAME="1675"></A>   */</FONT>
<FONT ID="LN">1676</FONT><A NAME="1676"></A>  <FONT ID="Private">private</FONT> <FONT ID="Double">double</FONT> calculateErrors() <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1677</FONT><A NAME="1677"></A>    <FONT ID="Double">double</FONT> ret = <FONT ID="IntegerLiteral">0</FONT>, temp = <FONT ID="IntegerLiteral">0</FONT>; 
<FONT ID="LN">1678</FONT><A NAME="1678"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noc = <FONT ID="IntegerLiteral">0</FONT>; noc &lt; m_numAttributes; noc++) {
<FONT ID="LN">1679</FONT><A NAME="1679"></A>      <FONT ID="SingleLineComment">//get the errors.
<FONT ID="LN">1680</FONT><A NAME="1680"></A></FONT>      m_inputs[noc].errorValue(<FONT ID="True">true</FONT>);
<FONT ID="LN">1681</FONT><A NAME="1681"></A>      
<FONT ID="LN">1682</FONT><A NAME="1682"></A>    }
<FONT ID="LN">1683</FONT><A NAME="1683"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noc = <FONT ID="IntegerLiteral">0</FONT>; noc &lt; m_numClasses; noc++) {
<FONT ID="LN">1684</FONT><A NAME="1684"></A>      temp = m_outputs[noc].errorValue(<FONT ID="False">false</FONT>);
<FONT ID="LN">1685</FONT><A NAME="1685"></A>      ret += temp * temp;
<FONT ID="LN">1686</FONT><A NAME="1686"></A>    }    
<FONT ID="LN">1687</FONT><A NAME="1687"></A>    <FONT ID="Return">return</FONT> ret;
<FONT ID="LN">1688</FONT><A NAME="1688"></A>    
<FONT ID="LN">1689</FONT><A NAME="1689"></A>  }
<FONT ID="LN">1690</FONT><A NAME="1690"></A>
<FONT ID="LN">1691</FONT><A NAME="1691"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1692</FONT><A NAME="1692"></A>   * This will cause the weight values to be updated based on the learning
<FONT ID="LN">1693</FONT><A NAME="1693"></A>   * rate, momentum and the errors that have been calculated for each node.
<FONT ID="LN">1694</FONT><A NAME="1694"></A>   * @param l The learning rate to update with.
<FONT ID="LN">1695</FONT><A NAME="1695"></A>   * @param m The momentum to update with.
<FONT ID="LN">1696</FONT><A NAME="1696"></A>   */</FONT>
<FONT ID="LN">1697</FONT><A NAME="1697"></A>  <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> updateNetworkWeights(<FONT ID="Double">double</FONT> l, <FONT ID="Double">double</FONT> m) {
<FONT ID="LN">1698</FONT><A NAME="1698"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noc = <FONT ID="IntegerLiteral">0</FONT>; noc &lt; m_numClasses; noc++) {
<FONT ID="LN">1699</FONT><A NAME="1699"></A>      <FONT ID="SingleLineComment">//update weights
<FONT ID="LN">1700</FONT><A NAME="1700"></A></FONT>      m_outputs[noc].updateWeights(l, m);
<FONT ID="LN">1701</FONT><A NAME="1701"></A>    }
<FONT ID="LN">1702</FONT><A NAME="1702"></A>
<FONT ID="LN">1703</FONT><A NAME="1703"></A>  }
<FONT ID="LN">1704</FONT><A NAME="1704"></A>  
<FONT ID="LN">1705</FONT><A NAME="1705"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1706</FONT><A NAME="1706"></A>   * This creates the required input units.
<FONT ID="LN">1707</FONT><A NAME="1707"></A>   */</FONT>
<FONT ID="LN">1708</FONT><A NAME="1708"></A>  <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> setupInputs() <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1709</FONT><A NAME="1709"></A>    m_inputs = <FONT ID="New">new</FONT> NeuralEnd[m_numAttributes];
<FONT ID="LN">1710</FONT><A NAME="1710"></A>    <FONT ID="Int">int</FONT> now = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1711</FONT><A NAME="1711"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numAttributes+<FONT ID="IntegerLiteral">1</FONT>; noa++) {
<FONT ID="LN">1712</FONT><A NAME="1712"></A>      <FONT ID="If">if</FONT> (m_instances.classIndex() != noa) {
<FONT ID="LN">1713</FONT><A NAME="1713"></A>    m_inputs[noa - now] = <FONT ID="New">new</FONT> NeuralEnd(m_instances.attribute(noa).name());
<FONT ID="LN">1714</FONT><A NAME="1714"></A>    
<FONT ID="LN">1715</FONT><A NAME="1715"></A>    m_inputs[noa - now].setX(<FONT ID="FloatPointLiteral">.1</FONT>);
<FONT ID="LN">1716</FONT><A NAME="1716"></A>    m_inputs[noa - now].setY((noa - now + <FONT ID="FloatPointLiteral">1.0</FONT>) / (m_numAttributes + <FONT ID="IntegerLiteral">1</FONT>));
<FONT ID="LN">1717</FONT><A NAME="1717"></A>    m_inputs[noa - now].setLink(<FONT ID="True">true</FONT>, noa);
<FONT ID="LN">1718</FONT><A NAME="1718"></A>      }    
<FONT ID="LN">1719</FONT><A NAME="1719"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1720</FONT><A NAME="1720"></A>    now = <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">1721</FONT><A NAME="1721"></A>      }
<FONT ID="LN">1722</FONT><A NAME="1722"></A>    }
<FONT ID="LN">1723</FONT><A NAME="1723"></A>
<FONT ID="LN">1724</FONT><A NAME="1724"></A>  }
<FONT ID="LN">1725</FONT><A NAME="1725"></A>
<FONT ID="LN">1726</FONT><A NAME="1726"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1727</FONT><A NAME="1727"></A>   * This creates the required output units.
<FONT ID="LN">1728</FONT><A NAME="1728"></A>   */</FONT>
<FONT ID="LN">1729</FONT><A NAME="1729"></A>  <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> setupOutputs() <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1730</FONT><A NAME="1730"></A>  
<FONT ID="LN">1731</FONT><A NAME="1731"></A>    m_outputs = <FONT ID="New">new</FONT> NeuralEnd[m_numClasses];
<FONT ID="LN">1732</FONT><A NAME="1732"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numClasses; noa++) {
<FONT ID="LN">1733</FONT><A NAME="1733"></A>      <FONT ID="If">if</FONT> (m_numeric) {
<FONT ID="LN">1734</FONT><A NAME="1734"></A>    m_outputs[noa] = <FONT ID="New">new</FONT> NeuralEnd(m_instances.classAttribute().name());
<FONT ID="LN">1735</FONT><A NAME="1735"></A>      }
<FONT ID="LN">1736</FONT><A NAME="1736"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1737</FONT><A NAME="1737"></A>    m_outputs[noa]= <FONT ID="New">new</FONT> NeuralEnd(m_instances.classAttribute().value(noa));
<FONT ID="LN">1738</FONT><A NAME="1738"></A>      }
<FONT ID="LN">1739</FONT><A NAME="1739"></A>      
<FONT ID="LN">1740</FONT><A NAME="1740"></A>      m_outputs[noa].setX(<FONT ID="FloatPointLiteral">.9</FONT>);
<FONT ID="LN">1741</FONT><A NAME="1741"></A>      m_outputs[noa].setY((noa + <FONT ID="FloatPointLiteral">1.0</FONT>) / (m_numClasses + <FONT ID="IntegerLiteral">1</FONT>));
<FONT ID="LN">1742</FONT><A NAME="1742"></A>      m_outputs[noa].setLink(<FONT ID="False">false</FONT>, noa);
<FONT ID="LN">1743</FONT><A NAME="1743"></A>      <A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A> temp = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A>(String.valueOf(m_nextId), m_random,
<FONT ID="LN">1744</FONT><A NAME="1744"></A>                       m_sigmoidUnit);
<FONT ID="LN">1745</FONT><A NAME="1745"></A>      m_nextId++;
<FONT ID="LN">1746</FONT><A NAME="1746"></A>      temp.setX(<FONT ID="FloatPointLiteral">.75</FONT>);
<FONT ID="LN">1747</FONT><A NAME="1747"></A>      temp.setY((noa + <FONT ID="FloatPointLiteral">1.0</FONT>) / (m_numClasses + <FONT ID="IntegerLiteral">1</FONT>));
<FONT ID="LN">1748</FONT><A NAME="1748"></A>      addNode(temp);
<FONT ID="LN">1749</FONT><A NAME="1749"></A>      NeuralConnection.connect(temp, m_outputs[noa]);
<FONT ID="LN">1750</FONT><A NAME="1750"></A>    }
<FONT ID="LN">1751</FONT><A NAME="1751"></A> 
<FONT ID="LN">1752</FONT><A NAME="1752"></A>  }
<FONT ID="LN">1753</FONT><A NAME="1753"></A>  
<FONT ID="LN">1754</FONT><A NAME="1754"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1755</FONT><A NAME="1755"></A>   * Call this function to automatically generate the hidden units
<FONT ID="LN">1756</FONT><A NAME="1756"></A>   */</FONT>
<FONT ID="LN">1757</FONT><A NAME="1757"></A>  <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> setupHiddenLayer()
<FONT ID="LN">1758</FONT><A NAME="1758"></A>  {
<FONT ID="LN">1759</FONT><A NAME="1759"></A>    StringTokenizer tok = <FONT ID="New">new</FONT> StringTokenizer(m_hiddenLayers, <FONT ID="StringLiteral">","</FONT>);
<FONT ID="LN">1760</FONT><A NAME="1760"></A>    <FONT ID="Int">int</FONT> val = <FONT ID="IntegerLiteral">0</FONT>;  <FONT ID="SingleLineComment">//num of nodes in a layer
<FONT ID="LN">1761</FONT><A NAME="1761"></A></FONT>    <FONT ID="Int">int</FONT> prev = <FONT ID="IntegerLiteral">0</FONT>; <FONT ID="SingleLineComment">//used to remember the previous layer
<FONT ID="LN">1762</FONT><A NAME="1762"></A></FONT>    <FONT ID="Int">int</FONT> num = tok.countTokens(); <FONT ID="SingleLineComment">//number of layers
<FONT ID="LN">1763</FONT><A NAME="1763"></A></FONT>    String c;
<FONT ID="LN">1764</FONT><A NAME="1764"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; num; noa++) {
<FONT ID="LN">1765</FONT><A NAME="1765"></A>      <FONT ID="SingleLineComment">//note that I am using the Double to get the value rather than the
<FONT ID="LN">1766</FONT><A NAME="1766"></A></FONT>      <FONT ID="SingleLineComment">//Integer class, because for some reason the Double implementation can
<FONT ID="LN">1767</FONT><A NAME="1767"></A></FONT>      <FONT ID="SingleLineComment">//handle leading white space and the integer version can't!?!
<FONT ID="LN">1768</FONT><A NAME="1768"></A></FONT>      c = tok.nextToken().trim();
<FONT ID="LN">1769</FONT><A NAME="1769"></A>      <FONT ID="If">if</FONT> (c.equals(<FONT ID="StringLiteral">"a"</FONT>)) {
<FONT ID="LN">1770</FONT><A NAME="1770"></A>    val = (m_numAttributes + m_numClasses) / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">1771</FONT><A NAME="1771"></A>      }
<FONT ID="LN">1772</FONT><A NAME="1772"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (c.equals(<FONT ID="StringLiteral">"i"</FONT>)) {
<FONT ID="LN">1773</FONT><A NAME="1773"></A>    val = m_numAttributes;
<FONT ID="LN">1774</FONT><A NAME="1774"></A>      }
<FONT ID="LN">1775</FONT><A NAME="1775"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (c.equals(<FONT ID="StringLiteral">"o"</FONT>)) {
<FONT ID="LN">1776</FONT><A NAME="1776"></A>    val = m_numClasses;
<FONT ID="LN">1777</FONT><A NAME="1777"></A>      }
<FONT ID="LN">1778</FONT><A NAME="1778"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (c.equals(<FONT ID="StringLiteral">"t"</FONT>)) {
<FONT ID="LN">1779</FONT><A NAME="1779"></A>    val = m_numAttributes + m_numClasses;
<FONT ID="LN">1780</FONT><A NAME="1780"></A>      }
<FONT ID="LN">1781</FONT><A NAME="1781"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1782</FONT><A NAME="1782"></A>    val = Double.valueOf(c).intValue();
<FONT ID="LN">1783</FONT><A NAME="1783"></A>      }
<FONT ID="LN">1784</FONT><A NAME="1784"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">0</FONT>; nob &lt; val; nob++) {
<FONT ID="LN">1785</FONT><A NAME="1785"></A>    <A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A> temp = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A>(String.valueOf(m_nextId), m_random,
<FONT ID="LN">1786</FONT><A NAME="1786"></A>                     m_sigmoidUnit);
<FONT ID="LN">1787</FONT><A NAME="1787"></A>    m_nextId++;
<FONT ID="LN">1788</FONT><A NAME="1788"></A>    temp.setX(<FONT ID="FloatPointLiteral">.5</FONT> / (num) * noa + <FONT ID="FloatPointLiteral">.25</FONT>);
<FONT ID="LN">1789</FONT><A NAME="1789"></A>    temp.setY((nob + <FONT ID="FloatPointLiteral">1.0</FONT>) / (val + <FONT ID="IntegerLiteral">1</FONT>));
<FONT ID="LN">1790</FONT><A NAME="1790"></A>    addNode(temp);
<FONT ID="LN">1791</FONT><A NAME="1791"></A>    <FONT ID="If">if</FONT> (noa &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1792</FONT><A NAME="1792"></A>      <FONT ID="SingleLineComment">//then do connections
<FONT ID="LN">1793</FONT><A NAME="1793"></A></FONT>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noc = m_neuralNodes.length - nob - <FONT ID="IntegerLiteral">1</FONT> - prev;
<FONT ID="LN">1794</FONT><A NAME="1794"></A>           noc &lt; m_neuralNodes.length - nob - <FONT ID="IntegerLiteral">1</FONT>; noc++) {
<FONT ID="LN">1795</FONT><A NAME="1795"></A>        NeuralConnection.connect(m_neuralNodes[noc], temp);
<FONT ID="LN">1796</FONT><A NAME="1796"></A>      }
<FONT ID="LN">1797</FONT><A NAME="1797"></A>    }
<FONT ID="LN">1798</FONT><A NAME="1798"></A>      }      
<FONT ID="LN">1799</FONT><A NAME="1799"></A>      prev = val;
<FONT ID="LN">1800</FONT><A NAME="1800"></A>    }
<FONT ID="LN">1801</FONT><A NAME="1801"></A>    tok = <FONT ID="New">new</FONT> StringTokenizer(m_hiddenLayers, <FONT ID="StringLiteral">","</FONT>);
<FONT ID="LN">1802</FONT><A NAME="1802"></A>    c = tok.nextToken();
<FONT ID="LN">1803</FONT><A NAME="1803"></A>    <FONT ID="If">if</FONT> (c.equals(<FONT ID="StringLiteral">"a"</FONT>)) {
<FONT ID="LN">1804</FONT><A NAME="1804"></A>      val = (m_numAttributes + m_numClasses) / <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">1805</FONT><A NAME="1805"></A>    }
<FONT ID="LN">1806</FONT><A NAME="1806"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (c.equals(<FONT ID="StringLiteral">"i"</FONT>)) {
<FONT ID="LN">1807</FONT><A NAME="1807"></A>      val = m_numAttributes;
<FONT ID="LN">1808</FONT><A NAME="1808"></A>    }
<FONT ID="LN">1809</FONT><A NAME="1809"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (c.equals(<FONT ID="StringLiteral">"o"</FONT>)) {
<FONT ID="LN">1810</FONT><A NAME="1810"></A>      val = m_numClasses;
<FONT ID="LN">1811</FONT><A NAME="1811"></A>    }
<FONT ID="LN">1812</FONT><A NAME="1812"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (c.equals(<FONT ID="StringLiteral">"t"</FONT>)) {
<FONT ID="LN">1813</FONT><A NAME="1813"></A>      val = m_numAttributes + m_numClasses;
<FONT ID="LN">1814</FONT><A NAME="1814"></A>    }
<FONT ID="LN">1815</FONT><A NAME="1815"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">1816</FONT><A NAME="1816"></A>      val = Double.valueOf(c).intValue();
<FONT ID="LN">1817</FONT><A NAME="1817"></A>    }
<FONT ID="LN">1818</FONT><A NAME="1818"></A>    
<FONT ID="LN">1819</FONT><A NAME="1819"></A>    <FONT ID="If">if</FONT> (val == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1820</FONT><A NAME="1820"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numAttributes; noa++) {
<FONT ID="LN">1821</FONT><A NAME="1821"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">0</FONT>; nob &lt; m_numClasses; nob++) {
<FONT ID="LN">1822</FONT><A NAME="1822"></A>      NeuralConnection.connect(m_inputs[noa], m_neuralNodes[nob]);
<FONT ID="LN">1823</FONT><A NAME="1823"></A>    }
<FONT ID="LN">1824</FONT><A NAME="1824"></A>      }
<FONT ID="LN">1825</FONT><A NAME="1825"></A>    }
<FONT ID="LN">1826</FONT><A NAME="1826"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">1827</FONT><A NAME="1827"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numAttributes; noa++) {
<FONT ID="LN">1828</FONT><A NAME="1828"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = m_numClasses; nob &lt; m_numClasses + val; nob++) {
<FONT ID="LN">1829</FONT><A NAME="1829"></A>      NeuralConnection.connect(m_inputs[noa], m_neuralNodes[nob]);
<FONT ID="LN">1830</FONT><A NAME="1830"></A>    }
<FONT ID="LN">1831</FONT><A NAME="1831"></A>      }
<FONT ID="LN">1832</FONT><A NAME="1832"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = m_neuralNodes.length - prev; noa &lt; m_neuralNodes.length;
<FONT ID="LN">1833</FONT><A NAME="1833"></A>       noa++) {
<FONT ID="LN">1834</FONT><A NAME="1834"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">0</FONT>; nob &lt; m_numClasses; nob++) {
<FONT ID="LN">1835</FONT><A NAME="1835"></A>      NeuralConnection.connect(m_neuralNodes[noa], m_neuralNodes[nob]);
<FONT ID="LN">1836</FONT><A NAME="1836"></A>    }
<FONT ID="LN">1837</FONT><A NAME="1837"></A>      }
<FONT ID="LN">1838</FONT><A NAME="1838"></A>    }
<FONT ID="LN">1839</FONT><A NAME="1839"></A>    
<FONT ID="LN">1840</FONT><A NAME="1840"></A>  }
<FONT ID="LN">1841</FONT><A NAME="1841"></A>  
<FONT ID="LN">1842</FONT><A NAME="1842"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1843</FONT><A NAME="1843"></A>   * This will go through all the nodes and check if they are connected
<FONT ID="LN">1844</FONT><A NAME="1844"></A>   * to a pure output unit. If so they will be set to be linear units.
<FONT ID="LN">1845</FONT><A NAME="1845"></A>   * If not they will be set to be sigmoid units.
<FONT ID="LN">1846</FONT><A NAME="1846"></A>   */</FONT>
<FONT ID="LN">1847</FONT><A NAME="1847"></A>  <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> setEndsToLinear() {
<FONT ID="LN">1848</FONT><A NAME="1848"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_neuralNodes.length; noa++) {
<FONT ID="LN">1849</FONT><A NAME="1849"></A>      <FONT ID="If">if</FONT> ((m_neuralNodes[noa].getType() &amp; NeuralConnection.OUTPUT) ==
<FONT ID="LN">1850</FONT><A NAME="1850"></A>      NeuralConnection.OUTPUT) {
<FONT ID="LN">1851</FONT><A NAME="1851"></A>    ((<A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A>)m_neuralNodes[noa]).setMethod(m_linearUnit);
<FONT ID="LN">1852</FONT><A NAME="1852"></A>      }
<FONT ID="LN">1853</FONT><A NAME="1853"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1854</FONT><A NAME="1854"></A>    ((<A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A>)m_neuralNodes[noa]).setMethod(m_sigmoidUnit);
<FONT ID="LN">1855</FONT><A NAME="1855"></A>      }
<FONT ID="LN">1856</FONT><A NAME="1856"></A>    }
<FONT ID="LN">1857</FONT><A NAME="1857"></A>  }
<FONT ID="LN">1858</FONT><A NAME="1858"></A>
<FONT ID="LN">1859</FONT><A NAME="1859"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1860</FONT><A NAME="1860"></A>   * Returns default capabilities of the classifier.
<FONT ID="LN">1861</FONT><A NAME="1861"></A>   *
<FONT ID="LN">1862</FONT><A NAME="1862"></A>   * @return      the capabilities of this classifier
<FONT ID="LN">1863</FONT><A NAME="1863"></A>   */</FONT>
<FONT ID="LN">1864</FONT><A NAME="1864"></A>  <FONT ID="Public">public</FONT> <A HREF="../../../weka/core/Capabilities.java.html">Capabilities</A> getCapabilities() {
<FONT ID="LN">1865</FONT><A NAME="1865"></A>    <A HREF="../../../weka/core/Capabilities.java.html">Capabilities</A> result = <FONT ID="Super">super</FONT>.getCapabilities();
<FONT ID="LN">1866</FONT><A NAME="1866"></A>    result.disableAll();
<FONT ID="LN">1867</FONT><A NAME="1867"></A>
<FONT ID="LN">1868</FONT><A NAME="1868"></A>    <FONT ID="SingleLineComment">// attributes
<FONT ID="LN">1869</FONT><A NAME="1869"></A></FONT>    result.enable(Capability.NOMINAL_ATTRIBUTES);
<FONT ID="LN">1870</FONT><A NAME="1870"></A>    result.enable(Capability.NUMERIC_ATTRIBUTES);
<FONT ID="LN">1871</FONT><A NAME="1871"></A>    result.enable(Capability.DATE_ATTRIBUTES);
<FONT ID="LN">1872</FONT><A NAME="1872"></A>    result.enable(Capability.MISSING_VALUES);
<FONT ID="LN">1873</FONT><A NAME="1873"></A>
<FONT ID="LN">1874</FONT><A NAME="1874"></A>    <FONT ID="SingleLineComment">// class
<FONT ID="LN">1875</FONT><A NAME="1875"></A></FONT>    result.enable(Capability.NOMINAL_CLASS);
<FONT ID="LN">1876</FONT><A NAME="1876"></A>    result.enable(Capability.NUMERIC_CLASS);
<FONT ID="LN">1877</FONT><A NAME="1877"></A>    result.enable(Capability.DATE_CLASS);
<FONT ID="LN">1878</FONT><A NAME="1878"></A>    result.enable(Capability.MISSING_CLASS_VALUES);
<FONT ID="LN">1879</FONT><A NAME="1879"></A>    
<FONT ID="LN">1880</FONT><A NAME="1880"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">1881</FONT><A NAME="1881"></A>  }
<FONT ID="LN">1882</FONT><A NAME="1882"></A>  
<FONT ID="LN">1883</FONT><A NAME="1883"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1884</FONT><A NAME="1884"></A>   * Call this function to build and train a neural network for the training
<FONT ID="LN">1885</FONT><A NAME="1885"></A>   * data provided.
<FONT ID="LN">1886</FONT><A NAME="1886"></A>   * @param i The training data.
<FONT ID="LN">1887</FONT><A NAME="1887"></A>   * @throws Exception if can't build classification properly.
<FONT ID="LN">1888</FONT><A NAME="1888"></A>   */</FONT>
<FONT ID="LN">1889</FONT><A NAME="1889"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> buildClassifier(<A HREF="../../../weka/core/Instances.java.html">Instances</A> i) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1890</FONT><A NAME="1890"></A>
<FONT ID="LN">1891</FONT><A NAME="1891"></A>    <FONT ID="SingleLineComment">// can classifier handle the data?
<FONT ID="LN">1892</FONT><A NAME="1892"></A></FONT>    getCapabilities().testWithFail(i);
<FONT ID="LN">1893</FONT><A NAME="1893"></A>    
<FONT ID="LN">1894</FONT><A NAME="1894"></A>    i = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(i);
<FONT ID="LN">1895</FONT><A NAME="1895"></A>    
<FONT ID="LN">1896</FONT><A NAME="1896"></A>    <FONT ID="SingleLineComment">//modCS.S Moved randomizer up, so only order of primary data is randomized.    
<FONT ID="LN">1897</FONT><A NAME="1897"></A></FONT>    m_random = <FONT ID="New">new</FONT> Random(m_randomSeed);
<FONT ID="LN">1898</FONT><A NAME="1898"></A>    i.randomize(m_random);
<FONT ID="LN">1899</FONT><A NAME="1899"></A>    
<FONT ID="LN">1900</FONT><A NAME="1900"></A>    <FONT ID="SingleLineComment">//modCS.S, add secondary instances to primary instances, and replicate 
<FONT ID="LN">1901</FONT><A NAME="1901"></A></FONT>    <FONT ID="SingleLineComment">//primaries to match the number of secondaries.
<FONT ID="LN">1902</FONT><A NAME="1902"></A></FONT>    <FONT ID="Int">int</FONT> m_originalNumInstances = i.numInstances();    
<FONT ID="LN">1903</FONT><A NAME="1903"></A>    <FONT ID="If">if</FONT> (m_secSet != <FONT ID="Null">null</FONT>)
<FONT ID="LN">1904</FONT><A NAME="1904"></A>    {
<FONT ID="LN">1905</FONT><A NAME="1905"></A>        <FONT ID="If">if</FONT> (!m_secSet.equalHeaders(i))
<FONT ID="LN">1906</FONT><A NAME="1906"></A>        {
<FONT ID="LN">1907</FONT><A NAME="1907"></A>            <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"Training and secondary sets "</FONT>
<FONT ID="LN">1908</FONT><A NAME="1908"></A>                + <FONT ID="StringLiteral">"have different headers."</FONT>);
<FONT ID="LN">1909</FONT><A NAME="1909"></A>        }
<FONT ID="LN">1910</FONT><A NAME="1910"></A>        
<FONT ID="LN">1911</FONT><A NAME="1911"></A>        <FONT ID="Int">int</FONT> m_numSecondaries = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1912</FONT><A NAME="1912"></A>        <FONT ID="SingleLineComment">//calculate how many instances there are for each secondary task.
<FONT ID="LN">1913</FONT><A NAME="1913"></A></FONT>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_secSet.numInstances(); noa++)
<FONT ID="LN">1914</FONT><A NAME="1914"></A>        {
<FONT ID="LN">1915</FONT><A NAME="1915"></A>            <FONT ID="SingleLineComment">//1 indicates the index of the attribute
<FONT ID="LN">1916</FONT><A NAME="1916"></A></FONT>            <FONT ID="If">if</FONT>(m_secSet.instance(noa).value(<FONT ID="IntegerLiteral">1</FONT>) == <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">1917</FONT><A NAME="1917"></A>            {              
<FONT ID="LN">1918</FONT><A NAME="1918"></A>            }
<FONT ID="LN">1919</FONT><A NAME="1919"></A>            <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT>(m_secSet.instance(noa).value(<FONT ID="IntegerLiteral">1</FONT>) == <FONT ID="IntegerLiteral">1</FONT>)
<FONT ID="LN">1920</FONT><A NAME="1920"></A>            {
<FONT ID="LN">1921</FONT><A NAME="1921"></A>                m_numSecondaries++;
<FONT ID="LN">1922</FONT><A NAME="1922"></A>            }
<FONT ID="LN">1923</FONT><A NAME="1923"></A>            <FONT ID="Else">else</FONT>
<FONT ID="LN">1924</FONT><A NAME="1924"></A>            {
<FONT ID="LN">1925</FONT><A NAME="1925"></A>                <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"Cannot find appropriate secondary task "</FONT> +
<FONT ID="LN">1926</FONT><A NAME="1926"></A>                        <FONT ID="StringLiteral">"attribute(s)."</FONT>);
<FONT ID="LN">1927</FONT><A NAME="1927"></A>            }
<FONT ID="LN">1928</FONT><A NAME="1928"></A>        }
<FONT ID="LN">1929</FONT><A NAME="1929"></A>        
<FONT ID="LN">1930</FONT><A NAME="1930"></A>        <FONT ID="If">if</FONT>(m_secSet.numInstances() &lt; m_originalNumInstances)
<FONT ID="LN">1931</FONT><A NAME="1931"></A>        {
<FONT ID="LN">1932</FONT><A NAME="1932"></A>            <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"Secondary task training set has less "</FONT> +
<FONT ID="LN">1933</FONT><A NAME="1933"></A>                    <FONT ID="StringLiteral">"instances than the primary training set."</FONT>);            
<FONT ID="LN">1934</FONT><A NAME="1934"></A>        }
<FONT ID="LN">1935</FONT><A NAME="1935"></A>        
<FONT ID="LN">1936</FONT><A NAME="1936"></A>        <FONT ID="MultiLineComment">/* Do not replicate primaries to be used in a percentage
<FONT ID="LN">1937</FONT><A NAME="1937"></A>           validation set. Duplicates the remaining primaries. */</FONT>         
<FONT ID="LN">1938</FONT><A NAME="1938"></A>        <FONT ID="If">if</FONT> (m_valSize &gt; <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">1939</FONT><A NAME="1939"></A>        {
<FONT ID="LN">1940</FONT><A NAME="1940"></A>            <FONT ID="Int">int</FONT> exclude = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1941</FONT><A NAME="1941"></A>            <FONT ID="Int">int</FONT> counter = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1942</FONT><A NAME="1942"></A>            
<FONT ID="LN">1943</FONT><A NAME="1943"></A>            exclude = (<FONT ID="Int">int</FONT>)(m_valSize / <FONT ID="FloatPointLiteral">100.0</FONT> * (m_originalNumInstances));
<FONT ID="LN">1944</FONT><A NAME="1944"></A>            <FONT ID="If">if</FONT>(exclude == <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">1945</FONT><A NAME="1945"></A>                exclude = <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">1946</FONT><A NAME="1946"></A>            
<FONT ID="LN">1947</FONT><A NAME="1947"></A>            <FONT ID="While">while</FONT>(i.numInstances() &lt; m_numSecondaries + exclude)
<FONT ID="LN">1948</FONT><A NAME="1948"></A>            {
<FONT ID="LN">1949</FONT><A NAME="1949"></A>                <FONT ID="If">if</FONT>(counter % m_originalNumInstances &gt;= exclude)
<FONT ID="LN">1950</FONT><A NAME="1950"></A>                {
<FONT ID="LN">1951</FONT><A NAME="1951"></A>                    i.add(i.instance(counter % m_originalNumInstances));
<FONT ID="LN">1952</FONT><A NAME="1952"></A>                    counter++;
<FONT ID="LN">1953</FONT><A NAME="1953"></A>                }
<FONT ID="LN">1954</FONT><A NAME="1954"></A>                <FONT ID="Else">else</FONT>
<FONT ID="LN">1955</FONT><A NAME="1955"></A>                {
<FONT ID="LN">1956</FONT><A NAME="1956"></A>                    counter+=exclude;
<FONT ID="LN">1957</FONT><A NAME="1957"></A>                }
<FONT ID="LN">1958</FONT><A NAME="1958"></A>            }
<FONT ID="LN">1959</FONT><A NAME="1959"></A>            
<FONT ID="LN">1960</FONT><A NAME="1960"></A>            
<FONT ID="LN">1961</FONT><A NAME="1961"></A>        }
<FONT ID="LN">1962</FONT><A NAME="1962"></A>        <FONT ID="Else">else</FONT>
<FONT ID="LN">1963</FONT><A NAME="1963"></A>        {
<FONT ID="LN">1964</FONT><A NAME="1964"></A>            <FONT ID="SingleLineComment">//Replicate the primaries to match the number of secondaries.
<FONT ID="LN">1965</FONT><A NAME="1965"></A></FONT>            <FONT ID="For">for</FONT>(<FONT ID="Int">int</FONT> noa= m_originalNumInstances; noa&lt;m_numSecondaries; noa++)
<FONT ID="LN">1966</FONT><A NAME="1966"></A>            {
<FONT ID="LN">1967</FONT><A NAME="1967"></A>                i.add(i.instance(noa % m_originalNumInstances));
<FONT ID="LN">1968</FONT><A NAME="1968"></A>            }
<FONT ID="LN">1969</FONT><A NAME="1969"></A>            
<FONT ID="LN">1970</FONT><A NAME="1970"></A>        }
<FONT ID="LN">1971</FONT><A NAME="1971"></A>        <FONT ID="SingleLineComment">//add the secondaries
<FONT ID="LN">1972</FONT><A NAME="1972"></A></FONT>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_secSet.numInstances(); noa++)
<FONT ID="LN">1973</FONT><A NAME="1973"></A>        {
<FONT ID="LN">1974</FONT><A NAME="1974"></A>            i.add(m_secSet.instance(noa));
<FONT ID="LN">1975</FONT><A NAME="1975"></A>        }
<FONT ID="LN">1976</FONT><A NAME="1976"></A>    }    
<FONT ID="LN">1977</FONT><A NAME="1977"></A>    <FONT ID="SingleLineComment">// remove instances with missing class
<FONT ID="LN">1978</FONT><A NAME="1978"></A></FONT>    i.deleteWithMissingClass();
<FONT ID="LN">1979</FONT><A NAME="1979"></A>           
<FONT ID="LN">1980</FONT><A NAME="1980"></A>    <FONT ID="SingleLineComment">// only class? -&gt; build ZeroR model
<FONT ID="LN">1981</FONT><A NAME="1981"></A></FONT>    <FONT ID="If">if</FONT> (i.numAttributes() == <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1982</FONT><A NAME="1982"></A>      System.err.println(
<FONT ID="LN">1983</FONT><A NAME="1983"></A>      <FONT ID="StringLiteral">"Cannot build model (only class attribute present in data!), "</FONT>
<FONT ID="LN">1984</FONT><A NAME="1984"></A>      + <FONT ID="StringLiteral">"using ZeroR model instead!"</FONT>);
<FONT ID="LN">1985</FONT><A NAME="1985"></A>      m_ZeroR = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/rules/ZeroR.java.html">weka.classifiers.rules.ZeroR</A>();
<FONT ID="LN">1986</FONT><A NAME="1986"></A>      m_ZeroR.buildClassifier(i);
<FONT ID="LN">1987</FONT><A NAME="1987"></A>      <FONT ID="Return">return</FONT>;
<FONT ID="LN">1988</FONT><A NAME="1988"></A>    }
<FONT ID="LN">1989</FONT><A NAME="1989"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">1990</FONT><A NAME="1990"></A>      m_ZeroR = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1991</FONT><A NAME="1991"></A>    }
<FONT ID="LN">1992</FONT><A NAME="1992"></A>    
<FONT ID="LN">1993</FONT><A NAME="1993"></A>    m_epoch = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1994</FONT><A NAME="1994"></A>    m_error = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1995</FONT><A NAME="1995"></A>    m_instances = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1996</FONT><A NAME="1996"></A>    m_currentInstance = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1997</FONT><A NAME="1997"></A>    m_controlPanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1998</FONT><A NAME="1998"></A>    m_nodePanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1999</FONT><A NAME="1999"></A>    
<FONT ID="LN">2000</FONT><A NAME="2000"></A>    
<FONT ID="LN">2001</FONT><A NAME="2001"></A>    m_outputs = <FONT ID="New">new</FONT> NeuralEnd[<FONT ID="IntegerLiteral">0</FONT>];
<FONT ID="LN">2002</FONT><A NAME="2002"></A>    m_inputs = <FONT ID="New">new</FONT> NeuralEnd[<FONT ID="IntegerLiteral">0</FONT>];
<FONT ID="LN">2003</FONT><A NAME="2003"></A>    m_numAttributes = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2004</FONT><A NAME="2004"></A>    m_numClasses = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2005</FONT><A NAME="2005"></A>    m_neuralNodes = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>[<FONT ID="IntegerLiteral">0</FONT>];
<FONT ID="LN">2006</FONT><A NAME="2006"></A>    
<FONT ID="LN">2007</FONT><A NAME="2007"></A>    m_selected = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">4</FONT>);
<FONT ID="LN">2008</FONT><A NAME="2008"></A>    m_graphers = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">2</FONT>);
<FONT ID="LN">2009</FONT><A NAME="2009"></A>    m_nextId = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2010</FONT><A NAME="2010"></A>    m_stopIt = <FONT ID="True">true</FONT>;
<FONT ID="LN">2011</FONT><A NAME="2011"></A>    m_stopped = <FONT ID="True">true</FONT>;
<FONT ID="LN">2012</FONT><A NAME="2012"></A>    m_accepted = <FONT ID="False">false</FONT>;    
<FONT ID="LN">2013</FONT><A NAME="2013"></A>    m_instances = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(i);
<FONT ID="LN">2014</FONT><A NAME="2014"></A>      
<FONT ID="LN">2015</FONT><A NAME="2015"></A>    <FONT ID="SingleLineComment">//modCS.S Moved randomizer up, so only order of primary data is randomized.    
<FONT ID="LN">2016</FONT><A NAME="2016"></A></FONT> 
<FONT ID="LN">2017</FONT><A NAME="2017"></A>    <FONT ID="If">if</FONT> (m_useNomToBin) 
<FONT ID="LN">2018</FONT><A NAME="2018"></A>    {
<FONT ID="LN">2019</FONT><A NAME="2019"></A>      m_nominalToBinaryFilter = <FONT ID="New">new</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/NominalToBinary.java.html">NominalToBinary</A>();
<FONT ID="LN">2020</FONT><A NAME="2020"></A>      m_nominalToBinaryFilter.setInputFormat(m_instances);
<FONT ID="LN">2021</FONT><A NAME="2021"></A>      m_instances = Filter.useFilter(m_instances,
<FONT ID="LN">2022</FONT><A NAME="2022"></A>                     m_nominalToBinaryFilter);
<FONT ID="LN">2023</FONT><A NAME="2023"></A>      <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">2024</FONT><A NAME="2024"></A></FONT>      <FONT ID="SingleLineComment">//Run the nominal to binary filter on the validation set, if applicable.
<FONT ID="LN">2025</FONT><A NAME="2025"></A></FONT>      <FONT ID="If">if</FONT>(m_valSet != <FONT ID="Null">null</FONT>)
<FONT ID="LN">2026</FONT><A NAME="2026"></A>      {
<FONT ID="LN">2027</FONT><A NAME="2027"></A>          m_nominalToBinaryFilter.setInputFormat(m_valSet);
<FONT ID="LN">2028</FONT><A NAME="2028"></A>          m_valSet = Filter.useFilter(
<FONT ID="LN">2029</FONT><A NAME="2029"></A>                m_valSet, m_nominalToBinaryFilter);    
<FONT ID="LN">2030</FONT><A NAME="2030"></A>      }
<FONT ID="LN">2031</FONT><A NAME="2031"></A>    }
<FONT ID="LN">2032</FONT><A NAME="2032"></A>    m_numAttributes = m_instances.numAttributes() - <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">2033</FONT><A NAME="2033"></A>    m_numClasses = m_instances.numClasses();
<FONT ID="LN">2034</FONT><A NAME="2034"></A> 
<FONT ID="LN">2035</FONT><A NAME="2035"></A>    
<FONT ID="LN">2036</FONT><A NAME="2036"></A>    setClassType(m_instances);
<FONT ID="LN">2037</FONT><A NAME="2037"></A>    <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">2038</FONT><A NAME="2038"></A></FONT>    <FONT ID="SingleLineComment">//Run the setClassType procedure on the validation set, as well.
<FONT ID="LN">2039</FONT><A NAME="2039"></A></FONT>    <FONT ID="If">if</FONT>(m_valSet != <FONT ID="Null">null</FONT>)
<FONT ID="LN">2040</FONT><A NAME="2040"></A>        setClassType(m_valSet);
<FONT ID="LN">2041</FONT><A NAME="2041"></A>
<FONT ID="LN">2042</FONT><A NAME="2042"></A>    <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">2043</FONT><A NAME="2043"></A></FONT>    <FONT ID="SingleLineComment">//Prepare validation instances using either the specified validation set or
<FONT ID="LN">2044</FONT><A NAME="2044"></A></FONT>    <FONT ID="SingleLineComment">//using a percentage of the training examples.
<FONT ID="LN">2045</FONT><A NAME="2045"></A></FONT>    <A HREF="../../../weka/core/Instances.java.html">Instances</A> valSet;
<FONT ID="LN">2046</FONT><A NAME="2046"></A>    <FONT ID="Int">int</FONT> numInVal = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2047</FONT><A NAME="2047"></A>    <FONT ID="SingleLineComment">//this sets up the validation set.
<FONT ID="LN">2048</FONT><A NAME="2048"></A></FONT>    <FONT ID="If">if</FONT>(m_valSet == <FONT ID="Null">null</FONT>)<FONT ID="SingleLineComment">//sets up a validation set using some primary instances.
<FONT ID="LN">2049</FONT><A NAME="2049"></A></FONT>    {
<FONT ID="LN">2050</FONT><A NAME="2050"></A>        valSet = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2051</FONT><A NAME="2051"></A>        <FONT ID="SingleLineComment">//numinval is needed later
<FONT ID="LN">2052</FONT><A NAME="2052"></A></FONT>        <FONT ID="SingleLineComment">//modCS.S; properly count the total number of instances if a secondary
<FONT ID="LN">2053</FONT><A NAME="2053"></A></FONT>        <FONT ID="SingleLineComment">//set is included.
<FONT ID="LN">2054</FONT><A NAME="2054"></A></FONT>        <FONT ID="If">if</FONT>(m_secSet != <FONT ID="Null">null</FONT>)
<FONT ID="LN">2055</FONT><A NAME="2055"></A>        {
<FONT ID="LN">2056</FONT><A NAME="2056"></A>            numInVal = (<FONT ID="Int">int</FONT>)(m_valSize / <FONT ID="FloatPointLiteral">100.0</FONT> * (m_originalNumInstances));
<FONT ID="LN">2057</FONT><A NAME="2057"></A>        }
<FONT ID="LN">2058</FONT><A NAME="2058"></A>        <FONT ID="Else">else</FONT>
<FONT ID="LN">2059</FONT><A NAME="2059"></A>        {
<FONT ID="LN">2060</FONT><A NAME="2060"></A>            numInVal = (<FONT ID="Int">int</FONT>)(m_valSize / <FONT ID="FloatPointLiteral">100.0</FONT> * m_instances.numInstances());
<FONT ID="LN">2061</FONT><A NAME="2061"></A>        }
<FONT ID="LN">2062</FONT><A NAME="2062"></A>        <FONT ID="If">if</FONT> (m_valSize &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2063</FONT><A NAME="2063"></A>          <FONT ID="If">if</FONT> (numInVal == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2064</FONT><A NAME="2064"></A>            numInVal = <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">2065</FONT><A NAME="2065"></A>          }
<FONT ID="LN">2066</FONT><A NAME="2066"></A>          valSet = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(m_instances, <FONT ID="IntegerLiteral">0</FONT>, numInVal);
<FONT ID="LN">2067</FONT><A NAME="2067"></A>        }
<FONT ID="LN">2068</FONT><A NAME="2068"></A>        
<FONT ID="LN">2069</FONT><A NAME="2069"></A>        <FONT ID="SingleLineComment">//debug; see the training and validation sets
<FONT ID="LN">2070</FONT><A NAME="2070"></A></FONT> <FONT ID="MultiLineComment">/*       System.out.println("\n\n\nTraining Set; ");
<FONT ID="LN">2071</FONT><A NAME="2071"></A>        for(int noa = 0; noa &lt; i.numInstances(); noa++)
<FONT ID="LN">2072</FONT><A NAME="2072"></A>            System.out.println(i.instance(noa));
<FONT ID="LN">2073</FONT><A NAME="2073"></A>        
<FONT ID="LN">2074</FONT><A NAME="2074"></A>        System.out.println("\n\n\n\nValidation Set");
<FONT ID="LN">2075</FONT><A NAME="2075"></A>        for(int noa = 0; noa &lt; valSet.numInstances(); noa++)
<FONT ID="LN">2076</FONT><A NAME="2076"></A>            System.out.println(valSet.instance(noa));        
<FONT ID="LN">2077</FONT><A NAME="2077"></A>        
<FONT ID="LN">2078</FONT><A NAME="2078"></A>      */</FONT>  
<FONT ID="LN">2079</FONT><A NAME="2079"></A>        <FONT ID="SingleLineComment">///////////        
<FONT ID="LN">2080</FONT><A NAME="2080"></A></FONT>    }
<FONT ID="LN">2081</FONT><A NAME="2081"></A>    <FONT ID="Else">else</FONT> <FONT ID="SingleLineComment">//sets up a specified validation set
<FONT ID="LN">2082</FONT><A NAME="2082"></A></FONT>    {
<FONT ID="LN">2083</FONT><A NAME="2083"></A>        valSet = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(m_valSet);
<FONT ID="LN">2084</FONT><A NAME="2084"></A>        numInVal = valSet.numInstances();
<FONT ID="LN">2085</FONT><A NAME="2085"></A>        valSet.deleteWithMissingClass();
<FONT ID="LN">2086</FONT><A NAME="2086"></A>        valSet.setClassIndex(m_instances.classIndex());
<FONT ID="LN">2087</FONT><A NAME="2087"></A>        <FONT ID="If">if</FONT> (!m_instances.equalHeaders(valSet))
<FONT ID="LN">2088</FONT><A NAME="2088"></A>        {
<FONT ID="LN">2089</FONT><A NAME="2089"></A>            <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"Training and validation sets "</FONT>
<FONT ID="LN">2090</FONT><A NAME="2090"></A>                + <FONT ID="StringLiteral">"have different headers."</FONT>);
<FONT ID="LN">2091</FONT><A NAME="2091"></A>        }
<FONT ID="LN">2092</FONT><A NAME="2092"></A>        setClassType(valSet);
<FONT ID="LN">2093</FONT><A NAME="2093"></A>        <FONT ID="If">if</FONT> (m_valSize != <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">2094</FONT><A NAME="2094"></A>        {
<FONT ID="LN">2095</FONT><A NAME="2095"></A>            <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"Given both a validation set size split and"</FONT> 
<FONT ID="LN">2096</FONT><A NAME="2096"></A>                + <FONT ID="StringLiteral">"a specified validation set. Use only one of either."</FONT>);
<FONT ID="LN">2097</FONT><A NAME="2097"></A>        }
<FONT ID="LN">2098</FONT><A NAME="2098"></A>    }
<FONT ID="LN">2099</FONT><A NAME="2099"></A>
<FONT ID="LN">2100</FONT><A NAME="2100"></A>    setupInputs();
<FONT ID="LN">2101</FONT><A NAME="2101"></A>      
<FONT ID="LN">2102</FONT><A NAME="2102"></A>    setupOutputs();    
<FONT ID="LN">2103</FONT><A NAME="2103"></A>    <FONT ID="If">if</FONT> (m_autoBuild) {
<FONT ID="LN">2104</FONT><A NAME="2104"></A>      setupHiddenLayer();
<FONT ID="LN">2105</FONT><A NAME="2105"></A>    }
<FONT ID="LN">2106</FONT><A NAME="2106"></A>    
<FONT ID="LN">2107</FONT><A NAME="2107"></A>    <FONT ID="SingleLineComment">/////////////////////////////
<FONT ID="LN">2108</FONT><A NAME="2108"></A></FONT>    <FONT ID="SingleLineComment">//this sets up the gui for usage
<FONT ID="LN">2109</FONT><A NAME="2109"></A></FONT>    <FONT ID="If">if</FONT> (m_gui) {
<FONT ID="LN">2110</FONT><A NAME="2110"></A>      m_win = <FONT ID="New">new</FONT> JFrame();
<FONT ID="LN">2111</FONT><A NAME="2111"></A>      
<FONT ID="LN">2112</FONT><A NAME="2112"></A>      m_win.addWindowListener(<FONT ID="New">new</FONT> WindowAdapter() {
<FONT ID="LN">2113</FONT><A NAME="2113"></A>      <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> windowClosing(WindowEvent e) {
<FONT ID="LN">2114</FONT><A NAME="2114"></A>        <FONT ID="Boolean">boolean</FONT> k = m_stopIt;
<FONT ID="LN">2115</FONT><A NAME="2115"></A>        m_stopIt = <FONT ID="True">true</FONT>;
<FONT ID="LN">2116</FONT><A NAME="2116"></A>        <FONT ID="Int">int</FONT> well =JOptionPane.showConfirmDialog(m_win, 
<FONT ID="LN">2117</FONT><A NAME="2117"></A>                            <FONT ID="StringLiteral">"Are You Sure...\n"</FONT>
<FONT ID="LN">2118</FONT><A NAME="2118"></A>                            + <FONT ID="StringLiteral">"Click Yes To Accept"</FONT>
<FONT ID="LN">2119</FONT><A NAME="2119"></A>                            + <FONT ID="StringLiteral">" The Neural Network"</FONT> 
<FONT ID="LN">2120</FONT><A NAME="2120"></A>                            + <FONT ID="StringLiteral">"\n Click No To Return"</FONT>,
<FONT ID="LN">2121</FONT><A NAME="2121"></A>                            <FONT ID="StringLiteral">"Accept Neural Network"</FONT>, 
<FONT ID="LN">2122</FONT><A NAME="2122"></A>                            JOptionPane.YES_NO_OPTION);
<FONT ID="LN">2123</FONT><A NAME="2123"></A>        
<FONT ID="LN">2124</FONT><A NAME="2124"></A>        <FONT ID="If">if</FONT> (well == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2125</FONT><A NAME="2125"></A>          m_win.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
<FONT ID="LN">2126</FONT><A NAME="2126"></A>          m_accepted = <FONT ID="True">true</FONT>;
<FONT ID="LN">2127</FONT><A NAME="2127"></A>          blocker(<FONT ID="False">false</FONT>);
<FONT ID="LN">2128</FONT><A NAME="2128"></A>        }
<FONT ID="LN">2129</FONT><A NAME="2129"></A>        <FONT ID="Else">else</FONT> {
<FONT ID="LN">2130</FONT><A NAME="2130"></A>          m_win.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);
<FONT ID="LN">2131</FONT><A NAME="2131"></A>        }
<FONT ID="LN">2132</FONT><A NAME="2132"></A>        m_stopIt = k;
<FONT ID="LN">2133</FONT><A NAME="2133"></A>      }
<FONT ID="LN">2134</FONT><A NAME="2134"></A>    });
<FONT ID="LN">2135</FONT><A NAME="2135"></A>      
<FONT ID="LN">2136</FONT><A NAME="2136"></A>      m_win.getContentPane().setLayout(<FONT ID="New">new</FONT> BorderLayout());
<FONT ID="LN">2137</FONT><A NAME="2137"></A>      m_win.setTitle(<FONT ID="StringLiteral">"Neural Network"</FONT>);
<FONT ID="LN">2138</FONT><A NAME="2138"></A>      m_nodePanel = <FONT ID="New">new</FONT> NodePanel();
<FONT ID="LN">2139</FONT><A NAME="2139"></A>      <FONT ID="SingleLineComment">// without the following two lines, the NodePanel.paintComponents(Graphics) 
<FONT ID="LN">2140</FONT><A NAME="2140"></A></FONT>      <FONT ID="SingleLineComment">// method will go berserk if the network doesn't fit completely: it will
<FONT ID="LN">2141</FONT><A NAME="2141"></A></FONT>      <FONT ID="SingleLineComment">// get called on a constant basis, using 100% of the CPU
<FONT ID="LN">2142</FONT><A NAME="2142"></A></FONT>      <FONT ID="SingleLineComment">// see the following forum thread:
<FONT ID="LN">2143</FONT><A NAME="2143"></A></FONT>      <FONT ID="SingleLineComment">// http://forum.java.sun.com/thread.jspa?threadID=580929&amp;messageID=2945011
<FONT ID="LN">2144</FONT><A NAME="2144"></A></FONT>      m_nodePanel.setPreferredSize(<FONT ID="New">new</FONT> Dimension(<FONT ID="IntegerLiteral">640</FONT>, <FONT ID="IntegerLiteral">480</FONT>));
<FONT ID="LN">2145</FONT><A NAME="2145"></A>      m_nodePanel.revalidate();
<FONT ID="LN">2146</FONT><A NAME="2146"></A>
<FONT ID="LN">2147</FONT><A NAME="2147"></A>      JScrollPane sp = <FONT ID="New">new</FONT> JScrollPane(m_nodePanel,
<FONT ID="LN">2148</FONT><A NAME="2148"></A>                       JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, 
<FONT ID="LN">2149</FONT><A NAME="2149"></A>                       JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);
<FONT ID="LN">2150</FONT><A NAME="2150"></A>      m_controlPanel = <FONT ID="New">new</FONT> ControlPanel();
<FONT ID="LN">2151</FONT><A NAME="2151"></A>           
<FONT ID="LN">2152</FONT><A NAME="2152"></A>      m_win.getContentPane().add(sp, BorderLayout.CENTER);
<FONT ID="LN">2153</FONT><A NAME="2153"></A>      m_win.getContentPane().add(m_controlPanel, BorderLayout.SOUTH);
<FONT ID="LN">2154</FONT><A NAME="2154"></A>      m_win.setSize(<FONT ID="IntegerLiteral">640</FONT>, <FONT ID="IntegerLiteral">480</FONT>);
<FONT ID="LN">2155</FONT><A NAME="2155"></A>      m_win.setVisible(<FONT ID="True">true</FONT>);
<FONT ID="LN">2156</FONT><A NAME="2156"></A>    }
<FONT ID="LN">2157</FONT><A NAME="2157"></A>   
<FONT ID="LN">2158</FONT><A NAME="2158"></A>    <FONT ID="SingleLineComment">//This sets up the initial state of the gui
<FONT ID="LN">2159</FONT><A NAME="2159"></A></FONT>    <FONT ID="If">if</FONT> (m_gui) {
<FONT ID="LN">2160</FONT><A NAME="2160"></A>      blocker(<FONT ID="True">true</FONT>);
<FONT ID="LN">2161</FONT><A NAME="2161"></A>      m_controlPanel.m_changeEpochs.setEnabled(<FONT ID="False">false</FONT>);
<FONT ID="LN">2162</FONT><A NAME="2162"></A>      m_controlPanel.m_changeLearning.setEnabled(<FONT ID="False">false</FONT>);
<FONT ID="LN">2163</FONT><A NAME="2163"></A>      m_controlPanel.m_changeMomentum.setEnabled(<FONT ID="False">false</FONT>);
<FONT ID="LN">2164</FONT><A NAME="2164"></A>    } 
<FONT ID="LN">2165</FONT><A NAME="2165"></A>    
<FONT ID="LN">2166</FONT><A NAME="2166"></A>    <FONT ID="SingleLineComment">//For silly situations in which the network gets accepted before training
<FONT ID="LN">2167</FONT><A NAME="2167"></A></FONT>    <FONT ID="SingleLineComment">//commenses
<FONT ID="LN">2168</FONT><A NAME="2168"></A></FONT>    <FONT ID="If">if</FONT> (m_numeric) {
<FONT ID="LN">2169</FONT><A NAME="2169"></A>      setEndsToLinear();
<FONT ID="LN">2170</FONT><A NAME="2170"></A>    }
<FONT ID="LN">2171</FONT><A NAME="2171"></A>    <FONT ID="If">if</FONT> (m_accepted) {
<FONT ID="LN">2172</FONT><A NAME="2172"></A>      m_win.dispose();
<FONT ID="LN">2173</FONT><A NAME="2173"></A>      m_controlPanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2174</FONT><A NAME="2174"></A>      m_nodePanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2175</FONT><A NAME="2175"></A>      m_instances = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(m_instances, <FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">2176</FONT><A NAME="2176"></A>      <FONT ID="Return">return</FONT>;
<FONT ID="LN">2177</FONT><A NAME="2177"></A>    }
<FONT ID="LN">2178</FONT><A NAME="2178"></A>
<FONT ID="LN">2179</FONT><A NAME="2179"></A>    <FONT ID="SingleLineComment">//connections done.
<FONT ID="LN">2180</FONT><A NAME="2180"></A></FONT>    <FONT ID="Double">double</FONT> right = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2181</FONT><A NAME="2181"></A>    <FONT ID="Double">double</FONT> driftOff = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2182</FONT><A NAME="2182"></A>    <FONT ID="Double">double</FONT> lastRight = Double.POSITIVE_INFINITY;
<FONT ID="LN">2183</FONT><A NAME="2183"></A>    <FONT ID="Double">double</FONT> bestError = Double.POSITIVE_INFINITY;
<FONT ID="LN">2184</FONT><A NAME="2184"></A>    <FONT ID="Double">double</FONT> tempRate;
<FONT ID="LN">2185</FONT><A NAME="2185"></A>    <FONT ID="Double">double</FONT> totalWeight = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2186</FONT><A NAME="2186"></A>    <FONT ID="Double">double</FONT> totalValWeight = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2187</FONT><A NAME="2187"></A>    <FONT ID="Double">double</FONT> origRate = m_learningRate; <FONT ID="SingleLineComment">//only used for when reset
<FONT ID="LN">2188</FONT><A NAME="2188"></A></FONT>    
<FONT ID="LN">2189</FONT><A NAME="2189"></A>    <FONT ID="SingleLineComment">//ensure that at least 1 instance is trained through.
<FONT ID="LN">2190</FONT><A NAME="2190"></A></FONT>    <FONT ID="If">if</FONT> (numInVal == m_instances.numInstances()) {
<FONT ID="LN">2191</FONT><A NAME="2191"></A>      numInVal--;
<FONT ID="LN">2192</FONT><A NAME="2192"></A>    }
<FONT ID="LN">2193</FONT><A NAME="2193"></A>    <FONT ID="If">if</FONT> (numInVal &lt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2194</FONT><A NAME="2194"></A>      numInVal = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2195</FONT><A NAME="2195"></A>    }
<FONT ID="LN">2196</FONT><A NAME="2196"></A>    <FONT ID="SingleLineComment">//modCS.V; utilizes either the specified training set or one constructed
<FONT ID="LN">2197</FONT><A NAME="2197"></A></FONT>    <FONT ID="SingleLineComment">//using the percentage of the primary training set.
<FONT ID="LN">2198</FONT><A NAME="2198"></A></FONT>    <FONT ID="If">if</FONT> (m_valSet == <FONT ID="Null">null</FONT>)
<FONT ID="LN">2199</FONT><A NAME="2199"></A>    {
<FONT ID="LN">2200</FONT><A NAME="2200"></A>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = numInVal; noa &lt; m_instances.numInstances(); noa++) {
<FONT ID="LN">2201</FONT><A NAME="2201"></A>          <FONT ID="If">if</FONT> (!m_instances.instance(noa).classIsMissing()) {
<FONT ID="LN">2202</FONT><A NAME="2202"></A>            totalWeight += m_instances.instance(noa).weight();
<FONT ID="LN">2203</FONT><A NAME="2203"></A>          }
<FONT ID="LN">2204</FONT><A NAME="2204"></A>        }
<FONT ID="LN">2205</FONT><A NAME="2205"></A>        <FONT ID="If">if</FONT> (m_valSize != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2206</FONT><A NAME="2206"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; valSet.numInstances(); noa++) {
<FONT ID="LN">2207</FONT><A NAME="2207"></A>            <FONT ID="If">if</FONT> (!valSet.instance(noa).classIsMissing()) {
<FONT ID="LN">2208</FONT><A NAME="2208"></A>              totalValWeight += valSet.instance(noa).weight();
<FONT ID="LN">2209</FONT><A NAME="2209"></A>            }
<FONT ID="LN">2210</FONT><A NAME="2210"></A>          }
<FONT ID="LN">2211</FONT><A NAME="2211"></A>        }
<FONT ID="LN">2212</FONT><A NAME="2212"></A>        m_stopped = <FONT ID="False">false</FONT>;
<FONT ID="LN">2213</FONT><A NAME="2213"></A>    }
<FONT ID="LN">2214</FONT><A NAME="2214"></A>    <FONT ID="Else">else</FONT>
<FONT ID="LN">2215</FONT><A NAME="2215"></A>    {
<FONT ID="LN">2216</FONT><A NAME="2216"></A>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_instances.numInstances(); noa++)
<FONT ID="LN">2217</FONT><A NAME="2217"></A>        {
<FONT ID="LN">2218</FONT><A NAME="2218"></A>                <FONT ID="If">if</FONT> (!m_instances.instance(noa).classIsMissing())
<FONT ID="LN">2219</FONT><A NAME="2219"></A>                {
<FONT ID="LN">2220</FONT><A NAME="2220"></A>                        totalWeight += m_instances.instance(noa).weight();
<FONT ID="LN">2221</FONT><A NAME="2221"></A>                }
<FONT ID="LN">2222</FONT><A NAME="2222"></A>        }
<FONT ID="LN">2223</FONT><A NAME="2223"></A>        <FONT ID="If">if</FONT> (valSet.numInstances() != <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">2224</FONT><A NAME="2224"></A>        {
<FONT ID="LN">2225</FONT><A NAME="2225"></A>                <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; valSet.numInstances(); noa++)
<FONT ID="LN">2226</FONT><A NAME="2226"></A>                {
<FONT ID="LN">2227</FONT><A NAME="2227"></A>                        <FONT ID="If">if</FONT> (!valSet.instance(noa).classIsMissing())
<FONT ID="LN">2228</FONT><A NAME="2228"></A>                        {
<FONT ID="LN">2229</FONT><A NAME="2229"></A>                                totalValWeight += valSet.instance(noa).weight();
<FONT ID="LN">2230</FONT><A NAME="2230"></A>                        }
<FONT ID="LN">2231</FONT><A NAME="2231"></A>                }
<FONT ID="LN">2232</FONT><A NAME="2232"></A>        }    
<FONT ID="LN">2233</FONT><A NAME="2233"></A>    }
<FONT ID="LN">2234</FONT><A NAME="2234"></A>
<FONT ID="LN">2235</FONT><A NAME="2235"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">1</FONT>; noa &lt; m_numEpochs + <FONT ID="IntegerLiteral">1</FONT>; noa++) {
<FONT ID="LN">2236</FONT><A NAME="2236"></A>      right = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2237</FONT><A NAME="2237"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = numInVal; nob &lt; m_instances.numInstances(); nob++) {
<FONT ID="LN">2238</FONT><A NAME="2238"></A>    m_currentInstance = m_instances.instance(nob);
<FONT ID="LN">2239</FONT><A NAME="2239"></A>    
<FONT ID="LN">2240</FONT><A NAME="2240"></A>    <FONT ID="If">if</FONT> (!m_currentInstance.classIsMissing()) {
<FONT ID="LN">2241</FONT><A NAME="2241"></A>       
<FONT ID="LN">2242</FONT><A NAME="2242"></A>      <FONT ID="SingleLineComment">//this is where the network updating (and training occurs, for the
<FONT ID="LN">2243</FONT><A NAME="2243"></A></FONT>      <FONT ID="SingleLineComment">//training set
<FONT ID="LN">2244</FONT><A NAME="2244"></A></FONT>      resetNetwork();
<FONT ID="LN">2245</FONT><A NAME="2245"></A>      calculateOutputs();
<FONT ID="LN">2246</FONT><A NAME="2246"></A>      tempRate = m_learningRate * m_currentInstance.weight();  
<FONT ID="LN">2247</FONT><A NAME="2247"></A>      <FONT ID="If">if</FONT> (m_decay) {
<FONT ID="LN">2248</FONT><A NAME="2248"></A>        tempRate /= noa;
<FONT ID="LN">2249</FONT><A NAME="2249"></A>      }
<FONT ID="LN">2250</FONT><A NAME="2250"></A>
<FONT ID="LN">2251</FONT><A NAME="2251"></A>      right += (calculateErrors() / m_instances.numClasses()) *
<FONT ID="LN">2252</FONT><A NAME="2252"></A>        m_currentInstance.weight();
<FONT ID="LN">2253</FONT><A NAME="2253"></A>      updateNetworkWeights(tempRate, m_momentum);
<FONT ID="LN">2254</FONT><A NAME="2254"></A>      
<FONT ID="LN">2255</FONT><A NAME="2255"></A>    }
<FONT ID="LN">2256</FONT><A NAME="2256"></A>    
<FONT ID="LN">2257</FONT><A NAME="2257"></A>      }
<FONT ID="LN">2258</FONT><A NAME="2258"></A>      right /= totalWeight;
<FONT ID="LN">2259</FONT><A NAME="2259"></A>      <FONT ID="If">if</FONT> (Double.isInfinite(right) || Double.isNaN(right)) {
<FONT ID="LN">2260</FONT><A NAME="2260"></A>    <FONT ID="If">if</FONT> (!m_reset) {
<FONT ID="LN">2261</FONT><A NAME="2261"></A>      m_instances = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2262</FONT><A NAME="2262"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"Network cannot train. Try restarting with a"</FONT> +
<FONT ID="LN">2263</FONT><A NAME="2263"></A>                  <FONT ID="StringLiteral">" smaller learning rate."</FONT>);
<FONT ID="LN">2264</FONT><A NAME="2264"></A>    }
<FONT ID="LN">2265</FONT><A NAME="2265"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">2266</FONT><A NAME="2266"></A>      <FONT ID="SingleLineComment">//reset the network if possible
<FONT ID="LN">2267</FONT><A NAME="2267"></A></FONT>      <FONT ID="If">if</FONT> (m_learningRate &lt;= Utils.SMALL)
<FONT ID="LN">2268</FONT><A NAME="2268"></A>        <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> IllegalStateException(
<FONT ID="LN">2269</FONT><A NAME="2269"></A>        <FONT ID="StringLiteral">"Learning rate got too small ("</FONT> + m_learningRate 
<FONT ID="LN">2270</FONT><A NAME="2270"></A>        + <FONT ID="StringLiteral">" &lt;= "</FONT> + Utils.SMALL + <FONT ID="StringLiteral">")!"</FONT>);
<FONT ID="LN">2271</FONT><A NAME="2271"></A>      m_learningRate /= <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">2272</FONT><A NAME="2272"></A>      buildClassifier(i);
<FONT ID="LN">2273</FONT><A NAME="2273"></A>      m_learningRate = origRate;
<FONT ID="LN">2274</FONT><A NAME="2274"></A>      m_instances = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(m_instances, <FONT ID="IntegerLiteral">0</FONT>);    
<FONT ID="LN">2275</FONT><A NAME="2275"></A>      <FONT ID="Return">return</FONT>;
<FONT ID="LN">2276</FONT><A NAME="2276"></A>    }
<FONT ID="LN">2277</FONT><A NAME="2277"></A>      }
<FONT ID="LN">2278</FONT><A NAME="2278"></A>
<FONT ID="LN">2279</FONT><A NAME="2279"></A>      <FONT ID="SingleLineComment">////////////////////////do validation testing if applicable
<FONT ID="LN">2280</FONT><A NAME="2280"></A></FONT>      
<FONT ID="LN">2281</FONT><A NAME="2281"></A>      <FONT ID="SingleLineComment">//modCS.V Recent change for validation calcs
<FONT ID="LN">2282</FONT><A NAME="2282"></A></FONT>      <FONT ID="If">if</FONT> (m_valSize != <FONT ID="IntegerLiteral">0</FONT> || m_valSet != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">2283</FONT><A NAME="2283"></A>    right = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2284</FONT><A NAME="2284"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">0</FONT>; nob &lt; valSet.numInstances(); nob++) {
<FONT ID="LN">2285</FONT><A NAME="2285"></A>      m_currentInstance = valSet.instance(nob);
<FONT ID="LN">2286</FONT><A NAME="2286"></A>      <FONT ID="If">if</FONT> (!m_currentInstance.classIsMissing()) {
<FONT ID="LN">2287</FONT><A NAME="2287"></A>        <FONT ID="SingleLineComment">//this is where the network updating occurs, for the validation set
<FONT ID="LN">2288</FONT><A NAME="2288"></A></FONT>        resetNetwork();
<FONT ID="LN">2289</FONT><A NAME="2289"></A>        calculateOutputs();
<FONT ID="LN">2290</FONT><A NAME="2290"></A>        right += (calculateErrors() / valSet.numClasses()) 
<FONT ID="LN">2291</FONT><A NAME="2291"></A>          * m_currentInstance.weight();
<FONT ID="LN">2292</FONT><A NAME="2292"></A>        <FONT ID="SingleLineComment">//note 'right' could be calculated here just using
<FONT ID="LN">2293</FONT><A NAME="2293"></A></FONT>        <FONT ID="SingleLineComment">//the calculate output values. This would be faster.
<FONT ID="LN">2294</FONT><A NAME="2294"></A></FONT>        <FONT ID="SingleLineComment">//be less modular
<FONT ID="LN">2295</FONT><A NAME="2295"></A></FONT>      }
<FONT ID="LN">2296</FONT><A NAME="2296"></A>      
<FONT ID="LN">2297</FONT><A NAME="2297"></A>    }
<FONT ID="LN">2298</FONT><A NAME="2298"></A>    <FONT ID="SingleLineComment">//mod? If an epoch has less error then the previous, validation
<FONT ID="LN">2299</FONT><A NAME="2299"></A></FONT>        <FONT ID="SingleLineComment">//testing won't end even if the threshold is crossed. Consider
<FONT ID="LN">2300</FONT><A NAME="2300"></A></FONT>        <FONT ID="SingleLineComment">//noting this in the description of the validation threshold, or
<FONT ID="LN">2301</FONT><A NAME="2301"></A></FONT>        <FONT ID="SingleLineComment">//changing this to function as the description currently states.
<FONT ID="LN">2302</FONT><A NAME="2302"></A></FONT>    <FONT ID="If">if</FONT> (right &lt; lastRight) {
<FONT ID="LN">2303</FONT><A NAME="2303"></A>      <FONT ID="If">if</FONT> (right &lt; bestError) {
<FONT ID="LN">2304</FONT><A NAME="2304"></A>        bestError = right;
<FONT ID="LN">2305</FONT><A NAME="2305"></A>            <FONT ID="SingleLineComment">//modCS.E; Calculate the lowest validation error and save its index.
<FONT ID="LN">2306</FONT><A NAME="2306"></A></FONT>            m_lowValError = right / totalValWeight;
<FONT ID="LN">2307</FONT><A NAME="2307"></A>            m_epochIndex = noa;
<FONT ID="LN">2308</FONT><A NAME="2308"></A>            
<FONT ID="LN">2309</FONT><A NAME="2309"></A>        <FONT ID="SingleLineComment">// save the network weights at this point
<FONT ID="LN">2310</FONT><A NAME="2310"></A></FONT>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noc = <FONT ID="IntegerLiteral">0</FONT>; noc &lt; m_numClasses; noc++) {
<FONT ID="LN">2311</FONT><A NAME="2311"></A>          m_outputs[noc].saveWeights();
<FONT ID="LN">2312</FONT><A NAME="2312"></A>        }
<FONT ID="LN">2313</FONT><A NAME="2313"></A>        driftOff = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2314</FONT><A NAME="2314"></A>      }
<FONT ID="LN">2315</FONT><A NAME="2315"></A>    }
<FONT ID="LN">2316</FONT><A NAME="2316"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">2317</FONT><A NAME="2317"></A>      driftOff++;
<FONT ID="LN">2318</FONT><A NAME="2318"></A>    }
<FONT ID="LN">2319</FONT><A NAME="2319"></A>    lastRight = right;
<FONT ID="LN">2320</FONT><A NAME="2320"></A>    <FONT ID="If">if</FONT> (driftOff &gt; m_driftThreshold || noa + <FONT ID="IntegerLiteral">1</FONT> &gt;= m_numEpochs) {
<FONT ID="LN">2321</FONT><A NAME="2321"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noc = <FONT ID="IntegerLiteral">0</FONT>; noc &lt; m_numClasses; noc++) {
<FONT ID="LN">2322</FONT><A NAME="2322"></A>            m_outputs[noc].restoreWeights();
<FONT ID="LN">2323</FONT><A NAME="2323"></A>          }
<FONT ID="LN">2324</FONT><A NAME="2324"></A>      m_accepted = <FONT ID="True">true</FONT>;
<FONT ID="LN">2325</FONT><A NAME="2325"></A>    }
<FONT ID="LN">2326</FONT><A NAME="2326"></A>    right /= totalValWeight;
<FONT ID="LN">2327</FONT><A NAME="2327"></A>      }
<FONT ID="LN">2328</FONT><A NAME="2328"></A>      m_epoch = noa;
<FONT ID="LN">2329</FONT><A NAME="2329"></A>      m_error = right;
<FONT ID="LN">2330</FONT><A NAME="2330"></A>      <FONT ID="SingleLineComment">//shows what the neuralnet is upto if a gui exists. 
<FONT ID="LN">2331</FONT><A NAME="2331"></A></FONT>      updateDisplay();
<FONT ID="LN">2332</FONT><A NAME="2332"></A>      <FONT ID="SingleLineComment">//This junction controls what state the gui is in at the end of each
<FONT ID="LN">2333</FONT><A NAME="2333"></A></FONT>      <FONT ID="SingleLineComment">//epoch, Such as if it is paused, if it is resumable etc...
<FONT ID="LN">2334</FONT><A NAME="2334"></A></FONT>      <FONT ID="SingleLineComment">//modCS.V; Extended conditional statements to consider supplied val sets.
<FONT ID="LN">2335</FONT><A NAME="2335"></A></FONT>      <FONT ID="If">if</FONT> (m_gui) {
<FONT ID="LN">2336</FONT><A NAME="2336"></A>    <FONT ID="While">while</FONT> ((m_stopIt || (m_epoch &gt;= m_numEpochs &amp;&amp; (m_valSize == <FONT ID="IntegerLiteral">0</FONT> 
<FONT ID="LN">2337</FONT><A NAME="2337"></A>                &amp;&amp; m_valSet == <FONT ID="Null">null</FONT>))) &amp;&amp; !m_accepted) {
<FONT ID="LN">2338</FONT><A NAME="2338"></A>      m_stopIt = <FONT ID="True">true</FONT>;
<FONT ID="LN">2339</FONT><A NAME="2339"></A>      m_stopped = <FONT ID="True">true</FONT>;
<FONT ID="LN">2340</FONT><A NAME="2340"></A>      <FONT ID="If">if</FONT> (m_epoch &gt;= m_numEpochs &amp;&amp; (m_valSize == <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; m_valSet == <FONT ID="Null">null</FONT>)) {
<FONT ID="LN">2341</FONT><A NAME="2341"></A>        
<FONT ID="LN">2342</FONT><A NAME="2342"></A>        m_controlPanel.m_startStop.setEnabled(<FONT ID="False">false</FONT>);
<FONT ID="LN">2343</FONT><A NAME="2343"></A>      }
<FONT ID="LN">2344</FONT><A NAME="2344"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">2345</FONT><A NAME="2345"></A>        m_controlPanel.m_startStop.setEnabled(<FONT ID="True">true</FONT>);
<FONT ID="LN">2346</FONT><A NAME="2346"></A>      }
<FONT ID="LN">2347</FONT><A NAME="2347"></A>      m_controlPanel.m_startStop.setText(<FONT ID="StringLiteral">"Start"</FONT>);
<FONT ID="LN">2348</FONT><A NAME="2348"></A>      m_controlPanel.m_startStop.setActionCommand(<FONT ID="StringLiteral">"Start"</FONT>);
<FONT ID="LN">2349</FONT><A NAME="2349"></A>      m_controlPanel.m_changeEpochs.setEnabled(<FONT ID="True">true</FONT>);
<FONT ID="LN">2350</FONT><A NAME="2350"></A>      m_controlPanel.m_changeLearning.setEnabled(<FONT ID="True">true</FONT>);
<FONT ID="LN">2351</FONT><A NAME="2351"></A>      m_controlPanel.m_changeMomentum.setEnabled(<FONT ID="True">true</FONT>);
<FONT ID="LN">2352</FONT><A NAME="2352"></A>      
<FONT ID="LN">2353</FONT><A NAME="2353"></A>      blocker(<FONT ID="True">true</FONT>);
<FONT ID="LN">2354</FONT><A NAME="2354"></A>      <FONT ID="If">if</FONT> (m_numeric) {
<FONT ID="LN">2355</FONT><A NAME="2355"></A>        setEndsToLinear();
<FONT ID="LN">2356</FONT><A NAME="2356"></A>      }
<FONT ID="LN">2357</FONT><A NAME="2357"></A>    }
<FONT ID="LN">2358</FONT><A NAME="2358"></A>    m_controlPanel.m_changeEpochs.setEnabled(<FONT ID="False">false</FONT>);
<FONT ID="LN">2359</FONT><A NAME="2359"></A>    m_controlPanel.m_changeLearning.setEnabled(<FONT ID="False">false</FONT>);
<FONT ID="LN">2360</FONT><A NAME="2360"></A>    m_controlPanel.m_changeMomentum.setEnabled(<FONT ID="False">false</FONT>);
<FONT ID="LN">2361</FONT><A NAME="2361"></A>    
<FONT ID="LN">2362</FONT><A NAME="2362"></A>    m_stopped = <FONT ID="False">false</FONT>;
<FONT ID="LN">2363</FONT><A NAME="2363"></A>    <FONT ID="SingleLineComment">//if the network has been accepted stop the training loop
<FONT ID="LN">2364</FONT><A NAME="2364"></A></FONT>    <FONT ID="If">if</FONT> (m_accepted) {
<FONT ID="LN">2365</FONT><A NAME="2365"></A>      m_win.dispose();
<FONT ID="LN">2366</FONT><A NAME="2366"></A>      m_controlPanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2367</FONT><A NAME="2367"></A>      m_nodePanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2368</FONT><A NAME="2368"></A>      m_instances = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(m_instances, <FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">2369</FONT><A NAME="2369"></A>      <FONT ID="Return">return</FONT>;
<FONT ID="LN">2370</FONT><A NAME="2370"></A>    }
<FONT ID="LN">2371</FONT><A NAME="2371"></A>      }
<FONT ID="LN">2372</FONT><A NAME="2372"></A>      <FONT ID="If">if</FONT> (m_accepted) {
<FONT ID="LN">2373</FONT><A NAME="2373"></A>    m_instances = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(m_instances, <FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">2374</FONT><A NAME="2374"></A>    <FONT ID="Return">return</FONT>;
<FONT ID="LN">2375</FONT><A NAME="2375"></A>      }
<FONT ID="LN">2376</FONT><A NAME="2376"></A>    }
<FONT ID="LN">2377</FONT><A NAME="2377"></A>    <FONT ID="If">if</FONT> (m_gui) {
<FONT ID="LN">2378</FONT><A NAME="2378"></A>      m_win.dispose();
<FONT ID="LN">2379</FONT><A NAME="2379"></A>      m_controlPanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2380</FONT><A NAME="2380"></A>      m_nodePanel = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2381</FONT><A NAME="2381"></A>    }
<FONT ID="LN">2382</FONT><A NAME="2382"></A>    m_instances = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(m_instances, <FONT ID="IntegerLiteral">0</FONT>);  
<FONT ID="LN">2383</FONT><A NAME="2383"></A>  }
<FONT ID="LN">2384</FONT><A NAME="2384"></A>
<FONT ID="LN">2385</FONT><A NAME="2385"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2386</FONT><A NAME="2386"></A>   * Call this function to predict the class of an instance once a 
<FONT ID="LN">2387</FONT><A NAME="2387"></A>   * classification model has been built with the buildClassifier call.
<FONT ID="LN">2388</FONT><A NAME="2388"></A>   * @param i The instance to classify.
<FONT ID="LN">2389</FONT><A NAME="2389"></A>   * @return A double array filled with the probabilities of each class type.
<FONT ID="LN">2390</FONT><A NAME="2390"></A>   * @throws Exception if can't classify instance.
<FONT ID="LN">2391</FONT><A NAME="2391"></A>   */</FONT>
<FONT ID="LN">2392</FONT><A NAME="2392"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT>[] distributionForInstance(<A HREF="../../../weka/core/Instance.java.html">Instance</A> i) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">2393</FONT><A NAME="2393"></A>
<FONT ID="LN">2394</FONT><A NAME="2394"></A>    <FONT ID="SingleLineComment">// default model?
<FONT ID="LN">2395</FONT><A NAME="2395"></A></FONT>    <FONT ID="If">if</FONT> (m_ZeroR != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">2396</FONT><A NAME="2396"></A>      <FONT ID="Return">return</FONT> m_ZeroR.distributionForInstance(i);
<FONT ID="LN">2397</FONT><A NAME="2397"></A>    }
<FONT ID="LN">2398</FONT><A NAME="2398"></A>    
<FONT ID="LN">2399</FONT><A NAME="2399"></A>    <FONT ID="If">if</FONT> (m_useNomToBin) {
<FONT ID="LN">2400</FONT><A NAME="2400"></A>      m_nominalToBinaryFilter.input(i);
<FONT ID="LN">2401</FONT><A NAME="2401"></A>      m_currentInstance = m_nominalToBinaryFilter.output();
<FONT ID="LN">2402</FONT><A NAME="2402"></A>    }
<FONT ID="LN">2403</FONT><A NAME="2403"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">2404</FONT><A NAME="2404"></A>      m_currentInstance = i;
<FONT ID="LN">2405</FONT><A NAME="2405"></A>    }
<FONT ID="LN">2406</FONT><A NAME="2406"></A>    
<FONT ID="LN">2407</FONT><A NAME="2407"></A>    <FONT ID="If">if</FONT> (m_normalizeAttributes) {
<FONT ID="LN">2408</FONT><A NAME="2408"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_instances.numAttributes(); noa++) {
<FONT ID="LN">2409</FONT><A NAME="2409"></A>    <FONT ID="If">if</FONT> (noa != m_instances.classIndex()) {
<FONT ID="LN">2410</FONT><A NAME="2410"></A>      <FONT ID="If">if</FONT> (m_attributeRanges[noa] != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2411</FONT><A NAME="2411"></A>        m_currentInstance.setValue(noa, (m_currentInstance.value(noa) - 
<FONT ID="LN">2412</FONT><A NAME="2412"></A>                         m_attributeBases[noa]) / 
<FONT ID="LN">2413</FONT><A NAME="2413"></A>                       m_attributeRanges[noa]);
<FONT ID="LN">2414</FONT><A NAME="2414"></A>      }
<FONT ID="LN">2415</FONT><A NAME="2415"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">2416</FONT><A NAME="2416"></A>        m_currentInstance.setValue(noa, m_currentInstance.value(noa) -
<FONT ID="LN">2417</FONT><A NAME="2417"></A>                       m_attributeBases[noa]);
<FONT ID="LN">2418</FONT><A NAME="2418"></A>      }
<FONT ID="LN">2419</FONT><A NAME="2419"></A>    }
<FONT ID="LN">2420</FONT><A NAME="2420"></A>      }
<FONT ID="LN">2421</FONT><A NAME="2421"></A>    }
<FONT ID="LN">2422</FONT><A NAME="2422"></A>    resetNetwork();
<FONT ID="LN">2423</FONT><A NAME="2423"></A>    
<FONT ID="LN">2424</FONT><A NAME="2424"></A>    <FONT ID="SingleLineComment">//since all the output values are needed.
<FONT ID="LN">2425</FONT><A NAME="2425"></A></FONT>    <FONT ID="SingleLineComment">//They are calculated manually here and the values collected.
<FONT ID="LN">2426</FONT><A NAME="2426"></A></FONT>    <FONT ID="Double">double</FONT>[] theArray = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[m_numClasses];
<FONT ID="LN">2427</FONT><A NAME="2427"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numClasses; noa++) {
<FONT ID="LN">2428</FONT><A NAME="2428"></A>      theArray[noa] = m_outputs[noa].outputValue(<FONT ID="True">true</FONT>);
<FONT ID="LN">2429</FONT><A NAME="2429"></A>    }
<FONT ID="LN">2430</FONT><A NAME="2430"></A>    <FONT ID="If">if</FONT> (m_instances.classAttribute().isNumeric()) {
<FONT ID="LN">2431</FONT><A NAME="2431"></A>      <FONT ID="Return">return</FONT> theArray;
<FONT ID="LN">2432</FONT><A NAME="2432"></A>    }
<FONT ID="LN">2433</FONT><A NAME="2433"></A>    
<FONT ID="LN">2434</FONT><A NAME="2434"></A>    <FONT ID="SingleLineComment">//now normalize the array
<FONT ID="LN">2435</FONT><A NAME="2435"></A></FONT>    <FONT ID="Double">double</FONT> count = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2436</FONT><A NAME="2436"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numClasses; noa++) {
<FONT ID="LN">2437</FONT><A NAME="2437"></A>      count += theArray[noa];
<FONT ID="LN">2438</FONT><A NAME="2438"></A>    }
<FONT ID="LN">2439</FONT><A NAME="2439"></A>  <FONT ID="SingleLineComment">//  System.out.println("Count: " + count + ".");
<FONT ID="LN">2440</FONT><A NAME="2440"></A></FONT>    <FONT ID="If">if</FONT> (count &lt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2441</FONT><A NAME="2441"></A>      <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;
<FONT ID="LN">2442</FONT><A NAME="2442"></A>    }
<FONT ID="LN">2443</FONT><A NAME="2443"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_numClasses; noa++) {
<FONT ID="LN">2444</FONT><A NAME="2444"></A>        <FONT ID="SingleLineComment">//dmod
<FONT ID="LN">2445</FONT><A NAME="2445"></A></FONT>  <FONT ID="SingleLineComment">//      System.out.println("Array " + noa +":" + theArray[noa]);
<FONT ID="LN">2446</FONT><A NAME="2446"></A></FONT>      theArray[noa] /= count;
<FONT ID="LN">2447</FONT><A NAME="2447"></A>   <FONT ID="SingleLineComment">//   System.out.println(" and " + theArray[noa] +".");      
<FONT ID="LN">2448</FONT><A NAME="2448"></A></FONT>    }
<FONT ID="LN">2449</FONT><A NAME="2449"></A>  <FONT ID="SingleLineComment">//  System.out.println(); System.out.println(); System.out.println();
<FONT ID="LN">2450</FONT><A NAME="2450"></A></FONT>    <FONT ID="Return">return</FONT> theArray;
<FONT ID="LN">2451</FONT><A NAME="2451"></A>  }
<FONT ID="LN">2452</FONT><A NAME="2452"></A>  
<FONT ID="LN">2453</FONT><A NAME="2453"></A>
<FONT ID="LN">2454</FONT><A NAME="2454"></A>
<FONT ID="LN">2455</FONT><A NAME="2455"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2456</FONT><A NAME="2456"></A>   * Returns an enumeration describing the available options.
<FONT ID="LN">2457</FONT><A NAME="2457"></A>   *
<FONT ID="LN">2458</FONT><A NAME="2458"></A>   * @return an enumeration of all the available options.
<FONT ID="LN">2459</FONT><A NAME="2459"></A>   */</FONT>
<FONT ID="LN">2460</FONT><A NAME="2460"></A>  <FONT ID="Public">public</FONT> Enumeration listOptions() {
<FONT ID="LN">2461</FONT><A NAME="2461"></A>    <FONT ID="SingleLineComment">//modCS.S &amp; modCS.V;
<FONT ID="LN">2462</FONT><A NAME="2462"></A></FONT>    <FONT ID="SingleLineComment">//needed more vectors for the increased number of parameters
<FONT ID="LN">2463</FONT><A NAME="2463"></A></FONT>    <A HREF="../../../weka/core/FastVector.java.html">Vector</A> newVector = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">Vector</A>(<FONT ID="IntegerLiteral">16</FONT>);
<FONT ID="LN">2464</FONT><A NAME="2464"></A>
<FONT ID="LN">2465</FONT><A NAME="2465"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2466</FONT><A NAME="2466"></A>          <FONT ID="StringLiteral">"\tLearning Rate for the backpropagation algorithm.\n"</FONT>
<FONT ID="LN">2467</FONT><A NAME="2467"></A>          +<FONT ID="StringLiteral">"\t(Value should be between 0 - 1, Default = 0.3)."</FONT>,
<FONT ID="LN">2468</FONT><A NAME="2468"></A>          <FONT ID="StringLiteral">"L"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-L &lt;learning rate&gt;"</FONT>));
<FONT ID="LN">2469</FONT><A NAME="2469"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2470</FONT><A NAME="2470"></A>          <FONT ID="StringLiteral">"\tMomentum Rate for the backpropagation algorithm.\n"</FONT>
<FONT ID="LN">2471</FONT><A NAME="2471"></A>          +<FONT ID="StringLiteral">"\t(Value should be between 0 - 1, Default = 0.2)."</FONT>,
<FONT ID="LN">2472</FONT><A NAME="2472"></A>          <FONT ID="StringLiteral">"M"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-M &lt;momentum&gt;"</FONT>));
<FONT ID="LN">2473</FONT><A NAME="2473"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2474</FONT><A NAME="2474"></A>          <FONT ID="StringLiteral">"\tNumber of epochs to train through.\n"</FONT>
<FONT ID="LN">2475</FONT><A NAME="2475"></A>          +<FONT ID="StringLiteral">"\t(Default = 500)."</FONT>,
<FONT ID="LN">2476</FONT><A NAME="2476"></A>          <FONT ID="StringLiteral">"N"</FONT>, <FONT ID="IntegerLiteral">1</FONT>,<FONT ID="StringLiteral">"-N &lt;number of epochs&gt;"</FONT>));
<FONT ID="LN">2477</FONT><A NAME="2477"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2478</FONT><A NAME="2478"></A>          <FONT ID="StringLiteral">"\tPercentage size of validation set to use to terminate\n"</FONT>
<FONT ID="LN">2479</FONT><A NAME="2479"></A>          + <FONT ID="StringLiteral">"\ttraining (if this is non zero it can pre-empt num of epochs.\n"</FONT>
<FONT ID="LN">2480</FONT><A NAME="2480"></A>          +<FONT ID="StringLiteral">"\t(Value should be between 0 - 100, Default = 0)."</FONT>,
<FONT ID="LN">2481</FONT><A NAME="2481"></A>          <FONT ID="StringLiteral">"V"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-V &lt;percentage size of validation set&gt;"</FONT>));
<FONT ID="LN">2482</FONT><A NAME="2482"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2483</FONT><A NAME="2483"></A>          <FONT ID="StringLiteral">"\tThe value used to seed the random number generator\n"</FONT>
<FONT ID="LN">2484</FONT><A NAME="2484"></A>          + <FONT ID="StringLiteral">"\t(Value should be &gt;= 0 and and a long, Default = 0)."</FONT>,
<FONT ID="LN">2485</FONT><A NAME="2485"></A>          <FONT ID="StringLiteral">"S"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-S &lt;seed&gt;"</FONT>));
<FONT ID="LN">2486</FONT><A NAME="2486"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2487</FONT><A NAME="2487"></A>          <FONT ID="StringLiteral">"\tThe consequetive number of errors allowed for validation\n"</FONT>
<FONT ID="LN">2488</FONT><A NAME="2488"></A>          + <FONT ID="StringLiteral">"\ttesting before the netwrok terminates.\n"</FONT>
<FONT ID="LN">2489</FONT><A NAME="2489"></A>          + <FONT ID="StringLiteral">"\t(Value should be &gt; 0, Default = 20)."</FONT>,
<FONT ID="LN">2490</FONT><A NAME="2490"></A>          <FONT ID="StringLiteral">"E"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-E &lt;threshold for number of consequetive errors&gt;"</FONT>));
<FONT ID="LN">2491</FONT><A NAME="2491"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2492</FONT><A NAME="2492"></A>              <FONT ID="StringLiteral">"\tGUI will be opened.\n"</FONT>
<FONT ID="LN">2493</FONT><A NAME="2493"></A>          +<FONT ID="StringLiteral">"\t(Use this to bring up a GUI)."</FONT>,
<FONT ID="LN">2494</FONT><A NAME="2494"></A>          <FONT ID="StringLiteral">"G"</FONT>, <FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-G"</FONT>));
<FONT ID="LN">2495</FONT><A NAME="2495"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2496</FONT><A NAME="2496"></A>              <FONT ID="StringLiteral">"\tAutocreation of the network connections will NOT be done.\n"</FONT>
<FONT ID="LN">2497</FONT><A NAME="2497"></A>          +<FONT ID="StringLiteral">"\t(This will be ignored if -G is NOT set)"</FONT>,
<FONT ID="LN">2498</FONT><A NAME="2498"></A>          <FONT ID="StringLiteral">"A"</FONT>, <FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-A"</FONT>));
<FONT ID="LN">2499</FONT><A NAME="2499"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2500</FONT><A NAME="2500"></A>              <FONT ID="StringLiteral">"\tA NominalToBinary filter will NOT automatically be used.\n"</FONT>
<FONT ID="LN">2501</FONT><A NAME="2501"></A>          +<FONT ID="StringLiteral">"\t(Set this to not use a NominalToBinary filter)."</FONT>,
<FONT ID="LN">2502</FONT><A NAME="2502"></A>          <FONT ID="StringLiteral">"B"</FONT>, <FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-B"</FONT>));
<FONT ID="LN">2503</FONT><A NAME="2503"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2504</FONT><A NAME="2504"></A>          <FONT ID="StringLiteral">"\tThe hidden layers to be created for the network.\n"</FONT>
<FONT ID="LN">2505</FONT><A NAME="2505"></A>          + <FONT ID="StringLiteral">"\t(Value should be a list of comma separated Natural \n"</FONT>
<FONT ID="LN">2506</FONT><A NAME="2506"></A>          + <FONT ID="StringLiteral">"\tnumbers or the letters 'a' = (attribs + classes) / 2, \n"</FONT>
<FONT ID="LN">2507</FONT><A NAME="2507"></A>          + <FONT ID="StringLiteral">"\t'i' = attribs, 'o' = classes, 't' = attribs .+ classes)\n"</FONT>
<FONT ID="LN">2508</FONT><A NAME="2508"></A>          + <FONT ID="StringLiteral">"\tfor wildcard values, Default = a)."</FONT>,
<FONT ID="LN">2509</FONT><A NAME="2509"></A>          <FONT ID="StringLiteral">"H"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-H &lt;comma seperated numbers for nodes on each layer&gt;"</FONT>));
<FONT ID="LN">2510</FONT><A NAME="2510"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2511</FONT><A NAME="2511"></A>              <FONT ID="StringLiteral">"\tNormalizing a numeric class will NOT be done.\n"</FONT>
<FONT ID="LN">2512</FONT><A NAME="2512"></A>          +<FONT ID="StringLiteral">"\t(Set this to not normalize the class if it's numeric)."</FONT>,
<FONT ID="LN">2513</FONT><A NAME="2513"></A>          <FONT ID="StringLiteral">"C"</FONT>, <FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-C"</FONT>));
<FONT ID="LN">2514</FONT><A NAME="2514"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2515</FONT><A NAME="2515"></A>              <FONT ID="StringLiteral">"\tNormalizing the attributes will NOT be done.\n"</FONT>
<FONT ID="LN">2516</FONT><A NAME="2516"></A>          +<FONT ID="StringLiteral">"\t(Set this to not normalize the attributes)."</FONT>,
<FONT ID="LN">2517</FONT><A NAME="2517"></A>          <FONT ID="StringLiteral">"I"</FONT>, <FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-I"</FONT>));
<FONT ID="LN">2518</FONT><A NAME="2518"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2519</FONT><A NAME="2519"></A>              <FONT ID="StringLiteral">"\tReseting the network will NOT be allowed.\n"</FONT>
<FONT ID="LN">2520</FONT><A NAME="2520"></A>          +<FONT ID="StringLiteral">"\t(Set this to not allow the network to reset)."</FONT>,
<FONT ID="LN">2521</FONT><A NAME="2521"></A>          <FONT ID="StringLiteral">"R"</FONT>, <FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-R"</FONT>));
<FONT ID="LN">2522</FONT><A NAME="2522"></A>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(
<FONT ID="LN">2523</FONT><A NAME="2523"></A>              <FONT ID="StringLiteral">"\tLearning rate decay will occur.\n"</FONT>
<FONT ID="LN">2524</FONT><A NAME="2524"></A>          +<FONT ID="StringLiteral">"\t(Set this to cause the learning rate to decay)."</FONT>,
<FONT ID="LN">2525</FONT><A NAME="2525"></A>          <FONT ID="StringLiteral">"D"</FONT>, <FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-D"</FONT>));
<FONT ID="LN">2526</FONT><A NAME="2526"></A>    <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">2527</FONT><A NAME="2527"></A></FONT>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(<FONT ID="StringLiteral">"\tValidation set to use, "</FONT> +
<FONT ID="LN">2528</FONT><A NAME="2528"></A>            <FONT ID="StringLiteral">" as drawn from the data source file.\n"</FONT>,
<FONT ID="LN">2529</FONT><A NAME="2529"></A>            <FONT ID="StringLiteral">"validation-set"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-validation-set &lt;data source file&gt;"</FONT>));
<FONT ID="LN">2530</FONT><A NAME="2530"></A>    <FONT ID="SingleLineComment">//modCS.S
<FONT ID="LN">2531</FONT><A NAME="2531"></A></FONT>    newVector.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(<FONT ID="StringLiteral">"\tSecondary task training set to use,"</FONT> +
<FONT ID="LN">2532</FONT><A NAME="2532"></A>            <FONT ID="StringLiteral">" as drawn from the data source file.\n"</FONT>,
<FONT ID="LN">2533</FONT><A NAME="2533"></A>            <FONT ID="StringLiteral">"secondary-training"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-secondary-training &lt;data source file&gt;"</FONT>));
<FONT ID="LN">2534</FONT><A NAME="2534"></A>    <FONT ID="Return">return</FONT> newVector.elements();
<FONT ID="LN">2535</FONT><A NAME="2535"></A>  }
<FONT ID="LN">2536</FONT><A NAME="2536"></A>
<FONT ID="LN">2537</FONT><A NAME="2537"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2538</FONT><A NAME="2538"></A>   * Parses a given list of options. &lt;p/&gt;
<FONT ID="LN">2539</FONT><A NAME="2539"></A>   *
<FONT ID="LN">2540</FONT><A NAME="2540"></A>   &lt;!-- options-start --&gt;
<FONT ID="LN">2541</FONT><A NAME="2541"></A>   * Valid options are: &lt;p/&gt;
<FONT ID="LN">2542</FONT><A NAME="2542"></A>   * 
<FONT ID="LN">2543</FONT><A NAME="2543"></A>   * &lt;pre&gt; -L &amp;lt;learning rate&amp;gt;
<FONT ID="LN">2544</FONT><A NAME="2544"></A>   *  Learning Rate for the backpropagation algorithm.
<FONT ID="LN">2545</FONT><A NAME="2545"></A>   *  (Value should be between 0 - 1, Default = 0.3).&lt;/pre&gt;
<FONT ID="LN">2546</FONT><A NAME="2546"></A>   * 
<FONT ID="LN">2547</FONT><A NAME="2547"></A>   * &lt;pre&gt; -M &amp;lt;momentum&amp;gt;
<FONT ID="LN">2548</FONT><A NAME="2548"></A>   *  Momentum Rate for the backpropagation algorithm.
<FONT ID="LN">2549</FONT><A NAME="2549"></A>   *  (Value should be between 0 - 1, Default = 0.2).&lt;/pre&gt;
<FONT ID="LN">2550</FONT><A NAME="2550"></A>   * 
<FONT ID="LN">2551</FONT><A NAME="2551"></A>   * &lt;pre&gt; -N &amp;lt;number of epochs&amp;gt;
<FONT ID="LN">2552</FONT><A NAME="2552"></A>   *  Number of epochs to train through.
<FONT ID="LN">2553</FONT><A NAME="2553"></A>   *  (Default = 500).&lt;/pre&gt;
<FONT ID="LN">2554</FONT><A NAME="2554"></A>   * 
<FONT ID="LN">2555</FONT><A NAME="2555"></A>   * &lt;pre&gt; -V &amp;lt;percentage size of validation set&amp;gt;
<FONT ID="LN">2556</FONT><A NAME="2556"></A>   *  Percentage size of validation set to use to terminate
<FONT ID="LN">2557</FONT><A NAME="2557"></A>   *  training (if this is non zero it can pre-empt num of epochs.
<FONT ID="LN">2558</FONT><A NAME="2558"></A>   *  (Value should be between 0 - 100, Default = 0).&lt;/pre&gt;
<FONT ID="LN">2559</FONT><A NAME="2559"></A>   * 
<FONT ID="LN">2560</FONT><A NAME="2560"></A>   * &lt;pre&gt; -S &amp;lt;seed&amp;gt;
<FONT ID="LN">2561</FONT><A NAME="2561"></A>   *  The value used to seed the random number generator
<FONT ID="LN">2562</FONT><A NAME="2562"></A>   *  (Value should be &amp;gt;= 0 and and a long, Default = 0).&lt;/pre&gt;
<FONT ID="LN">2563</FONT><A NAME="2563"></A>   * 
<FONT ID="LN">2564</FONT><A NAME="2564"></A>   * &lt;pre&gt; -E &amp;lt;threshold for number of consequetive errors&amp;gt;
<FONT ID="LN">2565</FONT><A NAME="2565"></A>   *  The consequetive number of errors allowed for validation
<FONT ID="LN">2566</FONT><A NAME="2566"></A>   *  testing before the netwrok terminates.
<FONT ID="LN">2567</FONT><A NAME="2567"></A>   *  (Value should be &amp;gt; 0, Default = 20).&lt;/pre&gt;
<FONT ID="LN">2568</FONT><A NAME="2568"></A>   * 
<FONT ID="LN">2569</FONT><A NAME="2569"></A>   * &lt;pre&gt; -G
<FONT ID="LN">2570</FONT><A NAME="2570"></A>   *  GUI will be opened.
<FONT ID="LN">2571</FONT><A NAME="2571"></A>   *  (Use this to bring up a GUI).&lt;/pre&gt;
<FONT ID="LN">2572</FONT><A NAME="2572"></A>   * 
<FONT ID="LN">2573</FONT><A NAME="2573"></A>   * &lt;pre&gt; -A
<FONT ID="LN">2574</FONT><A NAME="2574"></A>   *  Autocreation of the network connections will NOT be done.
<FONT ID="LN">2575</FONT><A NAME="2575"></A>   *  (This will be ignored if -G is NOT set)&lt;/pre&gt;
<FONT ID="LN">2576</FONT><A NAME="2576"></A>   * 
<FONT ID="LN">2577</FONT><A NAME="2577"></A>   * &lt;pre&gt; -B
<FONT ID="LN">2578</FONT><A NAME="2578"></A>   *  A NominalToBinary filter will NOT automatically be used.
<FONT ID="LN">2579</FONT><A NAME="2579"></A>   *  (Set this to not use a NominalToBinary filter).&lt;/pre&gt;
<FONT ID="LN">2580</FONT><A NAME="2580"></A>   * 
<FONT ID="LN">2581</FONT><A NAME="2581"></A>   * &lt;pre&gt; -H &amp;lt;comma seperated numbers for nodes on each layer&amp;gt;
<FONT ID="LN">2582</FONT><A NAME="2582"></A>   *  The hidden layers to be created for the network.
<FONT ID="LN">2583</FONT><A NAME="2583"></A>   *  (Value should be a list of comma separated Natural 
<FONT ID="LN">2584</FONT><A NAME="2584"></A>   *  numbers or the letters 'a' = (attribs + classes) / 2, 
<FONT ID="LN">2585</FONT><A NAME="2585"></A>   *  'i' = attribs, 'o' = classes, 't' = attribs .+ classes)
<FONT ID="LN">2586</FONT><A NAME="2586"></A>   *  for wildcard values, Default = a).&lt;/pre&gt;
<FONT ID="LN">2587</FONT><A NAME="2587"></A>   * 
<FONT ID="LN">2588</FONT><A NAME="2588"></A>   * &lt;pre&gt; -C
<FONT ID="LN">2589</FONT><A NAME="2589"></A>   *  Normalizing a numeric class will NOT be done.
<FONT ID="LN">2590</FONT><A NAME="2590"></A>   *  (Set this to not normalize the class if it's numeric).&lt;/pre&gt;
<FONT ID="LN">2591</FONT><A NAME="2591"></A>   * 
<FONT ID="LN">2592</FONT><A NAME="2592"></A>   * &lt;pre&gt; -I
<FONT ID="LN">2593</FONT><A NAME="2593"></A>   *  Normalizing the attributes will NOT be done.
<FONT ID="LN">2594</FONT><A NAME="2594"></A>   *  (Set this to not normalize the attributes).&lt;/pre&gt;
<FONT ID="LN">2595</FONT><A NAME="2595"></A>   * 
<FONT ID="LN">2596</FONT><A NAME="2596"></A>   * &lt;pre&gt; -R
<FONT ID="LN">2597</FONT><A NAME="2597"></A>   *  Reseting the network will NOT be allowed.
<FONT ID="LN">2598</FONT><A NAME="2598"></A>   *  (Set this to not allow the network to reset).&lt;/pre&gt;
<FONT ID="LN">2599</FONT><A NAME="2599"></A>   * 
<FONT ID="LN">2600</FONT><A NAME="2600"></A>   * &lt;pre&gt; -D
<FONT ID="LN">2601</FONT><A NAME="2601"></A>   *  Learning rate decay will occur.
<FONT ID="LN">2602</FONT><A NAME="2602"></A>   *  (Set this to cause the learning rate to decay).&lt;/pre&gt;
<FONT ID="LN">2603</FONT><A NAME="2603"></A>   * 
<FONT ID="LN">2604</FONT><A NAME="2604"></A>   * &lt;pre&gt; -validation-set &amp;lt;data source file&amp;gt;
<FONT ID="LN">2605</FONT><A NAME="2605"></A>   *  Validation set to use,  as drawn from the data source file.
<FONT ID="LN">2606</FONT><A NAME="2606"></A>   * &lt;/pre&gt;
<FONT ID="LN">2607</FONT><A NAME="2607"></A>   * 
<FONT ID="LN">2608</FONT><A NAME="2608"></A>   * &lt;pre&gt; -secondary-training &amp;lt;data source file&amp;gt;
<FONT ID="LN">2609</FONT><A NAME="2609"></A>   *  Secondary task training set to use, as drawn from the data source file.
<FONT ID="LN">2610</FONT><A NAME="2610"></A>   * &lt;/pre&gt;
<FONT ID="LN">2611</FONT><A NAME="2611"></A>   * 
<FONT ID="LN">2612</FONT><A NAME="2612"></A>   &lt;!-- options-end --&gt;
<FONT ID="LN">2613</FONT><A NAME="2613"></A>   *
<FONT ID="LN">2614</FONT><A NAME="2614"></A>   * @param options the list of options as an array of strings
<FONT ID="LN">2615</FONT><A NAME="2615"></A>   * @throws Exception if an option is not supported
<FONT ID="LN">2616</FONT><A NAME="2616"></A>   */</FONT>
<FONT ID="LN">2617</FONT><A NAME="2617"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setOptions(String[] options) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">2618</FONT><A NAME="2618"></A>    <FONT ID="SingleLineComment">//the defaults can be found here!!!!
<FONT ID="LN">2619</FONT><A NAME="2619"></A></FONT>    String learningString = Utils.getOption(<FONT ID="CharacerLiteral">'L'</FONT>, options);
<FONT ID="LN">2620</FONT><A NAME="2620"></A>    <FONT ID="If">if</FONT> (learningString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2621</FONT><A NAME="2621"></A>      setLearningRate((<FONT ID="New">new</FONT> Double(learningString)).doubleValue());
<FONT ID="LN">2622</FONT><A NAME="2622"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2623</FONT><A NAME="2623"></A>      setLearningRate(<FONT ID="FloatPointLiteral">0.3</FONT>);
<FONT ID="LN">2624</FONT><A NAME="2624"></A>    }
<FONT ID="LN">2625</FONT><A NAME="2625"></A>    String momentumString = Utils.getOption(<FONT ID="CharacerLiteral">'M'</FONT>, options);
<FONT ID="LN">2626</FONT><A NAME="2626"></A>    <FONT ID="If">if</FONT> (momentumString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2627</FONT><A NAME="2627"></A>      setMomentum((<FONT ID="New">new</FONT> Double(momentumString)).doubleValue());
<FONT ID="LN">2628</FONT><A NAME="2628"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2629</FONT><A NAME="2629"></A>      setMomentum(<FONT ID="FloatPointLiteral">0.2</FONT>);
<FONT ID="LN">2630</FONT><A NAME="2630"></A>    }
<FONT ID="LN">2631</FONT><A NAME="2631"></A>    String epochsString = Utils.getOption(<FONT ID="CharacerLiteral">'N'</FONT>, options);
<FONT ID="LN">2632</FONT><A NAME="2632"></A>    <FONT ID="If">if</FONT> (epochsString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2633</FONT><A NAME="2633"></A>      setTrainingTime(Integer.parseInt(epochsString));
<FONT ID="LN">2634</FONT><A NAME="2634"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2635</FONT><A NAME="2635"></A>      setTrainingTime(<FONT ID="IntegerLiteral">500</FONT>);
<FONT ID="LN">2636</FONT><A NAME="2636"></A>    }
<FONT ID="LN">2637</FONT><A NAME="2637"></A>    String valSizeString = Utils.getOption(<FONT ID="CharacerLiteral">'V'</FONT>, options);
<FONT ID="LN">2638</FONT><A NAME="2638"></A>    <FONT ID="If">if</FONT> (valSizeString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2639</FONT><A NAME="2639"></A>      setValidationSetSize(Integer.parseInt(valSizeString));
<FONT ID="LN">2640</FONT><A NAME="2640"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2641</FONT><A NAME="2641"></A>      setValidationSetSize(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">2642</FONT><A NAME="2642"></A>    }
<FONT ID="LN">2643</FONT><A NAME="2643"></A>    String seedString = Utils.getOption(<FONT ID="CharacerLiteral">'S'</FONT>, options);
<FONT ID="LN">2644</FONT><A NAME="2644"></A>    <FONT ID="If">if</FONT> (seedString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2645</FONT><A NAME="2645"></A>      setSeed(Integer.parseInt(seedString));
<FONT ID="LN">2646</FONT><A NAME="2646"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2647</FONT><A NAME="2647"></A>      setSeed(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">2648</FONT><A NAME="2648"></A>    }
<FONT ID="LN">2649</FONT><A NAME="2649"></A>    String thresholdString = Utils.getOption(<FONT ID="CharacerLiteral">'E'</FONT>, options);
<FONT ID="LN">2650</FONT><A NAME="2650"></A>    <FONT ID="If">if</FONT> (thresholdString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2651</FONT><A NAME="2651"></A>      setValidationThreshold(Integer.parseInt(thresholdString));
<FONT ID="LN">2652</FONT><A NAME="2652"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2653</FONT><A NAME="2653"></A>      setValidationThreshold(<FONT ID="IntegerLiteral">20</FONT>);
<FONT ID="LN">2654</FONT><A NAME="2654"></A>    }
<FONT ID="LN">2655</FONT><A NAME="2655"></A>    String hiddenLayers = Utils.getOption(<FONT ID="CharacerLiteral">'H'</FONT>, options);
<FONT ID="LN">2656</FONT><A NAME="2656"></A>    <FONT ID="If">if</FONT> (hiddenLayers.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2657</FONT><A NAME="2657"></A>      setHiddenLayers(hiddenLayers);
<FONT ID="LN">2658</FONT><A NAME="2658"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2659</FONT><A NAME="2659"></A>      setHiddenLayers(<FONT ID="StringLiteral">"a"</FONT>);
<FONT ID="LN">2660</FONT><A NAME="2660"></A>    }
<FONT ID="LN">2661</FONT><A NAME="2661"></A>    <FONT ID="If">if</FONT> (Utils.getFlag(<FONT ID="CharacerLiteral">'G'</FONT>, options)) {
<FONT ID="LN">2662</FONT><A NAME="2662"></A>      setGUI(<FONT ID="True">true</FONT>);
<FONT ID="LN">2663</FONT><A NAME="2663"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2664</FONT><A NAME="2664"></A>      setGUI(<FONT ID="False">false</FONT>);
<FONT ID="LN">2665</FONT><A NAME="2665"></A>    } <FONT ID="SingleLineComment">//small note. since the gui is the only option that can change the other
<FONT ID="LN">2666</FONT><A NAME="2666"></A></FONT>    <FONT ID="SingleLineComment">//options this should be set first to allow the other options to set 
<FONT ID="LN">2667</FONT><A NAME="2667"></A></FONT>    <FONT ID="SingleLineComment">//properly
<FONT ID="LN">2668</FONT><A NAME="2668"></A></FONT>    <FONT ID="If">if</FONT> (Utils.getFlag(<FONT ID="CharacerLiteral">'A'</FONT>, options)) {
<FONT ID="LN">2669</FONT><A NAME="2669"></A>      setAutoBuild(<FONT ID="False">false</FONT>);
<FONT ID="LN">2670</FONT><A NAME="2670"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2671</FONT><A NAME="2671"></A>      setAutoBuild(<FONT ID="True">true</FONT>);
<FONT ID="LN">2672</FONT><A NAME="2672"></A>    }
<FONT ID="LN">2673</FONT><A NAME="2673"></A>    <FONT ID="If">if</FONT> (Utils.getFlag(<FONT ID="CharacerLiteral">'B'</FONT>, options)) {
<FONT ID="LN">2674</FONT><A NAME="2674"></A>      setNominalToBinaryFilter(<FONT ID="False">false</FONT>);
<FONT ID="LN">2675</FONT><A NAME="2675"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2676</FONT><A NAME="2676"></A>      setNominalToBinaryFilter(<FONT ID="True">true</FONT>);
<FONT ID="LN">2677</FONT><A NAME="2677"></A>    }
<FONT ID="LN">2678</FONT><A NAME="2678"></A>    <FONT ID="If">if</FONT> (Utils.getFlag(<FONT ID="CharacerLiteral">'C'</FONT>, options)) {
<FONT ID="LN">2679</FONT><A NAME="2679"></A>      setNormalizeNumericClass(<FONT ID="False">false</FONT>);
<FONT ID="LN">2680</FONT><A NAME="2680"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2681</FONT><A NAME="2681"></A>      setNormalizeNumericClass(<FONT ID="True">true</FONT>);
<FONT ID="LN">2682</FONT><A NAME="2682"></A>    }
<FONT ID="LN">2683</FONT><A NAME="2683"></A>    <FONT ID="If">if</FONT> (Utils.getFlag(<FONT ID="CharacerLiteral">'I'</FONT>, options)) {
<FONT ID="LN">2684</FONT><A NAME="2684"></A>      setNormalizeAttributes(<FONT ID="False">false</FONT>);
<FONT ID="LN">2685</FONT><A NAME="2685"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2686</FONT><A NAME="2686"></A>      setNormalizeAttributes(<FONT ID="True">true</FONT>);
<FONT ID="LN">2687</FONT><A NAME="2687"></A>    }
<FONT ID="LN">2688</FONT><A NAME="2688"></A>    <FONT ID="If">if</FONT> (Utils.getFlag(<FONT ID="CharacerLiteral">'R'</FONT>, options)) {
<FONT ID="LN">2689</FONT><A NAME="2689"></A>      setReset(<FONT ID="False">false</FONT>);
<FONT ID="LN">2690</FONT><A NAME="2690"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2691</FONT><A NAME="2691"></A>      setReset(<FONT ID="True">true</FONT>);
<FONT ID="LN">2692</FONT><A NAME="2692"></A>    }
<FONT ID="LN">2693</FONT><A NAME="2693"></A>    <FONT ID="If">if</FONT> (Utils.getFlag(<FONT ID="CharacerLiteral">'D'</FONT>, options)) {
<FONT ID="LN">2694</FONT><A NAME="2694"></A>      setDecay(<FONT ID="True">true</FONT>);
<FONT ID="LN">2695</FONT><A NAME="2695"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2696</FONT><A NAME="2696"></A>      setDecay(<FONT ID="False">false</FONT>);
<FONT ID="LN">2697</FONT><A NAME="2697"></A>    }
<FONT ID="LN">2698</FONT><A NAME="2698"></A>
<FONT ID="LN">2699</FONT><A NAME="2699"></A>    <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">2700</FONT><A NAME="2700"></A></FONT>    String sValFile = Utils.getOption(<FONT ID="StringLiteral">"validation-set"</FONT>, options);
<FONT ID="LN">2701</FONT><A NAME="2701"></A>    <FONT ID="If">if</FONT> (sValFile != <FONT ID="Null">null</FONT> &amp;&amp; !sValFile.equals(<FONT ID="StringLiteral">""</FONT>)) {
<FONT ID="LN">2702</FONT><A NAME="2702"></A>      setValFile(sValFile);
<FONT ID="LN">2703</FONT><A NAME="2703"></A>    }
<FONT ID="LN">2704</FONT><A NAME="2704"></A>
<FONT ID="LN">2705</FONT><A NAME="2705"></A>    <FONT ID="SingleLineComment">//modCS.S
<FONT ID="LN">2706</FONT><A NAME="2706"></A></FONT>    String sSecFile = Utils.getOption(<FONT ID="StringLiteral">"secondary-training"</FONT>, options);
<FONT ID="LN">2707</FONT><A NAME="2707"></A>    <FONT ID="If">if</FONT> (sSecFile != <FONT ID="Null">null</FONT> &amp;&amp; !sSecFile.equals(<FONT ID="StringLiteral">""</FONT>)) {
<FONT ID="LN">2708</FONT><A NAME="2708"></A>      setSecFile(sSecFile);
<FONT ID="LN">2709</FONT><A NAME="2709"></A>    }    
<FONT ID="LN">2710</FONT><A NAME="2710"></A>    
<FONT ID="LN">2711</FONT><A NAME="2711"></A>    Utils.checkForRemainingOptions(options);
<FONT ID="LN">2712</FONT><A NAME="2712"></A>  }
<FONT ID="LN">2713</FONT><A NAME="2713"></A>  
<FONT ID="LN">2714</FONT><A NAME="2714"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2715</FONT><A NAME="2715"></A>   * Gets the current settings of NeuralNet.
<FONT ID="LN">2716</FONT><A NAME="2716"></A>   *
<FONT ID="LN">2717</FONT><A NAME="2717"></A>   * @return an array of strings suitable for passing to setOptions()
<FONT ID="LN">2718</FONT><A NAME="2718"></A>   */</FONT>
<FONT ID="LN">2719</FONT><A NAME="2719"></A>  <FONT ID="Public">public</FONT> String [] getOptions() {
<FONT ID="LN">2720</FONT><A NAME="2720"></A>    <FONT ID="SingleLineComment">//modCS.S &amp; modCS.V; more options, so we need a larger array.
<FONT ID="LN">2721</FONT><A NAME="2721"></A></FONT>    String [] options = <FONT ID="New">new</FONT> String [<FONT ID="IntegerLiteral">21</FONT>];
<FONT ID="LN">2722</FONT><A NAME="2722"></A>    <FONT ID="Int">int</FONT> current = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2723</FONT><A NAME="2723"></A>    options[current++] = <FONT ID="StringLiteral">"-L"</FONT>; options[current++] = <FONT ID="StringLiteral">""</FONT> + getLearningRate(); 
<FONT ID="LN">2724</FONT><A NAME="2724"></A>    options[current++] = <FONT ID="StringLiteral">"-M"</FONT>; options[current++] = <FONT ID="StringLiteral">""</FONT> + getMomentum();
<FONT ID="LN">2725</FONT><A NAME="2725"></A>    options[current++] = <FONT ID="StringLiteral">"-N"</FONT>; options[current++] = <FONT ID="StringLiteral">""</FONT> + getTrainingTime(); 
<FONT ID="LN">2726</FONT><A NAME="2726"></A>    options[current++] = <FONT ID="StringLiteral">"-V"</FONT>; options[current++] = <FONT ID="StringLiteral">""</FONT> +getValidationSetSize();
<FONT ID="LN">2727</FONT><A NAME="2727"></A>    options[current++] = <FONT ID="StringLiteral">"-S"</FONT>; options[current++] = <FONT ID="StringLiteral">""</FONT> + getSeed();
<FONT ID="LN">2728</FONT><A NAME="2728"></A>    options[current++] = <FONT ID="StringLiteral">"-E"</FONT>; options[current++] =<FONT ID="StringLiteral">""</FONT>+getValidationThreshold();
<FONT ID="LN">2729</FONT><A NAME="2729"></A>    options[current++] = <FONT ID="StringLiteral">"-H"</FONT>; options[current++] = getHiddenLayers();
<FONT ID="LN">2730</FONT><A NAME="2730"></A>    <FONT ID="If">if</FONT> (getGUI()) {
<FONT ID="LN">2731</FONT><A NAME="2731"></A>      options[current++] = <FONT ID="StringLiteral">"-G"</FONT>;
<FONT ID="LN">2732</FONT><A NAME="2732"></A>    }
<FONT ID="LN">2733</FONT><A NAME="2733"></A>    <FONT ID="If">if</FONT> (!getAutoBuild()) {
<FONT ID="LN">2734</FONT><A NAME="2734"></A>      options[current++] = <FONT ID="StringLiteral">"-A"</FONT>;
<FONT ID="LN">2735</FONT><A NAME="2735"></A>    }
<FONT ID="LN">2736</FONT><A NAME="2736"></A>    <FONT ID="If">if</FONT> (!getNominalToBinaryFilter()) {
<FONT ID="LN">2737</FONT><A NAME="2737"></A>      options[current++] = <FONT ID="StringLiteral">"-B"</FONT>;
<FONT ID="LN">2738</FONT><A NAME="2738"></A>    }
<FONT ID="LN">2739</FONT><A NAME="2739"></A>    <FONT ID="If">if</FONT> (!getNormalizeNumericClass()) {
<FONT ID="LN">2740</FONT><A NAME="2740"></A>      options[current++] = <FONT ID="StringLiteral">"-C"</FONT>;
<FONT ID="LN">2741</FONT><A NAME="2741"></A>    }
<FONT ID="LN">2742</FONT><A NAME="2742"></A>    <FONT ID="If">if</FONT> (!getNormalizeAttributes()) {
<FONT ID="LN">2743</FONT><A NAME="2743"></A>      options[current++] = <FONT ID="StringLiteral">"-I"</FONT>;
<FONT ID="LN">2744</FONT><A NAME="2744"></A>    }
<FONT ID="LN">2745</FONT><A NAME="2745"></A>    <FONT ID="If">if</FONT> (!getReset()) {
<FONT ID="LN">2746</FONT><A NAME="2746"></A>      options[current++] = <FONT ID="StringLiteral">"-R"</FONT>;
<FONT ID="LN">2747</FONT><A NAME="2747"></A>    }
<FONT ID="LN">2748</FONT><A NAME="2748"></A>    <FONT ID="If">if</FONT> (getDecay()) {
<FONT ID="LN">2749</FONT><A NAME="2749"></A>      options[current++] = <FONT ID="StringLiteral">"-D"</FONT>;
<FONT ID="LN">2750</FONT><A NAME="2750"></A>    }
<FONT ID="LN">2751</FONT><A NAME="2751"></A>
<FONT ID="LN">2752</FONT><A NAME="2752"></A>    <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">2753</FONT><A NAME="2753"></A></FONT>    <FONT ID="If">if</FONT> (m_valSet != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">2754</FONT><A NAME="2754"></A>      options[current++] = <FONT ID="StringLiteral">"-validation-set"</FONT>;
<FONT ID="LN">2755</FONT><A NAME="2755"></A>      options[current++] = m_valSetFileName;
<FONT ID="LN">2756</FONT><A NAME="2756"></A>    }    
<FONT ID="LN">2757</FONT><A NAME="2757"></A>    <FONT ID="SingleLineComment">//modCS.S
<FONT ID="LN">2758</FONT><A NAME="2758"></A></FONT>    <FONT ID="If">if</FONT> (m_secSet != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">2759</FONT><A NAME="2759"></A>      options[current++] = <FONT ID="StringLiteral">"-secondary-training"</FONT>;
<FONT ID="LN">2760</FONT><A NAME="2760"></A>      options[current++] = m_secSetFileName;
<FONT ID="LN">2761</FONT><A NAME="2761"></A>    }        
<FONT ID="LN">2762</FONT><A NAME="2762"></A>    
<FONT ID="LN">2763</FONT><A NAME="2763"></A>    <FONT ID="While">while</FONT> (current &lt; options.length) {
<FONT ID="LN">2764</FONT><A NAME="2764"></A>      options[current++] = <FONT ID="StringLiteral">""</FONT>;
<FONT ID="LN">2765</FONT><A NAME="2765"></A>    }
<FONT ID="LN">2766</FONT><A NAME="2766"></A>    <FONT ID="Return">return</FONT> options;
<FONT ID="LN">2767</FONT><A NAME="2767"></A>  }
<FONT ID="LN">2768</FONT><A NAME="2768"></A>  
<FONT ID="LN">2769</FONT><A NAME="2769"></A>  <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">2770</FONT><A NAME="2770"></A></FONT>  <FONT ID="FormalComment">/**
<FONT ID="LN">2771</FONT><A NAME="2771"></A>   * Loads and stores validation file information from the given file name.
<FONT ID="LN">2772</FONT><A NAME="2772"></A>   * @param sValFile the name of the data source file
<FONT ID="LN">2773</FONT><A NAME="2773"></A>   */</FONT>
<FONT ID="LN">2774</FONT><A NAME="2774"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setValFile(String sValFile) 
<FONT ID="LN">2775</FONT><A NAME="2775"></A>  {     
<FONT ID="LN">2776</FONT><A NAME="2776"></A>      <FONT ID="Try">try</FONT>
<FONT ID="LN">2777</FONT><A NAME="2777"></A>      {
<FONT ID="LN">2778</FONT><A NAME="2778"></A>         m_valSetFileName = sValFile; 
<FONT ID="LN">2779</FONT><A NAME="2779"></A>         m_valSetSource = <FONT ID="New">new</FONT> DataSource(sValFile);         
<FONT ID="LN">2780</FONT><A NAME="2780"></A>         m_valSet = m_valSetSource.getDataSet();
<FONT ID="LN">2781</FONT><A NAME="2781"></A>         <FONT ID="If">if</FONT> (m_valSet.classIndex() == -<FONT ID="IntegerLiteral">1</FONT>)
<FONT ID="LN">2782</FONT><A NAME="2782"></A>             m_valSet.setClassIndex(m_valSet.numAttributes() - <FONT ID="IntegerLiteral">1</FONT>); 
<FONT ID="LN">2783</FONT><A NAME="2783"></A>        
<FONT ID="LN">2784</FONT><A NAME="2784"></A>         m_valSet.deleteWithMissingClass();
<FONT ID="LN">2785</FONT><A NAME="2785"></A>      }
<FONT ID="LN">2786</FONT><A NAME="2786"></A>      <FONT ID="Catch">catch</FONT> (Throwable t)
<FONT ID="LN">2787</FONT><A NAME="2787"></A>      {
<FONT ID="LN">2788</FONT><A NAME="2788"></A>          m_valSetFileName = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2789</FONT><A NAME="2789"></A>          m_valSetSource = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2790</FONT><A NAME="2790"></A>          m_valSet = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2791</FONT><A NAME="2791"></A>      }
<FONT ID="LN">2792</FONT><A NAME="2792"></A>  }
<FONT ID="LN">2793</FONT><A NAME="2793"></A>
<FONT ID="LN">2794</FONT><A NAME="2794"></A>  <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">2795</FONT><A NAME="2795"></A></FONT>  <FONT ID="FormalComment">/**
<FONT ID="LN">2796</FONT><A NAME="2796"></A>   * Get the name of the validation file.
<FONT ID="LN">2797</FONT><A NAME="2797"></A>   * @return Validation set file name
<FONT ID="LN">2798</FONT><A NAME="2798"></A>   */</FONT>
<FONT ID="LN">2799</FONT><A NAME="2799"></A>  <FONT ID="Public">public</FONT> String getValFile() {
<FONT ID="LN">2800</FONT><A NAME="2800"></A>    <FONT ID="If">if</FONT> (m_valSetFileName != <FONT ID="Null">null</FONT>) 
<FONT ID="LN">2801</FONT><A NAME="2801"></A>    {
<FONT ID="LN">2802</FONT><A NAME="2802"></A>        <FONT ID="Return">return</FONT> m_valSetFileName;
<FONT ID="LN">2803</FONT><A NAME="2803"></A>    }
<FONT ID="LN">2804</FONT><A NAME="2804"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">""</FONT>;
<FONT ID="LN">2805</FONT><A NAME="2805"></A>  }  
<FONT ID="LN">2806</FONT><A NAME="2806"></A>  
<FONT ID="LN">2807</FONT><A NAME="2807"></A>  <FONT ID="SingleLineComment">//modCS.S
<FONT ID="LN">2808</FONT><A NAME="2808"></A></FONT>  <FONT ID="FormalComment">/**
<FONT ID="LN">2809</FONT><A NAME="2809"></A>   * Loads and stores secondary task training file information from the given
<FONT ID="LN">2810</FONT><A NAME="2810"></A>   * file name.
<FONT ID="LN">2811</FONT><A NAME="2811"></A>   * @param sSecFile the name of the data source file
<FONT ID="LN">2812</FONT><A NAME="2812"></A>   */</FONT>
<FONT ID="LN">2813</FONT><A NAME="2813"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setSecFile(String sSecFile) 
<FONT ID="LN">2814</FONT><A NAME="2814"></A>  {     
<FONT ID="LN">2815</FONT><A NAME="2815"></A>      <FONT ID="Try">try</FONT>
<FONT ID="LN">2816</FONT><A NAME="2816"></A>      {
<FONT ID="LN">2817</FONT><A NAME="2817"></A>         m_secSetFileName = sSecFile; 
<FONT ID="LN">2818</FONT><A NAME="2818"></A>         m_secSetSource = <FONT ID="New">new</FONT> DataSource(sSecFile);         
<FONT ID="LN">2819</FONT><A NAME="2819"></A>         m_secSet = m_secSetSource.getDataSet();
<FONT ID="LN">2820</FONT><A NAME="2820"></A>         <FONT ID="If">if</FONT> (m_secSet.classIndex() == -<FONT ID="IntegerLiteral">1</FONT>)
<FONT ID="LN">2821</FONT><A NAME="2821"></A>             m_secSet.setClassIndex(m_secSet.numAttributes() - <FONT ID="IntegerLiteral">1</FONT>); 
<FONT ID="LN">2822</FONT><A NAME="2822"></A>                
<FONT ID="LN">2823</FONT><A NAME="2823"></A>         m_secSet.deleteWithMissingClass();
<FONT ID="LN">2824</FONT><A NAME="2824"></A>      }
<FONT ID="LN">2825</FONT><A NAME="2825"></A>      <FONT ID="Catch">catch</FONT> (Throwable t)
<FONT ID="LN">2826</FONT><A NAME="2826"></A>      {
<FONT ID="LN">2827</FONT><A NAME="2827"></A>          m_secSetFileName = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2828</FONT><A NAME="2828"></A>          m_secSetSource = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2829</FONT><A NAME="2829"></A>          m_secSet = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2830</FONT><A NAME="2830"></A>      }
<FONT ID="LN">2831</FONT><A NAME="2831"></A>  }
<FONT ID="LN">2832</FONT><A NAME="2832"></A>
<FONT ID="LN">2833</FONT><A NAME="2833"></A>  <FONT ID="SingleLineComment">//modCS.S
<FONT ID="LN">2834</FONT><A NAME="2834"></A></FONT>  <FONT ID="FormalComment">/**
<FONT ID="LN">2835</FONT><A NAME="2835"></A>   * Get the name of the secondary task training file.
<FONT ID="LN">2836</FONT><A NAME="2836"></A>   * @return Secondary task training set file name
<FONT ID="LN">2837</FONT><A NAME="2837"></A>   */</FONT>
<FONT ID="LN">2838</FONT><A NAME="2838"></A>  <FONT ID="Public">public</FONT> String getSecFile() {
<FONT ID="LN">2839</FONT><A NAME="2839"></A>    <FONT ID="If">if</FONT> (m_secSetFileName != <FONT ID="Null">null</FONT>) 
<FONT ID="LN">2840</FONT><A NAME="2840"></A>    {
<FONT ID="LN">2841</FONT><A NAME="2841"></A>        <FONT ID="Return">return</FONT> m_secSetFileName;
<FONT ID="LN">2842</FONT><A NAME="2842"></A>    }
<FONT ID="LN">2843</FONT><A NAME="2843"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">""</FONT>;
<FONT ID="LN">2844</FONT><A NAME="2844"></A>  }    
<FONT ID="LN">2845</FONT><A NAME="2845"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2846</FONT><A NAME="2846"></A>   * @return string describing the model.
<FONT ID="LN">2847</FONT><A NAME="2847"></A>   */</FONT>
<FONT ID="LN">2848</FONT><A NAME="2848"></A>  <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">2849</FONT><A NAME="2849"></A>    <FONT ID="SingleLineComment">// only ZeroR model?
<FONT ID="LN">2850</FONT><A NAME="2850"></A></FONT>    <FONT ID="If">if</FONT> (m_ZeroR != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">2851</FONT><A NAME="2851"></A>      StringBuffer buf = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">2852</FONT><A NAME="2852"></A>      buf.append(<FONT ID="This">this</FONT>.getClass().getName().replaceAll(<FONT ID="StringLiteral">".*\\."</FONT>, <FONT ID="StringLiteral">""</FONT>) + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">2853</FONT><A NAME="2853"></A>      buf.append(<FONT ID="This">this</FONT>.getClass().getName().replaceAll(<FONT ID="StringLiteral">".*\\."</FONT>, <FONT ID="StringLiteral">""</FONT>).replaceAll(<FONT ID="StringLiteral">"."</FONT>, <FONT ID="StringLiteral">"="</FONT>) + <FONT ID="StringLiteral">"\n\n"</FONT>);
<FONT ID="LN">2854</FONT><A NAME="2854"></A>      buf.append(<FONT ID="StringLiteral">"Warning: No model could be built, hence ZeroR model is used:\n\n"</FONT>);
<FONT ID="LN">2855</FONT><A NAME="2855"></A>      buf.append(m_ZeroR.toString());
<FONT ID="LN">2856</FONT><A NAME="2856"></A>      <FONT ID="Return">return</FONT> buf.toString();
<FONT ID="LN">2857</FONT><A NAME="2857"></A>    }
<FONT ID="LN">2858</FONT><A NAME="2858"></A>    
<FONT ID="LN">2859</FONT><A NAME="2859"></A>    StringBuffer model = <FONT ID="New">new</FONT> StringBuffer(m_neuralNodes.length * <FONT ID="IntegerLiteral">100</FONT>); 
<FONT ID="LN">2860</FONT><A NAME="2860"></A>    <FONT ID="SingleLineComment">//just a rough size guess
<FONT ID="LN">2861</FONT><A NAME="2861"></A></FONT>    <A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A> con;
<FONT ID="LN">2862</FONT><A NAME="2862"></A>    <FONT ID="Double">double</FONT>[] weights;
<FONT ID="LN">2863</FONT><A NAME="2863"></A>    <A HREF="../../../weka/classifiers/functions/neural/NeuralConnection.java.html">NeuralConnection</A>[] inputs;
<FONT ID="LN">2864</FONT><A NAME="2864"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_neuralNodes.length; noa++) {
<FONT ID="LN">2865</FONT><A NAME="2865"></A>      con = (<A HREF="../../../weka/classifiers/functions/neural/NeuralNode.java.html">NeuralNode</A>) m_neuralNodes[noa];  <FONT ID="SingleLineComment">//this would need a change
<FONT ID="LN">2866</FONT><A NAME="2866"></A></FONT>                                              <FONT ID="SingleLineComment">//for items other than nodes!!!
<FONT ID="LN">2867</FONT><A NAME="2867"></A></FONT>      weights = con.getWeights();
<FONT ID="LN">2868</FONT><A NAME="2868"></A>      inputs = con.getInputs();
<FONT ID="LN">2869</FONT><A NAME="2869"></A>      <FONT ID="If">if</FONT> (con.getMethod() <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/classifiers/functions/neural/SigmoidUnit.java.html">SigmoidUnit</A>) {
<FONT ID="LN">2870</FONT><A NAME="2870"></A>    model.append(<FONT ID="StringLiteral">"Sigmoid "</FONT>);
<FONT ID="LN">2871</FONT><A NAME="2871"></A>      }
<FONT ID="LN">2872</FONT><A NAME="2872"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (con.getMethod() <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/classifiers/functions/neural/LinearUnit.java.html">LinearUnit</A>) {
<FONT ID="LN">2873</FONT><A NAME="2873"></A>    model.append(<FONT ID="StringLiteral">"Linear "</FONT>);
<FONT ID="LN">2874</FONT><A NAME="2874"></A>      }
<FONT ID="LN">2875</FONT><A NAME="2875"></A>      model.append(<FONT ID="StringLiteral">"Node "</FONT> + con.getId() + <FONT ID="StringLiteral">"\n    Inputs    Weights\n"</FONT>);
<FONT ID="LN">2876</FONT><A NAME="2876"></A>      model.append(<FONT ID="StringLiteral">"    Threshold    "</FONT> + weights[<FONT ID="IntegerLiteral">0</FONT>] + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">2877</FONT><A NAME="2877"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">1</FONT>; nob &lt; con.getNumInputs() + <FONT ID="IntegerLiteral">1</FONT>; nob++) {
<FONT ID="LN">2878</FONT><A NAME="2878"></A>    <FONT ID="If">if</FONT> ((inputs[nob - <FONT ID="IntegerLiteral">1</FONT>].getType() &amp; NeuralConnection.PURE_INPUT) 
<FONT ID="LN">2879</FONT><A NAME="2879"></A>        == NeuralConnection.PURE_INPUT) {
<FONT ID="LN">2880</FONT><A NAME="2880"></A>      model.append(<FONT ID="StringLiteral">"    Attrib "</FONT> + 
<FONT ID="LN">2881</FONT><A NAME="2881"></A>               m_instances.attribute(((NeuralEnd)inputs[nob-<FONT ID="IntegerLiteral">1</FONT>]).
<FONT ID="LN">2882</FONT><A NAME="2882"></A>                         getLink()).name()
<FONT ID="LN">2883</FONT><A NAME="2883"></A>               + <FONT ID="StringLiteral">"    "</FONT> + weights[nob] + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">2884</FONT><A NAME="2884"></A>    }
<FONT ID="LN">2885</FONT><A NAME="2885"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">2886</FONT><A NAME="2886"></A>      model.append(<FONT ID="StringLiteral">"    Node "</FONT> + inputs[nob-<FONT ID="IntegerLiteral">1</FONT>].getId() + <FONT ID="StringLiteral">"    "</FONT> +
<FONT ID="LN">2887</FONT><A NAME="2887"></A>               weights[nob] + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">2888</FONT><A NAME="2888"></A>    }
<FONT ID="LN">2889</FONT><A NAME="2889"></A>      }      
<FONT ID="LN">2890</FONT><A NAME="2890"></A>    }
<FONT ID="LN">2891</FONT><A NAME="2891"></A>    <FONT ID="SingleLineComment">//now put in the ends
<FONT ID="LN">2892</FONT><A NAME="2892"></A></FONT>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_outputs.length; noa++) {
<FONT ID="LN">2893</FONT><A NAME="2893"></A>      inputs = m_outputs[noa].getInputs();
<FONT ID="LN">2894</FONT><A NAME="2894"></A>      model.append(<FONT ID="StringLiteral">"Class "</FONT> + 
<FONT ID="LN">2895</FONT><A NAME="2895"></A>           m_instances.classAttribute().
<FONT ID="LN">2896</FONT><A NAME="2896"></A>           value(m_outputs[noa].getLink()) + 
<FONT ID="LN">2897</FONT><A NAME="2897"></A>           <FONT ID="StringLiteral">"\n    Input\n"</FONT>);
<FONT ID="LN">2898</FONT><A NAME="2898"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">0</FONT>; nob &lt; m_outputs[noa].getNumInputs(); nob++) {
<FONT ID="LN">2899</FONT><A NAME="2899"></A>    <FONT ID="If">if</FONT> ((inputs[nob].getType() &amp; NeuralConnection.PURE_INPUT)
<FONT ID="LN">2900</FONT><A NAME="2900"></A>        == NeuralConnection.PURE_INPUT) {
<FONT ID="LN">2901</FONT><A NAME="2901"></A>      model.append(<FONT ID="StringLiteral">"    Attrib "</FONT> +
<FONT ID="LN">2902</FONT><A NAME="2902"></A>               m_instances.attribute(((NeuralEnd)inputs[nob]).
<FONT ID="LN">2903</FONT><A NAME="2903"></A>                         getLink()).name() + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">2904</FONT><A NAME="2904"></A>    }
<FONT ID="LN">2905</FONT><A NAME="2905"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">2906</FONT><A NAME="2906"></A>      model.append(<FONT ID="StringLiteral">"    Node "</FONT> + inputs[nob].getId() + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">2907</FONT><A NAME="2907"></A>    }
<FONT ID="LN">2908</FONT><A NAME="2908"></A>      }
<FONT ID="LN">2909</FONT><A NAME="2909"></A>    }
<FONT ID="LN">2910</FONT><A NAME="2910"></A>    <FONT ID="Return">return</FONT> model.toString();
<FONT ID="LN">2911</FONT><A NAME="2911"></A>  }
<FONT ID="LN">2912</FONT><A NAME="2912"></A>
<FONT ID="LN">2913</FONT><A NAME="2913"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2914</FONT><A NAME="2914"></A>   * This will return a string describing the classifier.
<FONT ID="LN">2915</FONT><A NAME="2915"></A>   * @return The string.
<FONT ID="LN">2916</FONT><A NAME="2916"></A>   */</FONT>
<FONT ID="LN">2917</FONT><A NAME="2917"></A>  <FONT ID="Public">public</FONT> String globalInfo() {
<FONT ID="LN">2918</FONT><A NAME="2918"></A>    <FONT ID="Return">return</FONT> 
<FONT ID="LN">2919</FONT><A NAME="2919"></A>        <FONT ID="StringLiteral">"A Classifier that uses backpropagation to classify instances.\n"</FONT>
<FONT ID="LN">2920</FONT><A NAME="2920"></A>      + <FONT ID="StringLiteral">"This network can be built by hand, created by an algorithm or both. "</FONT>
<FONT ID="LN">2921</FONT><A NAME="2921"></A>      + <FONT ID="StringLiteral">"The network can also be monitored and modified during training time. "</FONT>
<FONT ID="LN">2922</FONT><A NAME="2922"></A>      + <FONT ID="StringLiteral">"The nodes in this network are all sigmoid (except for when the class "</FONT>
<FONT ID="LN">2923</FONT><A NAME="2923"></A>      + <FONT ID="StringLiteral">"is numeric in which case the the output nodes become unthresholded "</FONT>
<FONT ID="LN">2924</FONT><A NAME="2924"></A>      + <FONT ID="StringLiteral">"linear units)."</FONT>;
<FONT ID="LN">2925</FONT><A NAME="2925"></A>  }
<FONT ID="LN">2926</FONT><A NAME="2926"></A>  
<FONT ID="LN">2927</FONT><A NAME="2927"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2928</FONT><A NAME="2928"></A>   * @return a string to describe the learning rate option.
<FONT ID="LN">2929</FONT><A NAME="2929"></A>   */</FONT>
<FONT ID="LN">2930</FONT><A NAME="2930"></A>  <FONT ID="Public">public</FONT> String learningRateTipText() {
<FONT ID="LN">2931</FONT><A NAME="2931"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The amount the"</FONT> + 
<FONT ID="LN">2932</FONT><A NAME="2932"></A>      <FONT ID="StringLiteral">" weights are updated."</FONT>;
<FONT ID="LN">2933</FONT><A NAME="2933"></A>  }
<FONT ID="LN">2934</FONT><A NAME="2934"></A>  
<FONT ID="LN">2935</FONT><A NAME="2935"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2936</FONT><A NAME="2936"></A>   * @return a string to describe the momentum option.
<FONT ID="LN">2937</FONT><A NAME="2937"></A>   */</FONT>
<FONT ID="LN">2938</FONT><A NAME="2938"></A>  <FONT ID="Public">public</FONT> String momentumTipText() {
<FONT ID="LN">2939</FONT><A NAME="2939"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Momentum applied to the weights during updating."</FONT>;
<FONT ID="LN">2940</FONT><A NAME="2940"></A>  }
<FONT ID="LN">2941</FONT><A NAME="2941"></A>
<FONT ID="LN">2942</FONT><A NAME="2942"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2943</FONT><A NAME="2943"></A>   * @return a string to describe the AutoBuild option.
<FONT ID="LN">2944</FONT><A NAME="2944"></A>   */</FONT>
<FONT ID="LN">2945</FONT><A NAME="2945"></A>  <FONT ID="Public">public</FONT> String autoBuildTipText() {
<FONT ID="LN">2946</FONT><A NAME="2946"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Adds and connects up hidden layers in the network."</FONT>;
<FONT ID="LN">2947</FONT><A NAME="2947"></A>  }
<FONT ID="LN">2948</FONT><A NAME="2948"></A>
<FONT ID="LN">2949</FONT><A NAME="2949"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2950</FONT><A NAME="2950"></A>   * @return a string to describe the random seed option.
<FONT ID="LN">2951</FONT><A NAME="2951"></A>   */</FONT>
<FONT ID="LN">2952</FONT><A NAME="2952"></A>  <FONT ID="Public">public</FONT> String seedTipText() {
<FONT ID="LN">2953</FONT><A NAME="2953"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Seed used to initialise the random number generator."</FONT> +
<FONT ID="LN">2954</FONT><A NAME="2954"></A>      <FONT ID="StringLiteral">"Random numbers are used for setting the initial weights of the"</FONT> +
<FONT ID="LN">2955</FONT><A NAME="2955"></A>      <FONT ID="StringLiteral">" connections betweem nodes, and also for shuffling the training data."</FONT>;
<FONT ID="LN">2956</FONT><A NAME="2956"></A>  }
<FONT ID="LN">2957</FONT><A NAME="2957"></A>  
<FONT ID="LN">2958</FONT><A NAME="2958"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2959</FONT><A NAME="2959"></A>   * @return a string to describe the validation threshold option.
<FONT ID="LN">2960</FONT><A NAME="2960"></A>   */</FONT>
<FONT ID="LN">2961</FONT><A NAME="2961"></A>  <FONT ID="Public">public</FONT> String validationThresholdTipText() {
<FONT ID="LN">2962</FONT><A NAME="2962"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Used to terminate validation testing."</FONT> +
<FONT ID="LN">2963</FONT><A NAME="2963"></A>      <FONT ID="StringLiteral">"The value here dictates how many times in a row the validation set"</FONT> +
<FONT ID="LN">2964</FONT><A NAME="2964"></A>      <FONT ID="StringLiteral">" error can get worse before training is terminated."</FONT>;
<FONT ID="LN">2965</FONT><A NAME="2965"></A>  }
<FONT ID="LN">2966</FONT><A NAME="2966"></A>  
<FONT ID="LN">2967</FONT><A NAME="2967"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2968</FONT><A NAME="2968"></A>   * @return a string to describe the GUI option.
<FONT ID="LN">2969</FONT><A NAME="2969"></A>   */</FONT>
<FONT ID="LN">2970</FONT><A NAME="2970"></A>  <FONT ID="Public">public</FONT> String GUITipText() {
<FONT ID="LN">2971</FONT><A NAME="2971"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Brings up a gui interface."</FONT> +
<FONT ID="LN">2972</FONT><A NAME="2972"></A>      <FONT ID="StringLiteral">" This will allow the pausing and altering of the nueral network"</FONT> +
<FONT ID="LN">2973</FONT><A NAME="2973"></A>      <FONT ID="StringLiteral">" during training.\n\n"</FONT> +
<FONT ID="LN">2974</FONT><A NAME="2974"></A>      <FONT ID="StringLiteral">"* To add a node left click (this node will be automatically selected,"</FONT> +
<FONT ID="LN">2975</FONT><A NAME="2975"></A>      <FONT ID="StringLiteral">" ensure no other nodes were selected).\n"</FONT> +
<FONT ID="LN">2976</FONT><A NAME="2976"></A>      <FONT ID="StringLiteral">"* To select a node left click on it either while no other node is"</FONT> +
<FONT ID="LN">2977</FONT><A NAME="2977"></A>      <FONT ID="StringLiteral">" selected or while holding down the control key (this toggles that"</FONT> +
<FONT ID="LN">2978</FONT><A NAME="2978"></A>      <FONT ID="StringLiteral">" node as being selected and not selected.\n"</FONT> + 
<FONT ID="LN">2979</FONT><A NAME="2979"></A>      <FONT ID="StringLiteral">"* To connect a node, first have the start node(s) selected, then click"</FONT>+
<FONT ID="LN">2980</FONT><A NAME="2980"></A>      <FONT ID="StringLiteral">" either the end node or on an empty space (this will create a new node"</FONT>+
<FONT ID="LN">2981</FONT><A NAME="2981"></A>      <FONT ID="StringLiteral">" that is connected with the selected nodes). The selection status of"</FONT> +
<FONT ID="LN">2982</FONT><A NAME="2982"></A>      <FONT ID="StringLiteral">" nodes will stay the same after the connection. (Note these are"</FONT> +
<FONT ID="LN">2983</FONT><A NAME="2983"></A>      <FONT ID="StringLiteral">" directed connections, also a connection between two nodes will not"</FONT> +
<FONT ID="LN">2984</FONT><A NAME="2984"></A>      <FONT ID="StringLiteral">" be established more than once and certain connections that are"</FONT> + 
<FONT ID="LN">2985</FONT><A NAME="2985"></A>      <FONT ID="StringLiteral">" deemed to be invalid will not be made).\n"</FONT> +
<FONT ID="LN">2986</FONT><A NAME="2986"></A>      <FONT ID="StringLiteral">"* To remove a connection select one of the connected node(s) in the"</FONT> +
<FONT ID="LN">2987</FONT><A NAME="2987"></A>      <FONT ID="StringLiteral">" connection and then right click the other node (it does not matter"</FONT> +
<FONT ID="LN">2988</FONT><A NAME="2988"></A>      <FONT ID="StringLiteral">" whether the node is the start or end the connection will be removed"</FONT> +
<FONT ID="LN">2989</FONT><A NAME="2989"></A>      <FONT ID="StringLiteral">").\n"</FONT> +
<FONT ID="LN">2990</FONT><A NAME="2990"></A>      <FONT ID="StringLiteral">"* To remove a node right click it while no other nodes (including it)"</FONT> +
<FONT ID="LN">2991</FONT><A NAME="2991"></A>      <FONT ID="StringLiteral">" are selected. (This will also remove all connections to it)\n."</FONT> +
<FONT ID="LN">2992</FONT><A NAME="2992"></A>      <FONT ID="StringLiteral">"* To deselect a node either left click it while holding down control,"</FONT> +
<FONT ID="LN">2993</FONT><A NAME="2993"></A>      <FONT ID="StringLiteral">" or right click on empty space.\n"</FONT> +
<FONT ID="LN">2994</FONT><A NAME="2994"></A>      <FONT ID="StringLiteral">"* The raw inputs are provided from the labels on the left.\n"</FONT> +
<FONT ID="LN">2995</FONT><A NAME="2995"></A>      <FONT ID="StringLiteral">"* The red nodes are hidden layers.\n"</FONT> +
<FONT ID="LN">2996</FONT><A NAME="2996"></A>      <FONT ID="StringLiteral">"* The orange nodes are the output nodes.\n"</FONT> +
<FONT ID="LN">2997</FONT><A NAME="2997"></A>      <FONT ID="StringLiteral">"* The labels on the right show the class the output node represents."</FONT> +
<FONT ID="LN">2998</FONT><A NAME="2998"></A>      <FONT ID="StringLiteral">" Note that with a numeric class the output node will automatically be"</FONT> +
<FONT ID="LN">2999</FONT><A NAME="2999"></A>      <FONT ID="StringLiteral">" made into an unthresholded linear unit.\n\n"</FONT> +
<FONT ID="LN">3000</FONT><A NAME="3000"></A>      <FONT ID="StringLiteral">"Alterations to the neural network can only be done while the network"</FONT> +
<FONT ID="LN">3001</FONT><A NAME="3001"></A>      <FONT ID="StringLiteral">" is not running, This also applies to the learning rate and other"</FONT> +
<FONT ID="LN">3002</FONT><A NAME="3002"></A>      <FONT ID="StringLiteral">" fields on the control panel.\n\n"</FONT> + 
<FONT ID="LN">3003</FONT><A NAME="3003"></A>      <FONT ID="StringLiteral">"* You can accept the network as being finished at any time.\n"</FONT> +
<FONT ID="LN">3004</FONT><A NAME="3004"></A>      <FONT ID="StringLiteral">"* The network is automatically paused at the beginning.\n"</FONT> +
<FONT ID="LN">3005</FONT><A NAME="3005"></A>      <FONT ID="StringLiteral">"* There is a running indication of what epoch the network is up to"</FONT> + 
<FONT ID="LN">3006</FONT><A NAME="3006"></A>      <FONT ID="StringLiteral">" and what the (rough) error for that epoch was (or for"</FONT> +
<FONT ID="LN">3007</FONT><A NAME="3007"></A>      <FONT ID="StringLiteral">" the validation if that is being used). Note that this error value"</FONT> +
<FONT ID="LN">3008</FONT><A NAME="3008"></A>      <FONT ID="StringLiteral">" is based on a network that changes as the value is computed."</FONT> +
<FONT ID="LN">3009</FONT><A NAME="3009"></A>      <FONT ID="StringLiteral">" (also depending on whether"</FONT> +
<FONT ID="LN">3010</FONT><A NAME="3010"></A>      <FONT ID="StringLiteral">" the class is normalized will effect the error reported for numeric"</FONT> +
<FONT ID="LN">3011</FONT><A NAME="3011"></A>      <FONT ID="StringLiteral">" classes.\n"</FONT> +
<FONT ID="LN">3012</FONT><A NAME="3012"></A>      <FONT ID="StringLiteral">"* Once the network is done it will pause again and either wait to be"</FONT> +
<FONT ID="LN">3013</FONT><A NAME="3013"></A>      <FONT ID="StringLiteral">" accepted or trained more.\n\n"</FONT> +
<FONT ID="LN">3014</FONT><A NAME="3014"></A>      <FONT ID="StringLiteral">"Note that if the gui is not set the network will not require any"</FONT> +
<FONT ID="LN">3015</FONT><A NAME="3015"></A>      <FONT ID="StringLiteral">" interaction.\n"</FONT>;
<FONT ID="LN">3016</FONT><A NAME="3016"></A>  }
<FONT ID="LN">3017</FONT><A NAME="3017"></A>  
<FONT ID="LN">3018</FONT><A NAME="3018"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">3019</FONT><A NAME="3019"></A>   * @return a string to describe the validation size option.
<FONT ID="LN">3020</FONT><A NAME="3020"></A>   */</FONT>
<FONT ID="LN">3021</FONT><A NAME="3021"></A>  <FONT ID="Public">public</FONT> String validationSetSizeTipText() {
<FONT ID="LN">3022</FONT><A NAME="3022"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The percentage size of the validation set."</FONT> +
<FONT ID="LN">3023</FONT><A NAME="3023"></A>      <FONT ID="StringLiteral">"(The training will continue until it is observed that"</FONT> +
<FONT ID="LN">3024</FONT><A NAME="3024"></A>      <FONT ID="StringLiteral">" the error on the validation set has been consistently getting"</FONT> +
<FONT ID="LN">3025</FONT><A NAME="3025"></A>      <FONT ID="StringLiteral">" worse, or if the training time is reached).\n"</FONT> +
<FONT ID="LN">3026</FONT><A NAME="3026"></A>      <FONT ID="StringLiteral">"If This is set to zero no validation set will be used and instead"</FONT> +
<FONT ID="LN">3027</FONT><A NAME="3027"></A>      <FONT ID="StringLiteral">" the network will train for the specified number of epochs."</FONT>;
<FONT ID="LN">3028</FONT><A NAME="3028"></A>  }
<FONT ID="LN">3029</FONT><A NAME="3029"></A>  
<FONT ID="LN">3030</FONT><A NAME="3030"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">3031</FONT><A NAME="3031"></A>   * @return a string to describe the learning rate option.
<FONT ID="LN">3032</FONT><A NAME="3032"></A>   */</FONT>
<FONT ID="LN">3033</FONT><A NAME="3033"></A>  <FONT ID="Public">public</FONT> String trainingTimeTipText() {
<FONT ID="LN">3034</FONT><A NAME="3034"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The number of epochs to train through."</FONT> + 
<FONT ID="LN">3035</FONT><A NAME="3035"></A>      <FONT ID="StringLiteral">" If the validation set is non-zero then it can terminate the network"</FONT> +
<FONT ID="LN">3036</FONT><A NAME="3036"></A>      <FONT ID="StringLiteral">" early"</FONT>;
<FONT ID="LN">3037</FONT><A NAME="3037"></A>  }
<FONT ID="LN">3038</FONT><A NAME="3038"></A>
<FONT ID="LN">3039</FONT><A NAME="3039"></A>
<FONT ID="LN">3040</FONT><A NAME="3040"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">3041</FONT><A NAME="3041"></A>   * @return a string to describe the nominal to binary option.
<FONT ID="LN">3042</FONT><A NAME="3042"></A>   */</FONT>
<FONT ID="LN">3043</FONT><A NAME="3043"></A>  <FONT ID="Public">public</FONT> String nominalToBinaryFilterTipText() {
<FONT ID="LN">3044</FONT><A NAME="3044"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"This will preprocess the instances with the filter."</FONT> +
<FONT ID="LN">3045</FONT><A NAME="3045"></A>      <FONT ID="StringLiteral">" This could help improve performance if there are nominal attributes"</FONT> +
<FONT ID="LN">3046</FONT><A NAME="3046"></A>      <FONT ID="StringLiteral">" in the data."</FONT>;
<FONT ID="LN">3047</FONT><A NAME="3047"></A>  }
<FONT ID="LN">3048</FONT><A NAME="3048"></A>
<FONT ID="LN">3049</FONT><A NAME="3049"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">3050</FONT><A NAME="3050"></A>   * @return a string to describe the hidden layers in the network.
<FONT ID="LN">3051</FONT><A NAME="3051"></A>   */</FONT>
<FONT ID="LN">3052</FONT><A NAME="3052"></A>  <FONT ID="Public">public</FONT> String hiddenLayersTipText() {
<FONT ID="LN">3053</FONT><A NAME="3053"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"This defines the hidden layers of the neural network."</FONT> +
<FONT ID="LN">3054</FONT><A NAME="3054"></A>      <FONT ID="StringLiteral">" This is a list of positive whole numbers. 1 for each hidden layer."</FONT> +
<FONT ID="LN">3055</FONT><A NAME="3055"></A>      <FONT ID="StringLiteral">" Comma seperated. To have no hidden layers put a single 0 here."</FONT> +
<FONT ID="LN">3056</FONT><A NAME="3056"></A>      <FONT ID="StringLiteral">" This will only be used if autobuild is set. There are also wildcard"</FONT> +
<FONT ID="LN">3057</FONT><A NAME="3057"></A>      <FONT ID="StringLiteral">" values 'a' = (attribs + classes) / 2, 'i' = attribs, 'o' = classes"</FONT> +
<FONT ID="LN">3058</FONT><A NAME="3058"></A>      <FONT ID="StringLiteral">" , 't' = attribs + classes."</FONT>;
<FONT ID="LN">3059</FONT><A NAME="3059"></A>  }
<FONT ID="LN">3060</FONT><A NAME="3060"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">3061</FONT><A NAME="3061"></A>   * @return a string to describe the nominal to binary option.
<FONT ID="LN">3062</FONT><A NAME="3062"></A>   */</FONT>
<FONT ID="LN">3063</FONT><A NAME="3063"></A>  <FONT ID="Public">public</FONT> String normalizeNumericClassTipText() {
<FONT ID="LN">3064</FONT><A NAME="3064"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"This will normalize the class if it's numeric."</FONT> +
<FONT ID="LN">3065</FONT><A NAME="3065"></A>      <FONT ID="StringLiteral">" This could help improve performance of the network, It normalizes"</FONT> +
<FONT ID="LN">3066</FONT><A NAME="3066"></A>      <FONT ID="StringLiteral">" the class to be between -1 and 1. Note that this is only internally"</FONT> +
<FONT ID="LN">3067</FONT><A NAME="3067"></A>      <FONT ID="StringLiteral">", the output will be scaled back to the original range."</FONT>;
<FONT ID="LN">3068</FONT><A NAME="3068"></A>  }
<FONT ID="LN">3069</FONT><A NAME="3069"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">3070</FONT><A NAME="3070"></A>   * @return a string to describe the nominal to binary option.
<FONT ID="LN">3071</FONT><A NAME="3071"></A>   */</FONT>
<FONT ID="LN">3072</FONT><A NAME="3072"></A>  <FONT ID="Public">public</FONT> String normalizeAttributesTipText() {
<FONT ID="LN">3073</FONT><A NAME="3073"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"This will normalize the attributes."</FONT> +
<FONT ID="LN">3074</FONT><A NAME="3074"></A>      <FONT ID="StringLiteral">" This could help improve performance of the network."</FONT> +
<FONT ID="LN">3075</FONT><A NAME="3075"></A>      <FONT ID="StringLiteral">" This is not reliant on the class being numeric. This will also"</FONT> +
<FONT ID="LN">3076</FONT><A NAME="3076"></A>      <FONT ID="StringLiteral">" normalize nominal attributes as well (after they have been run"</FONT> +
<FONT ID="LN">3077</FONT><A NAME="3077"></A>      <FONT ID="StringLiteral">" through the nominal to binary filter if that is in use) so that the"</FONT> +
<FONT ID="LN">3078</FONT><A NAME="3078"></A>      <FONT ID="StringLiteral">" nominal values are between -1 and 1"</FONT>;
<FONT ID="LN">3079</FONT><A NAME="3079"></A>  }
<FONT ID="LN">3080</FONT><A NAME="3080"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">3081</FONT><A NAME="3081"></A>   * @return a string to describe the Reset option.
<FONT ID="LN">3082</FONT><A NAME="3082"></A>   */</FONT>
<FONT ID="LN">3083</FONT><A NAME="3083"></A>  <FONT ID="Public">public</FONT> String resetTipText() {
<FONT ID="LN">3084</FONT><A NAME="3084"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"This will allow the network to reset with a lower learning rate."</FONT> +
<FONT ID="LN">3085</FONT><A NAME="3085"></A>      <FONT ID="StringLiteral">" If the network diverges from the answer this will automatically"</FONT> +
<FONT ID="LN">3086</FONT><A NAME="3086"></A>      <FONT ID="StringLiteral">" reset the network with a lower learning rate and begin training"</FONT> +
<FONT ID="LN">3087</FONT><A NAME="3087"></A>      <FONT ID="StringLiteral">" again. This option is only available if the gui is not set. Note"</FONT> +
<FONT ID="LN">3088</FONT><A NAME="3088"></A>      <FONT ID="StringLiteral">" that if the network diverges but isn't allowed to reset it will"</FONT> +
<FONT ID="LN">3089</FONT><A NAME="3089"></A>      <FONT ID="StringLiteral">" fail the training process and return an error message."</FONT>;
<FONT ID="LN">3090</FONT><A NAME="3090"></A>  }
<FONT ID="LN">3091</FONT><A NAME="3091"></A>  
<FONT ID="LN">3092</FONT><A NAME="3092"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">3093</FONT><A NAME="3093"></A>   * @return a string to describe the Decay option.
<FONT ID="LN">3094</FONT><A NAME="3094"></A>   */</FONT>
<FONT ID="LN">3095</FONT><A NAME="3095"></A>  <FONT ID="Public">public</FONT> String decayTipText() {
<FONT ID="LN">3096</FONT><A NAME="3096"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"This will cause the learning rate to decrease."</FONT> +
<FONT ID="LN">3097</FONT><A NAME="3097"></A>      <FONT ID="StringLiteral">" This will divide the starting learning rate by the epoch number, to"</FONT> +
<FONT ID="LN">3098</FONT><A NAME="3098"></A>      <FONT ID="StringLiteral">" determine what the current learning rate should be. This may help"</FONT> +
<FONT ID="LN">3099</FONT><A NAME="3099"></A>      <FONT ID="StringLiteral">" to stop the network from diverging from the target output, as well"</FONT> +
<FONT ID="LN">3100</FONT><A NAME="3100"></A>      <FONT ID="StringLiteral">" as improve general performance. Note that the decaying learning"</FONT> +
<FONT ID="LN">3101</FONT><A NAME="3101"></A>      <FONT ID="StringLiteral">" rate will not be shown in the gui, only the original learning rate"</FONT> +
<FONT ID="LN">3102</FONT><A NAME="3102"></A>      <FONT ID="StringLiteral">". If the learning rate is changed in the gui, this is treated as the"</FONT> +
<FONT ID="LN">3103</FONT><A NAME="3103"></A>      <FONT ID="StringLiteral">" starting learning rate."</FONT>;
<FONT ID="LN">3104</FONT><A NAME="3104"></A>  }
<FONT ID="LN">3105</FONT><A NAME="3105"></A>  
<FONT ID="LN">3106</FONT><A NAME="3106"></A>  <FONT ID="SingleLineComment">//modCS.V
<FONT ID="LN">3107</FONT><A NAME="3107"></A></FONT>  <FONT ID="FormalComment">/**
<FONT ID="LN">3108</FONT><A NAME="3108"></A>   * @return a string to describe the validation set file.
<FONT ID="LN">3109</FONT><A NAME="3109"></A>   */</FONT>
<FONT ID="LN">3110</FONT><A NAME="3110"></A>  <FONT ID="Public">public</FONT> String valFileTipText() {
<FONT ID="LN">3111</FONT><A NAME="3111"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Set the name of a validation file in data source format."</FONT>;
<FONT ID="LN">3112</FONT><A NAME="3112"></A>  }
<FONT ID="LN">3113</FONT><A NAME="3113"></A>  <FONT ID="SingleLineComment">//modCS.S
<FONT ID="LN">3114</FONT><A NAME="3114"></A></FONT>  <FONT ID="FormalComment">/**
<FONT ID="LN">3115</FONT><A NAME="3115"></A>   * @return a string to describe the secondary task training set file.
<FONT ID="LN">3116</FONT><A NAME="3116"></A>   */</FONT>  
<FONT ID="LN">3117</FONT><A NAME="3117"></A>    <FONT ID="Public">public</FONT> String secFileTipText() {
<FONT ID="LN">3118</FONT><A NAME="3118"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Set the name of a secondary training file in data source format."</FONT>;
<FONT ID="LN">3119</FONT><A NAME="3119"></A>  } 
<FONT ID="LN">3120</FONT><A NAME="3120"></A>  
<FONT ID="LN">3121</FONT><A NAME="3121"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">3122</FONT><A NAME="3122"></A>   * Returns the revision string.
<FONT ID="LN">3123</FONT><A NAME="3123"></A>   * 
<FONT ID="LN">3124</FONT><A NAME="3124"></A>   * @return        the revision
<FONT ID="LN">3125</FONT><A NAME="3125"></A>   */</FONT>
<FONT ID="LN">3126</FONT><A NAME="3126"></A>  <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">3127</FONT><A NAME="3127"></A>    <FONT ID="Return">return</FONT> RevisionUtils.extract(<FONT ID="StringLiteral">"$Revision: 6202 $"</FONT>);
<FONT ID="LN">3128</FONT><A NAME="3128"></A>  }
<FONT ID="LN">3129</FONT><A NAME="3129"></A>}
<FONT ID="LN">3130</FONT><A NAME="3130"></A>
<FONT ID="LN">3131</FONT><A NAME="3131"></A></pre><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">MultilayerPerceptronCS.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>

</BODY>
</HTML>