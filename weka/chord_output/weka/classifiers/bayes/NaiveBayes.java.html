<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD>
<LINK REL=STYLESHEET TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
<META NAME="GENERATOR" CONTENT="Java2HTML Version 1.5">
<TITLE>weka.classifiers.bayes.NaiveBayes (Java2HTML)</TITLE>
</HEAD>
<BODY><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">NaiveBayes.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>
<pre ID="Classes">
<FONT ID="LN">1   </FONT><A NAME="1"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">2   </FONT><A NAME="2"></A> *    This program is free software; you can redistribute it and/or modify
<FONT ID="LN">3   </FONT><A NAME="3"></A> *    it under the terms of the GNU General Public License as published by
<FONT ID="LN">4   </FONT><A NAME="4"></A> *    the Free Software Foundation; either version 2 of the License, or
<FONT ID="LN">5   </FONT><A NAME="5"></A> *    (at your option) any later version.
<FONT ID="LN">6   </FONT><A NAME="6"></A> *
<FONT ID="LN">7   </FONT><A NAME="7"></A> *    This program is distributed in the hope that it will be useful,
<FONT ID="LN">8   </FONT><A NAME="8"></A> *    but WITHOUT ANY WARRANTY; without even the implied warranty of
<FONT ID="LN">9   </FONT><A NAME="9"></A> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
<FONT ID="LN">10  </FONT><A NAME="10"></A> *    GNU General Public License for more details.
<FONT ID="LN">11  </FONT><A NAME="11"></A> *
<FONT ID="LN">12  </FONT><A NAME="12"></A> *    You should have received a copy of the GNU General Public License
<FONT ID="LN">13  </FONT><A NAME="13"></A> *    along with this program; if not, write to the Free Software
<FONT ID="LN">14  </FONT><A NAME="14"></A> *    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
<FONT ID="LN">15  </FONT><A NAME="15"></A> */</FONT>
<FONT ID="LN">16  </FONT><A NAME="16"></A>
<FONT ID="LN">17  </FONT><A NAME="17"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">18  </FONT><A NAME="18"></A> *    NaiveBayes.java
<FONT ID="LN">19  </FONT><A NAME="19"></A> *    Copyright (C) 1999 University of Waikato, Hamilton, New Zealand
<FONT ID="LN">20  </FONT><A NAME="20"></A> *
<FONT ID="LN">21  </FONT><A NAME="21"></A> */</FONT>
<FONT ID="LN">22  </FONT><A NAME="22"></A>
<FONT ID="LN">23  </FONT><A NAME="23"></A><FONT ID="Package">package</FONT> weka.classifiers.bayes;
<FONT ID="LN">24  </FONT><A NAME="24"></A>
<FONT ID="LN">25  </FONT><A NAME="25"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/Classifier.java.html">weka.classifiers.Classifier</A>;
<FONT ID="LN">26  </FONT><A NAME="26"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/AbstractClassifier.java.html">weka.classifiers.AbstractClassifier</A>;
<FONT ID="LN">27  </FONT><A NAME="27"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Attribute.java.html">weka.core.Attribute</A>;
<FONT ID="LN">28  </FONT><A NAME="28"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Capabilities.java.html">weka.core.Capabilities</A>;
<FONT ID="LN">29  </FONT><A NAME="29"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Instance.java.html">weka.core.Instance</A>;
<FONT ID="LN">30  </FONT><A NAME="30"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Instances.java.html">weka.core.Instances</A>;
<FONT ID="LN">31  </FONT><A NAME="31"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Option.java.html">weka.core.Option</A>;
<FONT ID="LN">32  </FONT><A NAME="32"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/OptionHandler.java.html">weka.core.OptionHandler</A>;
<FONT ID="LN">33  </FONT><A NAME="33"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/RevisionUtils.java.html">weka.core.RevisionUtils</A>;
<FONT ID="LN">34  </FONT><A NAME="34"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation</A>;
<FONT ID="LN">35  </FONT><A NAME="35"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformationHandler.java.html">weka.core.TechnicalInformationHandler</A>;
<FONT ID="LN">36  </FONT><A NAME="36"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Utils.java.html">weka.core.Utils</A>;
<FONT ID="LN">37  </FONT><A NAME="37"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/WeightedInstancesHandler.java.html">weka.core.WeightedInstancesHandler</A>;
<FONT ID="LN">38  </FONT><A NAME="38"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Capabilities.java.html">weka.core.Capabilities.Capability</A>;
<FONT ID="LN">39  </FONT><A NAME="39"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation.Field</A>;
<FONT ID="LN">40  </FONT><A NAME="40"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation.Type</A>;
<FONT ID="LN">41  </FONT><A NAME="41"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">weka.estimators.DiscreteEstimator</A>;
<FONT ID="LN">42  </FONT><A NAME="42"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/estimators/Estimator.java.html">weka.estimators.Estimator</A>;
<FONT ID="LN">43  </FONT><A NAME="43"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/estimators/KernelEstimator.java.html">weka.estimators.KernelEstimator</A>;
<FONT ID="LN">44  </FONT><A NAME="44"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/estimators/NormalEstimator.java.html">weka.estimators.NormalEstimator</A>;
<FONT ID="LN">45  </FONT><A NAME="45"></A>
<FONT ID="LN">46  </FONT><A NAME="46"></A><FONT ID="Import">import</FONT> java.util.Enumeration;
<FONT ID="LN">47  </FONT><A NAME="47"></A><FONT ID="Import">import</FONT> java.util.Vector;
<FONT ID="LN">48  </FONT><A NAME="48"></A>
<FONT ID="LN">49  </FONT><A NAME="49"></A><FONT ID="FormalComment">/**
<FONT ID="LN">50  </FONT><A NAME="50"></A> &lt;!-- globalinfo-start --&gt;
<FONT ID="LN">51  </FONT><A NAME="51"></A> * Class for a Naive Bayes classifier using estimator classes. Numeric estimator precision values are chosen based on analysis of the  training data. For this reason, the classifier is not an UpdateableClassifier (which in typical usage are initialized with zero training instances) -- if you need the UpdateableClassifier functionality, use the NaiveBayesUpdateable classifier. The NaiveBayesUpdateable classifier will  use a default precision of 0.1 for numeric attributes when buildClassifier is called with zero training instances.&lt;br/&gt;
<FONT ID="LN">52  </FONT><A NAME="52"></A> * &lt;br/&gt;
<FONT ID="LN">53  </FONT><A NAME="53"></A> * For more information on Naive Bayes classifiers, see&lt;br/&gt;
<FONT ID="LN">54  </FONT><A NAME="54"></A> * &lt;br/&gt;
<FONT ID="LN">55  </FONT><A NAME="55"></A> * George H. John, Pat Langley: Estimating Continuous Distributions in Bayesian Classifiers. In: Eleventh Conference on Uncertainty in Artificial Intelligence, San Mateo, 338-345, 1995.
<FONT ID="LN">56  </FONT><A NAME="56"></A> * &lt;p/&gt;
<FONT ID="LN">57  </FONT><A NAME="57"></A> &lt;!-- globalinfo-end --&gt;
<FONT ID="LN">58  </FONT><A NAME="58"></A> *
<FONT ID="LN">59  </FONT><A NAME="59"></A> &lt;!-- technical-bibtex-start --&gt;
<FONT ID="LN">60  </FONT><A NAME="60"></A> * BibTeX:
<FONT ID="LN">61  </FONT><A NAME="61"></A> * &lt;pre&gt;
<FONT ID="LN">62  </FONT><A NAME="62"></A> * &amp;#64;inproceedings{John1995,
<FONT ID="LN">63  </FONT><A NAME="63"></A> *    address = {San Mateo},
<FONT ID="LN">64  </FONT><A NAME="64"></A> *    author = {George H. John and Pat Langley},
<FONT ID="LN">65  </FONT><A NAME="65"></A> *    booktitle = {Eleventh Conference on Uncertainty in Artificial Intelligence},
<FONT ID="LN">66  </FONT><A NAME="66"></A> *    pages = {338-345},
<FONT ID="LN">67  </FONT><A NAME="67"></A> *    publisher = {Morgan Kaufmann},
<FONT ID="LN">68  </FONT><A NAME="68"></A> *    title = {Estimating Continuous Distributions in Bayesian Classifiers},
<FONT ID="LN">69  </FONT><A NAME="69"></A> *    year = {1995}
<FONT ID="LN">70  </FONT><A NAME="70"></A> * }
<FONT ID="LN">71  </FONT><A NAME="71"></A> * &lt;/pre&gt;
<FONT ID="LN">72  </FONT><A NAME="72"></A> * &lt;p/&gt;
<FONT ID="LN">73  </FONT><A NAME="73"></A> &lt;!-- technical-bibtex-end --&gt;
<FONT ID="LN">74  </FONT><A NAME="74"></A> *
<FONT ID="LN">75  </FONT><A NAME="75"></A> &lt;!-- options-start --&gt;
<FONT ID="LN">76  </FONT><A NAME="76"></A> * Valid options are: &lt;p/&gt;
<FONT ID="LN">77  </FONT><A NAME="77"></A> * 
<FONT ID="LN">78  </FONT><A NAME="78"></A> * &lt;pre&gt; -K
<FONT ID="LN">79  </FONT><A NAME="79"></A> *  Use kernel density estimator rather than normal
<FONT ID="LN">80  </FONT><A NAME="80"></A> *  distribution for numeric attributes&lt;/pre&gt;
<FONT ID="LN">81  </FONT><A NAME="81"></A> * 
<FONT ID="LN">82  </FONT><A NAME="82"></A> * &lt;pre&gt; -D
<FONT ID="LN">83  </FONT><A NAME="83"></A> *  Use supervised discretization to process numeric attributes
<FONT ID="LN">84  </FONT><A NAME="84"></A> * &lt;/pre&gt;
<FONT ID="LN">85  </FONT><A NAME="85"></A> *
<FONT ID="LN">86  </FONT><A NAME="86"></A> * &lt;pre&gt; -O
<FONT ID="LN">87  </FONT><A NAME="87"></A> *  Display model in old format (good when there are many classes)
<FONT ID="LN">88  </FONT><A NAME="88"></A> * &lt;/pre&gt;
<FONT ID="LN">89  </FONT><A NAME="89"></A> * 
<FONT ID="LN">90  </FONT><A NAME="90"></A> &lt;!-- options-end --&gt;
<FONT ID="LN">91  </FONT><A NAME="91"></A> *
<FONT ID="LN">92  </FONT><A NAME="92"></A> * @author Len Trigg (trigg@cs.waikato.ac.nz)
<FONT ID="LN">93  </FONT><A NAME="93"></A> * @author Eibe Frank (eibe@cs.waikato.ac.nz)
<FONT ID="LN">94  </FONT><A NAME="94"></A> * @version $Revision: 5928 $
<FONT ID="LN">95  </FONT><A NAME="95"></A> */</FONT>
<FONT ID="LN">96  </FONT><A NAME="96"></A><FONT ID="Public">public</FONT> <FONT ID="Class">class</FONT> NaiveBayes <FONT ID="Extends">extends</FONT> <A HREF="../../../weka/classifiers/AbstractClassifier.java.html">AbstractClassifier</A> 
<FONT ID="LN">97  </FONT><A NAME="97"></A><FONT ID="Implements">implements</FONT> <A HREF="../../../weka/core/OptionHandler.java.html">OptionHandler</A>, <A HREF="../../../weka/core/WeightedInstancesHandler.java.html">WeightedInstancesHandler</A>, 
<FONT ID="LN">98  </FONT><A NAME="98"></A>           <A HREF="../../../weka/core/TechnicalInformationHandler.java.html">TechnicalInformationHandler</A> {
<FONT ID="LN">99  </FONT><A NAME="99"></A>
<FONT ID="LN">100 </FONT><A NAME="100"></A>  <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">101 </FONT><A NAME="101"></A>  <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">5995231201785697655L</FONT>;
<FONT ID="LN">102 </FONT><A NAME="102"></A>
<FONT ID="LN">103 </FONT><A NAME="103"></A>  <FONT ID="FormalComment">/** The attribute estimators. */</FONT>
<FONT ID="LN">104 </FONT><A NAME="104"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">Estimator</A> [][] m_Distributions;
<FONT ID="LN">105 </FONT><A NAME="105"></A>
<FONT ID="LN">106 </FONT><A NAME="106"></A>  <FONT ID="FormalComment">/** The class estimator. */</FONT>
<FONT ID="LN">107 </FONT><A NAME="107"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">Estimator</A> m_ClassDistribution;
<FONT ID="LN">108 </FONT><A NAME="108"></A>
<FONT ID="LN">109 </FONT><A NAME="109"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">110 </FONT><A NAME="110"></A>   * Whether to use kernel density estimator rather than normal distribution
<FONT ID="LN">111 </FONT><A NAME="111"></A>   * for numeric attributes
<FONT ID="LN">112 </FONT><A NAME="112"></A>   */</FONT>
<FONT ID="LN">113 </FONT><A NAME="113"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Boolean">boolean</FONT> m_UseKernelEstimator = <FONT ID="False">false</FONT>;
<FONT ID="LN">114 </FONT><A NAME="114"></A>
<FONT ID="LN">115 </FONT><A NAME="115"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">116 </FONT><A NAME="116"></A>   * Whether to use discretization than normal distribution
<FONT ID="LN">117 </FONT><A NAME="117"></A>   * for numeric attributes
<FONT ID="LN">118 </FONT><A NAME="118"></A>   */</FONT>
<FONT ID="LN">119 </FONT><A NAME="119"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Boolean">boolean</FONT> m_UseDiscretization = <FONT ID="False">false</FONT>;
<FONT ID="LN">120 </FONT><A NAME="120"></A>
<FONT ID="LN">121 </FONT><A NAME="121"></A>  <FONT ID="FormalComment">/** The number of classes (or 1 for numeric class) */</FONT>
<FONT ID="LN">122 </FONT><A NAME="122"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_NumClasses;
<FONT ID="LN">123 </FONT><A NAME="123"></A>
<FONT ID="LN">124 </FONT><A NAME="124"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">125 </FONT><A NAME="125"></A>   * The dataset header for the purposes of printing out a semi-intelligible 
<FONT ID="LN">126 </FONT><A NAME="126"></A>   * model 
<FONT ID="LN">127 </FONT><A NAME="127"></A>   */</FONT>
<FONT ID="LN">128 </FONT><A NAME="128"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A> m_Instances;
<FONT ID="LN">129 </FONT><A NAME="129"></A>
<FONT ID="LN">130 </FONT><A NAME="130"></A>  <FONT ID="FormalComment">/*** The precision parameter used for numeric attributes */</FONT>
<FONT ID="LN">131 </FONT><A NAME="131"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Double">double</FONT> DEFAULT_NUM_PRECISION = <FONT ID="FloatPointLiteral">0.01</FONT>;
<FONT ID="LN">132 </FONT><A NAME="132"></A>
<FONT ID="LN">133 </FONT><A NAME="133"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">134 </FONT><A NAME="134"></A>   * The discretization filter.
<FONT ID="LN">135 </FONT><A NAME="135"></A>   */</FONT>
<FONT ID="LN">136 </FONT><A NAME="136"></A>  <FONT ID="Protected">protected</FONT> <A HREF="../../../weka/filters/supervised/attribute/Discretize.java.html">weka.filters.supervised.attribute.Discretize</A> m_Disc = <FONT ID="Null">null</FONT>;
<FONT ID="LN">137 </FONT><A NAME="137"></A>
<FONT ID="LN">138 </FONT><A NAME="138"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Boolean">boolean</FONT> m_displayModelInOldFormat = <FONT ID="False">false</FONT>;
<FONT ID="LN">139 </FONT><A NAME="139"></A>
<FONT ID="LN">140 </FONT><A NAME="140"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">141 </FONT><A NAME="141"></A>   * Returns a string describing this classifier
<FONT ID="LN">142 </FONT><A NAME="142"></A>   * @return a description of the classifier suitable for
<FONT ID="LN">143 </FONT><A NAME="143"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">144 </FONT><A NAME="144"></A>   */</FONT>
<FONT ID="LN">145 </FONT><A NAME="145"></A>  <FONT ID="Public">public</FONT> String globalInfo() {
<FONT ID="LN">146 </FONT><A NAME="146"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Class for a Naive Bayes classifier using estimator classes. Numeric"</FONT>
<FONT ID="LN">147 </FONT><A NAME="147"></A>      +<FONT ID="StringLiteral">" estimator precision values are chosen based on analysis of the "</FONT>
<FONT ID="LN">148 </FONT><A NAME="148"></A>      +<FONT ID="StringLiteral">" training data. For this reason, the classifier is not an"</FONT>
<FONT ID="LN">149 </FONT><A NAME="149"></A>      +<FONT ID="StringLiteral">" UpdateableClassifier (which in typical usage are initialized with zero"</FONT>
<FONT ID="LN">150 </FONT><A NAME="150"></A>      +<FONT ID="StringLiteral">" training instances) -- if you need the UpdateableClassifier functionality,"</FONT>
<FONT ID="LN">151 </FONT><A NAME="151"></A>      +<FONT ID="StringLiteral">" use the NaiveBayesUpdateable classifier. The NaiveBayesUpdateable"</FONT>
<FONT ID="LN">152 </FONT><A NAME="152"></A>      +<FONT ID="StringLiteral">" classifier will  use a default precision of 0.1 for numeric attributes"</FONT>
<FONT ID="LN">153 </FONT><A NAME="153"></A>      +<FONT ID="StringLiteral">" when buildClassifier is called with zero training instances.\n\n"</FONT>
<FONT ID="LN">154 </FONT><A NAME="154"></A>      +<FONT ID="StringLiteral">"For more information on Naive Bayes classifiers, see\n\n"</FONT>
<FONT ID="LN">155 </FONT><A NAME="155"></A>      + getTechnicalInformation().toString();
<FONT ID="LN">156 </FONT><A NAME="156"></A>  }
<FONT ID="LN">157 </FONT><A NAME="157"></A>
<FONT ID="LN">158 </FONT><A NAME="158"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">159 </FONT><A NAME="159"></A>   * Returns an instance of a TechnicalInformation object, containing 
<FONT ID="LN">160 </FONT><A NAME="160"></A>   * detailed information about the technical background of this class,
<FONT ID="LN">161 </FONT><A NAME="161"></A>   * e.g., paper reference or book this class is based on.
<FONT ID="LN">162 </FONT><A NAME="162"></A>   * 
<FONT ID="LN">163 </FONT><A NAME="163"></A>   * @return the technical information about this class
<FONT ID="LN">164 </FONT><A NAME="164"></A>   */</FONT>
<FONT ID="LN">165 </FONT><A NAME="165"></A>  <FONT ID="Public">public</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A> getTechnicalInformation() {
<FONT ID="LN">166 </FONT><A NAME="166"></A>    <A HREF="../../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A>    result;
<FONT ID="LN">167 </FONT><A NAME="167"></A>
<FONT ID="LN">168 </FONT><A NAME="168"></A>    result = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A>(Type.INPROCEEDINGS);
<FONT ID="LN">169 </FONT><A NAME="169"></A>    result.setValue(Field.AUTHOR, <FONT ID="StringLiteral">"George H. John and Pat Langley"</FONT>);
<FONT ID="LN">170 </FONT><A NAME="170"></A>    result.setValue(Field.TITLE, <FONT ID="StringLiteral">"Estimating Continuous Distributions in Bayesian Classifiers"</FONT>);
<FONT ID="LN">171 </FONT><A NAME="171"></A>    result.setValue(Field.BOOKTITLE, <FONT ID="StringLiteral">"Eleventh Conference on Uncertainty in Artificial Intelligence"</FONT>);
<FONT ID="LN">172 </FONT><A NAME="172"></A>    result.setValue(Field.YEAR, <FONT ID="StringLiteral">"1995"</FONT>);
<FONT ID="LN">173 </FONT><A NAME="173"></A>    result.setValue(Field.PAGES, <FONT ID="StringLiteral">"338-345"</FONT>);
<FONT ID="LN">174 </FONT><A NAME="174"></A>    result.setValue(Field.PUBLISHER, <FONT ID="StringLiteral">"Morgan Kaufmann"</FONT>);
<FONT ID="LN">175 </FONT><A NAME="175"></A>    result.setValue(Field.ADDRESS, <FONT ID="StringLiteral">"San Mateo"</FONT>);
<FONT ID="LN">176 </FONT><A NAME="176"></A>
<FONT ID="LN">177 </FONT><A NAME="177"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">178 </FONT><A NAME="178"></A>  }
<FONT ID="LN">179 </FONT><A NAME="179"></A>
<FONT ID="LN">180 </FONT><A NAME="180"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">181 </FONT><A NAME="181"></A>   * Returns default capabilities of the classifier.
<FONT ID="LN">182 </FONT><A NAME="182"></A>   *
<FONT ID="LN">183 </FONT><A NAME="183"></A>   * @return      the capabilities of this classifier
<FONT ID="LN">184 </FONT><A NAME="184"></A>   */</FONT>
<FONT ID="LN">185 </FONT><A NAME="185"></A>  <FONT ID="Public">public</FONT> <A HREF="../../../weka/core/Capabilities.java.html">Capabilities</A> getCapabilities() {
<FONT ID="LN">186 </FONT><A NAME="186"></A>    <A HREF="../../../weka/core/Capabilities.java.html">Capabilities</A> result = <FONT ID="Super">super</FONT>.getCapabilities();
<FONT ID="LN">187 </FONT><A NAME="187"></A>    result.disableAll();
<FONT ID="LN">188 </FONT><A NAME="188"></A>
<FONT ID="LN">189 </FONT><A NAME="189"></A>    <FONT ID="SingleLineComment">// attributes
<FONT ID="LN">190 </FONT><A NAME="190"></A></FONT>    result.enable(Capability.NOMINAL_ATTRIBUTES);
<FONT ID="LN">191 </FONT><A NAME="191"></A>    result.enable(Capability.NUMERIC_ATTRIBUTES);
<FONT ID="LN">192 </FONT><A NAME="192"></A>    result.enable(Capability.MISSING_VALUES);
<FONT ID="LN">193 </FONT><A NAME="193"></A>
<FONT ID="LN">194 </FONT><A NAME="194"></A>    <FONT ID="SingleLineComment">// class
<FONT ID="LN">195 </FONT><A NAME="195"></A></FONT>    result.enable(Capability.NOMINAL_CLASS);
<FONT ID="LN">196 </FONT><A NAME="196"></A>    result.enable(Capability.MISSING_CLASS_VALUES);
<FONT ID="LN">197 </FONT><A NAME="197"></A>
<FONT ID="LN">198 </FONT><A NAME="198"></A>    <FONT ID="SingleLineComment">// instances
<FONT ID="LN">199 </FONT><A NAME="199"></A></FONT>    result.setMinimumNumberInstances(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">200 </FONT><A NAME="200"></A>
<FONT ID="LN">201 </FONT><A NAME="201"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">202 </FONT><A NAME="202"></A>  }
<FONT ID="LN">203 </FONT><A NAME="203"></A>
<FONT ID="LN">204 </FONT><A NAME="204"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">205 </FONT><A NAME="205"></A>   * Generates the classifier.
<FONT ID="LN">206 </FONT><A NAME="206"></A>   *
<FONT ID="LN">207 </FONT><A NAME="207"></A>   * @param instances set of instances serving as training data 
<FONT ID="LN">208 </FONT><A NAME="208"></A>   * @exception Exception if the classifier has not been generated 
<FONT ID="LN">209 </FONT><A NAME="209"></A>   * successfully
<FONT ID="LN">210 </FONT><A NAME="210"></A>   */</FONT>
<FONT ID="LN">211 </FONT><A NAME="211"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> buildClassifier(<A HREF="../../../weka/core/Instances.java.html">Instances</A> instances) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">212 </FONT><A NAME="212"></A>
<FONT ID="LN">213 </FONT><A NAME="213"></A>    <FONT ID="SingleLineComment">// can classifier handle the data?
<FONT ID="LN">214 </FONT><A NAME="214"></A></FONT>    getCapabilities().testWithFail(instances);
<FONT ID="LN">215 </FONT><A NAME="215"></A>
<FONT ID="LN">216 </FONT><A NAME="216"></A>    <FONT ID="SingleLineComment">// remove instances with missing class
<FONT ID="LN">217 </FONT><A NAME="217"></A></FONT>    instances = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(instances);
<FONT ID="LN">218 </FONT><A NAME="218"></A>    instances.deleteWithMissingClass();
<FONT ID="LN">219 </FONT><A NAME="219"></A>
<FONT ID="LN">220 </FONT><A NAME="220"></A>    m_NumClasses = instances.numClasses();
<FONT ID="LN">221 </FONT><A NAME="221"></A>
<FONT ID="LN">222 </FONT><A NAME="222"></A>    <FONT ID="SingleLineComment">// Copy the instances
<FONT ID="LN">223 </FONT><A NAME="223"></A></FONT>    m_Instances = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(instances);
<FONT ID="LN">224 </FONT><A NAME="224"></A>
<FONT ID="LN">225 </FONT><A NAME="225"></A>    <FONT ID="SingleLineComment">// Discretize instances if required
<FONT ID="LN">226 </FONT><A NAME="226"></A></FONT>    <FONT ID="If">if</FONT> (m_UseDiscretization) {
<FONT ID="LN">227 </FONT><A NAME="227"></A>      m_Disc = <FONT ID="New">new</FONT> <A HREF="../../../weka/filters/supervised/attribute/Discretize.java.html">weka.filters.supervised.attribute.Discretize</A>();
<FONT ID="LN">228 </FONT><A NAME="228"></A>      m_Disc.setInputFormat(m_Instances);
<FONT ID="LN">229 </FONT><A NAME="229"></A>      m_Instances = weka.filters.Filter.useFilter(m_Instances, m_Disc);
<FONT ID="LN">230 </FONT><A NAME="230"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">231 </FONT><A NAME="231"></A>      m_Disc = <FONT ID="Null">null</FONT>;
<FONT ID="LN">232 </FONT><A NAME="232"></A>    }
<FONT ID="LN">233 </FONT><A NAME="233"></A>
<FONT ID="LN">234 </FONT><A NAME="234"></A>    <FONT ID="SingleLineComment">// Reserve space for the distributions
<FONT ID="LN">235 </FONT><A NAME="235"></A></FONT>    m_Distributions = <FONT ID="New">new</FONT> <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">Estimator</A>[m_Instances.numAttributes() - <FONT ID="IntegerLiteral">1</FONT>]
<FONT ID="LN">236 </FONT><A NAME="236"></A>      [m_Instances.numClasses()];
<FONT ID="LN">237 </FONT><A NAME="237"></A>    m_ClassDistribution = <FONT ID="New">new</FONT> <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A>(m_Instances.numClasses(), 
<FONT ID="LN">238 </FONT><A NAME="238"></A>                                                <FONT ID="True">true</FONT>);
<FONT ID="LN">239 </FONT><A NAME="239"></A>    <FONT ID="Int">int</FONT> attIndex = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">240 </FONT><A NAME="240"></A>    Enumeration enu = m_Instances.enumerateAttributes();
<FONT ID="LN">241 </FONT><A NAME="241"></A>    <FONT ID="While">while</FONT> (enu.hasMoreElements()) {
<FONT ID="LN">242 </FONT><A NAME="242"></A>      <A HREF="../../../weka/core/Attribute.java.html">Attribute</A> attribute = (<A HREF="../../../weka/core/Attribute.java.html">Attribute</A>) enu.nextElement();
<FONT ID="LN">243 </FONT><A NAME="243"></A>
<FONT ID="LN">244 </FONT><A NAME="244"></A>      <FONT ID="SingleLineComment">// If the attribute is numeric, determine the estimator 
<FONT ID="LN">245 </FONT><A NAME="245"></A></FONT>      <FONT ID="SingleLineComment">// numeric precision from differences between adjacent values
<FONT ID="LN">246 </FONT><A NAME="246"></A></FONT>      <FONT ID="Double">double</FONT> numPrecision = DEFAULT_NUM_PRECISION;
<FONT ID="LN">247 </FONT><A NAME="247"></A>      <FONT ID="If">if</FONT> (attribute.type() == Attribute.NUMERIC) {
<FONT ID="LN">248 </FONT><A NAME="248"></A>    m_Instances.sort(attribute);
<FONT ID="LN">249 </FONT><A NAME="249"></A>    <FONT ID="If">if</FONT> ((m_Instances.numInstances() &gt; <FONT ID="IntegerLiteral">0</FONT>)
<FONT ID="LN">250 </FONT><A NAME="250"></A>        &amp;&amp; !m_Instances.instance(<FONT ID="IntegerLiteral">0</FONT>).isMissing(attribute)) {
<FONT ID="LN">251 </FONT><A NAME="251"></A>      <FONT ID="Double">double</FONT> lastVal = m_Instances.instance(<FONT ID="IntegerLiteral">0</FONT>).value(attribute);
<FONT ID="LN">252 </FONT><A NAME="252"></A>      <FONT ID="Double">double</FONT> currentVal, deltaSum = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">253 </FONT><A NAME="253"></A>      <FONT ID="Int">int</FONT> distinct = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">254 </FONT><A NAME="254"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">1</FONT>; i &lt; m_Instances.numInstances(); i++) {
<FONT ID="LN">255 </FONT><A NAME="255"></A>        <A HREF="../../../weka/core/Instance.java.html">Instance</A> currentInst = m_Instances.instance(i);
<FONT ID="LN">256 </FONT><A NAME="256"></A>        <FONT ID="If">if</FONT> (currentInst.isMissing(attribute)) {
<FONT ID="LN">257 </FONT><A NAME="257"></A>          <FONT ID="Break">break</FONT>;
<FONT ID="LN">258 </FONT><A NAME="258"></A>        }
<FONT ID="LN">259 </FONT><A NAME="259"></A>        currentVal = currentInst.value(attribute);
<FONT ID="LN">260 </FONT><A NAME="260"></A>        <FONT ID="If">if</FONT> (currentVal != lastVal) {
<FONT ID="LN">261 </FONT><A NAME="261"></A>          deltaSum += currentVal - lastVal;
<FONT ID="LN">262 </FONT><A NAME="262"></A>          lastVal = currentVal;
<FONT ID="LN">263 </FONT><A NAME="263"></A>          distinct++;
<FONT ID="LN">264 </FONT><A NAME="264"></A>        }
<FONT ID="LN">265 </FONT><A NAME="265"></A>      }
<FONT ID="LN">266 </FONT><A NAME="266"></A>      <FONT ID="If">if</FONT> (distinct &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">267 </FONT><A NAME="267"></A>        numPrecision = deltaSum / distinct;
<FONT ID="LN">268 </FONT><A NAME="268"></A>      }
<FONT ID="LN">269 </FONT><A NAME="269"></A>    }
<FONT ID="LN">270 </FONT><A NAME="270"></A>      }
<FONT ID="LN">271 </FONT><A NAME="271"></A>
<FONT ID="LN">272 </FONT><A NAME="272"></A>
<FONT ID="LN">273 </FONT><A NAME="273"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; m_Instances.numClasses(); j++) {
<FONT ID="LN">274 </FONT><A NAME="274"></A>    <FONT ID="Switch">switch</FONT> (attribute.type()) {
<FONT ID="LN">275 </FONT><A NAME="275"></A>    <FONT ID="Case">case</FONT> Attribute.NUMERIC: 
<FONT ID="LN">276 </FONT><A NAME="276"></A>      <FONT ID="If">if</FONT> (m_UseKernelEstimator) {
<FONT ID="LN">277 </FONT><A NAME="277"></A>        m_Distributions[attIndex][j] = 
<FONT ID="LN">278 </FONT><A NAME="278"></A>          <FONT ID="New">new</FONT> <A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A>(numPrecision);
<FONT ID="LN">279 </FONT><A NAME="279"></A>      } <FONT ID="Else">else</FONT> {
<FONT ID="LN">280 </FONT><A NAME="280"></A>        m_Distributions[attIndex][j] = 
<FONT ID="LN">281 </FONT><A NAME="281"></A>          <FONT ID="New">new</FONT> <A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A>(numPrecision);
<FONT ID="LN">282 </FONT><A NAME="282"></A>      }
<FONT ID="LN">283 </FONT><A NAME="283"></A>      <FONT ID="Break">break</FONT>;
<FONT ID="LN">284 </FONT><A NAME="284"></A>    <FONT ID="Case">case</FONT> Attribute.NOMINAL:
<FONT ID="LN">285 </FONT><A NAME="285"></A>      m_Distributions[attIndex][j] = 
<FONT ID="LN">286 </FONT><A NAME="286"></A>        <FONT ID="New">new</FONT> <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A>(attribute.numValues(), <FONT ID="True">true</FONT>);
<FONT ID="LN">287 </FONT><A NAME="287"></A>      <FONT ID="Break">break</FONT>;
<FONT ID="LN">288 </FONT><A NAME="288"></A>    <FONT ID="Default">default</FONT>:
<FONT ID="LN">289 </FONT><A NAME="289"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"Attribute type unknown to NaiveBayes"</FONT>);
<FONT ID="LN">290 </FONT><A NAME="290"></A>    }
<FONT ID="LN">291 </FONT><A NAME="291"></A>      }
<FONT ID="LN">292 </FONT><A NAME="292"></A>      attIndex++;
<FONT ID="LN">293 </FONT><A NAME="293"></A>    }
<FONT ID="LN">294 </FONT><A NAME="294"></A>
<FONT ID="LN">295 </FONT><A NAME="295"></A>    <FONT ID="SingleLineComment">// Compute counts
<FONT ID="LN">296 </FONT><A NAME="296"></A></FONT>    Enumeration enumInsts = m_Instances.enumerateInstances();
<FONT ID="LN">297 </FONT><A NAME="297"></A>    <FONT ID="While">while</FONT> (enumInsts.hasMoreElements()) {
<FONT ID="LN">298 </FONT><A NAME="298"></A>      <A HREF="../../../weka/core/Instance.java.html">Instance</A> instance = 
<FONT ID="LN">299 </FONT><A NAME="299"></A>    (<A HREF="../../../weka/core/Instance.java.html">Instance</A>) enumInsts.nextElement();
<FONT ID="LN">300 </FONT><A NAME="300"></A>      updateClassifier(instance);
<FONT ID="LN">301 </FONT><A NAME="301"></A>    }
<FONT ID="LN">302 </FONT><A NAME="302"></A>
<FONT ID="LN">303 </FONT><A NAME="303"></A>    <FONT ID="SingleLineComment">// Save space
<FONT ID="LN">304 </FONT><A NAME="304"></A></FONT>    m_Instances = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(m_Instances, <FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">305 </FONT><A NAME="305"></A>  }
<FONT ID="LN">306 </FONT><A NAME="306"></A>
<FONT ID="LN">307 </FONT><A NAME="307"></A>
<FONT ID="LN">308 </FONT><A NAME="308"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">309 </FONT><A NAME="309"></A>   * Updates the classifier with the given instance.
<FONT ID="LN">310 </FONT><A NAME="310"></A>   *
<FONT ID="LN">311 </FONT><A NAME="311"></A>   * @param instance the new training instance to include in the model 
<FONT ID="LN">312 </FONT><A NAME="312"></A>   * @exception Exception if the instance could not be incorporated in
<FONT ID="LN">313 </FONT><A NAME="313"></A>   * the model.
<FONT ID="LN">314 </FONT><A NAME="314"></A>   */</FONT>
<FONT ID="LN">315 </FONT><A NAME="315"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> updateClassifier(<A HREF="../../../weka/core/Instance.java.html">Instance</A> instance) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">316 </FONT><A NAME="316"></A>
<FONT ID="LN">317 </FONT><A NAME="317"></A>    <FONT ID="If">if</FONT> (!instance.classIsMissing()) {
<FONT ID="LN">318 </FONT><A NAME="318"></A>      Enumeration enumAtts = m_Instances.enumerateAttributes();
<FONT ID="LN">319 </FONT><A NAME="319"></A>      <FONT ID="Int">int</FONT> attIndex = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">320 </FONT><A NAME="320"></A>      <FONT ID="While">while</FONT> (enumAtts.hasMoreElements()) {
<FONT ID="LN">321 </FONT><A NAME="321"></A>    <A HREF="../../../weka/core/Attribute.java.html">Attribute</A> attribute = (<A HREF="../../../weka/core/Attribute.java.html">Attribute</A>) enumAtts.nextElement();
<FONT ID="LN">322 </FONT><A NAME="322"></A>    <FONT ID="If">if</FONT> (!instance.isMissing(attribute)) {
<FONT ID="LN">323 </FONT><A NAME="323"></A>      m_Distributions[attIndex][(<FONT ID="Int">int</FONT>)instance.classValue()].
<FONT ID="LN">324 </FONT><A NAME="324"></A>            addValue(instance.value(attribute), instance.weight());
<FONT ID="LN">325 </FONT><A NAME="325"></A>    }
<FONT ID="LN">326 </FONT><A NAME="326"></A>    attIndex++;
<FONT ID="LN">327 </FONT><A NAME="327"></A>      }
<FONT ID="LN">328 </FONT><A NAME="328"></A>      m_ClassDistribution.addValue(instance.classValue(),
<FONT ID="LN">329 </FONT><A NAME="329"></A>                                   instance.weight());
<FONT ID="LN">330 </FONT><A NAME="330"></A>    }
<FONT ID="LN">331 </FONT><A NAME="331"></A>  }
<FONT ID="LN">332 </FONT><A NAME="332"></A>
<FONT ID="LN">333 </FONT><A NAME="333"></A>
<FONT ID="LN">334 </FONT><A NAME="334"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">335 </FONT><A NAME="335"></A>   * Calculates the class membership probabilities for the given test 
<FONT ID="LN">336 </FONT><A NAME="336"></A>   * instance.
<FONT ID="LN">337 </FONT><A NAME="337"></A>   *
<FONT ID="LN">338 </FONT><A NAME="338"></A>   * @param instance the instance to be classified
<FONT ID="LN">339 </FONT><A NAME="339"></A>   * @return predicted class probability distribution
<FONT ID="LN">340 </FONT><A NAME="340"></A>   * @exception Exception if there is a problem generating the prediction
<FONT ID="LN">341 </FONT><A NAME="341"></A>   */</FONT>
<FONT ID="LN">342 </FONT><A NAME="342"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> [] distributionForInstance(<A HREF="../../../weka/core/Instance.java.html">Instance</A> instance) 
<FONT ID="LN">343 </FONT><A NAME="343"></A>    <FONT ID="Throws">throws</FONT> Exception { 
<FONT ID="LN">344 </FONT><A NAME="344"></A>
<FONT ID="LN">345 </FONT><A NAME="345"></A>    <FONT ID="If">if</FONT> (m_UseDiscretization) {
<FONT ID="LN">346 </FONT><A NAME="346"></A>      m_Disc.input(instance);
<FONT ID="LN">347 </FONT><A NAME="347"></A>      instance = m_Disc.output();
<FONT ID="LN">348 </FONT><A NAME="348"></A>    }
<FONT ID="LN">349 </FONT><A NAME="349"></A>    <FONT ID="Double">double</FONT> [] probs = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[m_NumClasses];
<FONT ID="LN">350 </FONT><A NAME="350"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; m_NumClasses; j++) {
<FONT ID="LN">351 </FONT><A NAME="351"></A>      probs[j] = m_ClassDistribution.getProbability(j);
<FONT ID="LN">352 </FONT><A NAME="352"></A>    }
<FONT ID="LN">353 </FONT><A NAME="353"></A>    Enumeration enumAtts = instance.enumerateAttributes();
<FONT ID="LN">354 </FONT><A NAME="354"></A>    <FONT ID="Int">int</FONT> attIndex = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">355 </FONT><A NAME="355"></A>    <FONT ID="While">while</FONT> (enumAtts.hasMoreElements()) {
<FONT ID="LN">356 </FONT><A NAME="356"></A>      <A HREF="../../../weka/core/Attribute.java.html">Attribute</A> attribute = (<A HREF="../../../weka/core/Attribute.java.html">Attribute</A>) enumAtts.nextElement();
<FONT ID="LN">357 </FONT><A NAME="357"></A>      <FONT ID="If">if</FONT> (!instance.isMissing(attribute)) {
<FONT ID="LN">358 </FONT><A NAME="358"></A>    <FONT ID="Double">double</FONT> temp, max = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">359 </FONT><A NAME="359"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; m_NumClasses; j++) {
<FONT ID="LN">360 </FONT><A NAME="360"></A>      temp = Math.max(<FONT ID="FloatPointLiteral">1e-75</FONT>, Math.pow(m_Distributions[attIndex][j].
<FONT ID="LN">361 </FONT><A NAME="361"></A>                                          getProbability(instance.value(attribute)), 
<FONT ID="LN">362 </FONT><A NAME="362"></A>                                          m_Instances.attribute(attIndex).weight()));
<FONT ID="LN">363 </FONT><A NAME="363"></A>      probs[j] *= temp;
<FONT ID="LN">364 </FONT><A NAME="364"></A>      <FONT ID="If">if</FONT> (probs[j] &gt; max) {
<FONT ID="LN">365 </FONT><A NAME="365"></A>        max = probs[j];
<FONT ID="LN">366 </FONT><A NAME="366"></A>      }
<FONT ID="LN">367 </FONT><A NAME="367"></A>      <FONT ID="If">if</FONT> (Double.isNaN(probs[j])) {
<FONT ID="LN">368 </FONT><A NAME="368"></A>        <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"NaN returned from estimator for attribute "</FONT>
<FONT ID="LN">369 </FONT><A NAME="369"></A>                                + attribute.name() + <FONT ID="StringLiteral">":\n"</FONT>
<FONT ID="LN">370 </FONT><A NAME="370"></A>                                + m_Distributions[attIndex][j].toString());
<FONT ID="LN">371 </FONT><A NAME="371"></A>      }
<FONT ID="LN">372 </FONT><A NAME="372"></A>    }
<FONT ID="LN">373 </FONT><A NAME="373"></A>    <FONT ID="If">if</FONT> ((max &gt; <FONT ID="IntegerLiteral">0</FONT>) &amp;&amp; (max &lt; <FONT ID="FloatPointLiteral">1e-75</FONT>)) { <FONT ID="SingleLineComment">// Danger of probability underflow
<FONT ID="LN">374 </FONT><A NAME="374"></A></FONT>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; m_NumClasses; j++) {
<FONT ID="LN">375 </FONT><A NAME="375"></A>        probs[j] *= <FONT ID="FloatPointLiteral">1e75</FONT>;
<FONT ID="LN">376 </FONT><A NAME="376"></A>      }
<FONT ID="LN">377 </FONT><A NAME="377"></A>    }
<FONT ID="LN">378 </FONT><A NAME="378"></A>      }
<FONT ID="LN">379 </FONT><A NAME="379"></A>      attIndex++;
<FONT ID="LN">380 </FONT><A NAME="380"></A>    }
<FONT ID="LN">381 </FONT><A NAME="381"></A>
<FONT ID="LN">382 </FONT><A NAME="382"></A>    <FONT ID="SingleLineComment">// Display probabilities
<FONT ID="LN">383 </FONT><A NAME="383"></A></FONT>    Utils.normalize(probs);
<FONT ID="LN">384 </FONT><A NAME="384"></A>    <FONT ID="Return">return</FONT> probs;
<FONT ID="LN">385 </FONT><A NAME="385"></A>  }
<FONT ID="LN">386 </FONT><A NAME="386"></A>
<FONT ID="LN">387 </FONT><A NAME="387"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">388 </FONT><A NAME="388"></A>   * Returns an enumeration describing the available options.
<FONT ID="LN">389 </FONT><A NAME="389"></A>   *
<FONT ID="LN">390 </FONT><A NAME="390"></A>   * @return an enumeration of all the available options.
<FONT ID="LN">391 </FONT><A NAME="391"></A>   */</FONT>
<FONT ID="LN">392 </FONT><A NAME="392"></A>  <FONT ID="Public">public</FONT> Enumeration listOptions() {
<FONT ID="LN">393 </FONT><A NAME="393"></A>
<FONT ID="LN">394 </FONT><A NAME="394"></A>    Vector newVector = <FONT ID="New">new</FONT> Vector(<FONT ID="IntegerLiteral">3</FONT>);
<FONT ID="LN">395 </FONT><A NAME="395"></A>
<FONT ID="LN">396 </FONT><A NAME="396"></A>    newVector.addElement(
<FONT ID="LN">397 </FONT><A NAME="397"></A>              <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(<FONT ID="StringLiteral">"\tUse kernel density estimator rather than normal\n"</FONT>
<FONT ID="LN">398 </FONT><A NAME="398"></A>                         +<FONT ID="StringLiteral">"\tdistribution for numeric attributes"</FONT>,
<FONT ID="LN">399 </FONT><A NAME="399"></A>                         <FONT ID="StringLiteral">"K"</FONT>, <FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-K"</FONT>));
<FONT ID="LN">400 </FONT><A NAME="400"></A>    newVector.addElement(
<FONT ID="LN">401 </FONT><A NAME="401"></A>              <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(<FONT ID="StringLiteral">"\tUse supervised discretization to process numeric attributes\n"</FONT>,
<FONT ID="LN">402 </FONT><A NAME="402"></A>                         <FONT ID="StringLiteral">"D"</FONT>, <FONT ID="IntegerLiteral">0</FONT>,<FONT ID="StringLiteral">"-D"</FONT>));
<FONT ID="LN">403 </FONT><A NAME="403"></A>    
<FONT ID="LN">404 </FONT><A NAME="404"></A>    newVector.addElement(
<FONT ID="LN">405 </FONT><A NAME="405"></A>              <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Option.java.html">Option</A>(<FONT ID="StringLiteral">"\tDisplay model in old format (good when there are "</FONT>
<FONT ID="LN">406 </FONT><A NAME="406"></A>                         + <FONT ID="StringLiteral">"many classes)\n"</FONT>,
<FONT ID="LN">407 </FONT><A NAME="407"></A>                         <FONT ID="StringLiteral">"O"</FONT>, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="StringLiteral">"-O"</FONT>));
<FONT ID="LN">408 </FONT><A NAME="408"></A>    
<FONT ID="LN">409 </FONT><A NAME="409"></A>    <FONT ID="Return">return</FONT> newVector.elements();
<FONT ID="LN">410 </FONT><A NAME="410"></A>  }
<FONT ID="LN">411 </FONT><A NAME="411"></A>
<FONT ID="LN">412 </FONT><A NAME="412"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">413 </FONT><A NAME="413"></A>   * Parses a given list of options. &lt;p/&gt;
<FONT ID="LN">414 </FONT><A NAME="414"></A>   *
<FONT ID="LN">415 </FONT><A NAME="415"></A>   &lt;!-- options-start --&gt;
<FONT ID="LN">416 </FONT><A NAME="416"></A>   * Valid options are: &lt;p/&gt;
<FONT ID="LN">417 </FONT><A NAME="417"></A>   * 
<FONT ID="LN">418 </FONT><A NAME="418"></A>   * &lt;pre&gt; -K
<FONT ID="LN">419 </FONT><A NAME="419"></A>   *  Use kernel density estimator rather than normal
<FONT ID="LN">420 </FONT><A NAME="420"></A>   *  distribution for numeric attributes&lt;/pre&gt;
<FONT ID="LN">421 </FONT><A NAME="421"></A>   * 
<FONT ID="LN">422 </FONT><A NAME="422"></A>   * &lt;pre&gt; -D
<FONT ID="LN">423 </FONT><A NAME="423"></A>   *  Use supervised discretization to process numeric attributes
<FONT ID="LN">424 </FONT><A NAME="424"></A>   * &lt;/pre&gt;
<FONT ID="LN">425 </FONT><A NAME="425"></A>   *
<FONT ID="LN">426 </FONT><A NAME="426"></A>   * &lt;pre&gt; -O
<FONT ID="LN">427 </FONT><A NAME="427"></A>   *  Display model in old format (good when there are many classes)
<FONT ID="LN">428 </FONT><A NAME="428"></A>   * &lt;/pre&gt;
<FONT ID="LN">429 </FONT><A NAME="429"></A>   * 
<FONT ID="LN">430 </FONT><A NAME="430"></A>   &lt;!-- options-end --&gt;
<FONT ID="LN">431 </FONT><A NAME="431"></A>   *
<FONT ID="LN">432 </FONT><A NAME="432"></A>   * @param options the list of options as an array of strings
<FONT ID="LN">433 </FONT><A NAME="433"></A>   * @exception Exception if an option is not supported
<FONT ID="LN">434 </FONT><A NAME="434"></A>   */</FONT>
<FONT ID="LN">435 </FONT><A NAME="435"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setOptions(String[] options) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">436 </FONT><A NAME="436"></A>
<FONT ID="LN">437 </FONT><A NAME="437"></A>    <FONT ID="Boolean">boolean</FONT> k = Utils.getFlag(<FONT ID="CharacerLiteral">'K'</FONT>, options);
<FONT ID="LN">438 </FONT><A NAME="438"></A>    <FONT ID="Boolean">boolean</FONT> d = Utils.getFlag(<FONT ID="CharacerLiteral">'D'</FONT>, options);
<FONT ID="LN">439 </FONT><A NAME="439"></A>    <FONT ID="If">if</FONT> (k &amp;&amp; d) {
<FONT ID="LN">440 </FONT><A NAME="440"></A>      <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> IllegalArgumentException(<FONT ID="StringLiteral">"Can't use both kernel density "</FONT> +
<FONT ID="LN">441 </FONT><A NAME="441"></A>                                         <FONT ID="StringLiteral">"estimation and discretization!"</FONT>);
<FONT ID="LN">442 </FONT><A NAME="442"></A>    }
<FONT ID="LN">443 </FONT><A NAME="443"></A>    setUseSupervisedDiscretization(d);
<FONT ID="LN">444 </FONT><A NAME="444"></A>    setUseKernelEstimator(k);
<FONT ID="LN">445 </FONT><A NAME="445"></A>    setDisplayModelInOldFormat(Utils.getFlag(<FONT ID="CharacerLiteral">'O'</FONT>, options));
<FONT ID="LN">446 </FONT><A NAME="446"></A>    Utils.checkForRemainingOptions(options);
<FONT ID="LN">447 </FONT><A NAME="447"></A>  }
<FONT ID="LN">448 </FONT><A NAME="448"></A>
<FONT ID="LN">449 </FONT><A NAME="449"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">450 </FONT><A NAME="450"></A>   * Gets the current settings of the classifier.
<FONT ID="LN">451 </FONT><A NAME="451"></A>   *
<FONT ID="LN">452 </FONT><A NAME="452"></A>   * @return an array of strings suitable for passing to setOptions
<FONT ID="LN">453 </FONT><A NAME="453"></A>   */</FONT>
<FONT ID="LN">454 </FONT><A NAME="454"></A>  <FONT ID="Public">public</FONT> String [] getOptions() {
<FONT ID="LN">455 </FONT><A NAME="455"></A>
<FONT ID="LN">456 </FONT><A NAME="456"></A>    String [] options = <FONT ID="New">new</FONT> String [<FONT ID="IntegerLiteral">3</FONT>];
<FONT ID="LN">457 </FONT><A NAME="457"></A>    <FONT ID="Int">int</FONT> current = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">458 </FONT><A NAME="458"></A>
<FONT ID="LN">459 </FONT><A NAME="459"></A>    <FONT ID="If">if</FONT> (m_UseKernelEstimator) {
<FONT ID="LN">460 </FONT><A NAME="460"></A>      options[current++] = <FONT ID="StringLiteral">"-K"</FONT>;
<FONT ID="LN">461 </FONT><A NAME="461"></A>    }
<FONT ID="LN">462 </FONT><A NAME="462"></A>
<FONT ID="LN">463 </FONT><A NAME="463"></A>    <FONT ID="If">if</FONT> (m_UseDiscretization) {
<FONT ID="LN">464 </FONT><A NAME="464"></A>      options[current++] = <FONT ID="StringLiteral">"-D"</FONT>;
<FONT ID="LN">465 </FONT><A NAME="465"></A>    }
<FONT ID="LN">466 </FONT><A NAME="466"></A>
<FONT ID="LN">467 </FONT><A NAME="467"></A>    <FONT ID="If">if</FONT> (m_displayModelInOldFormat) {
<FONT ID="LN">468 </FONT><A NAME="468"></A>      options[current++] = <FONT ID="StringLiteral">"-O"</FONT>;
<FONT ID="LN">469 </FONT><A NAME="469"></A>    }
<FONT ID="LN">470 </FONT><A NAME="470"></A>
<FONT ID="LN">471 </FONT><A NAME="471"></A>    <FONT ID="While">while</FONT> (current &lt; options.length) {
<FONT ID="LN">472 </FONT><A NAME="472"></A>      options[current++] = <FONT ID="StringLiteral">""</FONT>;
<FONT ID="LN">473 </FONT><A NAME="473"></A>    }
<FONT ID="LN">474 </FONT><A NAME="474"></A>    <FONT ID="Return">return</FONT> options;
<FONT ID="LN">475 </FONT><A NAME="475"></A>  }
<FONT ID="LN">476 </FONT><A NAME="476"></A>
<FONT ID="LN">477 </FONT><A NAME="477"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">478 </FONT><A NAME="478"></A>   * Returns a description of the classifier.
<FONT ID="LN">479 </FONT><A NAME="479"></A>   *
<FONT ID="LN">480 </FONT><A NAME="480"></A>   * @return a description of the classifier as a string.
<FONT ID="LN">481 </FONT><A NAME="481"></A>   */</FONT>
<FONT ID="LN">482 </FONT><A NAME="482"></A>  <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">483 </FONT><A NAME="483"></A>    <FONT ID="If">if</FONT> (m_displayModelInOldFormat) {
<FONT ID="LN">484 </FONT><A NAME="484"></A>      <FONT ID="Return">return</FONT> toStringOriginal();
<FONT ID="LN">485 </FONT><A NAME="485"></A>    }
<FONT ID="LN">486 </FONT><A NAME="486"></A>
<FONT ID="LN">487 </FONT><A NAME="487"></A>    StringBuffer temp = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">488 </FONT><A NAME="488"></A>    temp.append(<FONT ID="StringLiteral">"Naive Bayes Classifier"</FONT>);
<FONT ID="LN">489 </FONT><A NAME="489"></A>    <FONT ID="If">if</FONT> (m_Instances == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">490 </FONT><A NAME="490"></A>      temp.append(<FONT ID="StringLiteral">": No model built yet."</FONT>);
<FONT ID="LN">491 </FONT><A NAME="491"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">492 </FONT><A NAME="492"></A>
<FONT ID="LN">493 </FONT><A NAME="493"></A>      <FONT ID="Int">int</FONT> maxWidth = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">494 </FONT><A NAME="494"></A>      <FONT ID="Int">int</FONT> maxAttWidth = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">495 </FONT><A NAME="495"></A>      <FONT ID="Boolean">boolean</FONT> containsKernel = <FONT ID="False">false</FONT>;
<FONT ID="LN">496 </FONT><A NAME="496"></A>
<FONT ID="LN">497 </FONT><A NAME="497"></A>      <FONT ID="SingleLineComment">// set up max widths
<FONT ID="LN">498 </FONT><A NAME="498"></A></FONT>      <FONT ID="SingleLineComment">// class values
<FONT ID="LN">499 </FONT><A NAME="499"></A></FONT>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_Instances.numClasses(); i++) {
<FONT ID="LN">500 </FONT><A NAME="500"></A>        <FONT ID="If">if</FONT> (m_Instances.classAttribute().value(i).length() &gt; maxWidth) {
<FONT ID="LN">501 </FONT><A NAME="501"></A>          maxWidth = m_Instances.classAttribute().value(i).length();
<FONT ID="LN">502 </FONT><A NAME="502"></A>        }
<FONT ID="LN">503 </FONT><A NAME="503"></A>      }
<FONT ID="LN">504 </FONT><A NAME="504"></A>      <FONT ID="SingleLineComment">// attributes
<FONT ID="LN">505 </FONT><A NAME="505"></A></FONT>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_Instances.numAttributes(); i++) {
<FONT ID="LN">506 </FONT><A NAME="506"></A>        <FONT ID="If">if</FONT> (i != m_Instances.classIndex()) {
<FONT ID="LN">507 </FONT><A NAME="507"></A>          <A HREF="../../../weka/core/Attribute.java.html">Attribute</A> a = m_Instances.attribute(i);
<FONT ID="LN">508 </FONT><A NAME="508"></A>          <FONT ID="If">if</FONT> (a.name().length() &gt; maxAttWidth) {
<FONT ID="LN">509 </FONT><A NAME="509"></A>            maxAttWidth = m_Instances.attribute(i).name().length();
<FONT ID="LN">510 </FONT><A NAME="510"></A>          }
<FONT ID="LN">511 </FONT><A NAME="511"></A>          <FONT ID="If">if</FONT> (a.isNominal()) {
<FONT ID="LN">512 </FONT><A NAME="512"></A>            <FONT ID="SingleLineComment">// check values
<FONT ID="LN">513 </FONT><A NAME="513"></A></FONT>            <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; a.numValues(); j++) {
<FONT ID="LN">514 </FONT><A NAME="514"></A>              String val = a.value(j) + <FONT ID="StringLiteral">"  "</FONT>;
<FONT ID="LN">515 </FONT><A NAME="515"></A>              <FONT ID="If">if</FONT> (val.length() &gt; maxAttWidth) {
<FONT ID="LN">516 </FONT><A NAME="516"></A>                maxAttWidth = val.length();
<FONT ID="LN">517 </FONT><A NAME="517"></A>              }
<FONT ID="LN">518 </FONT><A NAME="518"></A>            }
<FONT ID="LN">519 </FONT><A NAME="519"></A>          }
<FONT ID="LN">520 </FONT><A NAME="520"></A>        }
<FONT ID="LN">521 </FONT><A NAME="521"></A>      }
<FONT ID="LN">522 </FONT><A NAME="522"></A>
<FONT ID="LN">523 </FONT><A NAME="523"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_Distributions.length; i++) {
<FONT ID="LN">524 </FONT><A NAME="524"></A>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; m_Instances.numClasses(); j++) {
<FONT ID="LN">525 </FONT><A NAME="525"></A>          <FONT ID="If">if</FONT> (m_Distributions[i][<FONT ID="IntegerLiteral">0</FONT>] <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A>) {
<FONT ID="LN">526 </FONT><A NAME="526"></A>            <FONT ID="SingleLineComment">// check mean/precision dev against maxWidth
<FONT ID="LN">527 </FONT><A NAME="527"></A></FONT>            <A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A> n = (<A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A>)m_Distributions[i][j];
<FONT ID="LN">528 </FONT><A NAME="528"></A>            <FONT ID="Double">double</FONT> mean = Math.log(Math.abs(n.getMean())) / Math.log(<FONT ID="FloatPointLiteral">10.0</FONT>);
<FONT ID="LN">529 </FONT><A NAME="529"></A>            <FONT ID="Double">double</FONT> precision = Math.log(Math.abs(n.getPrecision())) / Math.log(<FONT ID="FloatPointLiteral">10.0</FONT>);
<FONT ID="LN">530 </FONT><A NAME="530"></A>            <FONT ID="Double">double</FONT> width = (mean &gt; precision)
<FONT ID="LN">531 </FONT><A NAME="531"></A>              ? mean
<FONT ID="LN">532 </FONT><A NAME="532"></A>              : precision;
<FONT ID="LN">533 </FONT><A NAME="533"></A>            <FONT ID="If">if</FONT> (width &lt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">534 </FONT><A NAME="534"></A>              width = <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">535 </FONT><A NAME="535"></A>            }
<FONT ID="LN">536 </FONT><A NAME="536"></A>            <FONT ID="SingleLineComment">// decimal + # decimal places + 1
<FONT ID="LN">537 </FONT><A NAME="537"></A></FONT>            width += <FONT ID="FloatPointLiteral">6.0</FONT>;
<FONT ID="LN">538 </FONT><A NAME="538"></A>            <FONT ID="If">if</FONT> ((<FONT ID="Int">int</FONT>)width &gt; maxWidth) {
<FONT ID="LN">539 </FONT><A NAME="539"></A>              maxWidth = (<FONT ID="Int">int</FONT>)width;
<FONT ID="LN">540 </FONT><A NAME="540"></A>            }
<FONT ID="LN">541 </FONT><A NAME="541"></A>          } <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (m_Distributions[i][<FONT ID="IntegerLiteral">0</FONT>] <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A>) {
<FONT ID="LN">542 </FONT><A NAME="542"></A>            containsKernel = <FONT ID="True">true</FONT>;
<FONT ID="LN">543 </FONT><A NAME="543"></A>            <A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A> ke = (<A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A>)m_Distributions[i][j];
<FONT ID="LN">544 </FONT><A NAME="544"></A>            <FONT ID="Int">int</FONT> numK = ke.getNumKernels();
<FONT ID="LN">545 </FONT><A NAME="545"></A>            String temps = <FONT ID="StringLiteral">"K"</FONT> + numK + <FONT ID="StringLiteral">": mean (weight)"</FONT>;
<FONT ID="LN">546 </FONT><A NAME="546"></A>            <FONT ID="If">if</FONT> (maxAttWidth &lt; temps.length()) {
<FONT ID="LN">547 </FONT><A NAME="547"></A>              maxAttWidth = temps.length();
<FONT ID="LN">548 </FONT><A NAME="548"></A>            }
<FONT ID="LN">549 </FONT><A NAME="549"></A>            <FONT ID="SingleLineComment">// check means + weights against maxWidth
<FONT ID="LN">550 </FONT><A NAME="550"></A></FONT>            <FONT ID="If">if</FONT> (ke.getNumKernels() &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">551 </FONT><A NAME="551"></A>              <FONT ID="Double">double</FONT>[] means = ke.getMeans();
<FONT ID="LN">552 </FONT><A NAME="552"></A>              <FONT ID="Double">double</FONT>[] weights = ke.getWeights();
<FONT ID="LN">553 </FONT><A NAME="553"></A>              <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; ke.getNumKernels(); k++) {
<FONT ID="LN">554 </FONT><A NAME="554"></A>                String m = Utils.doubleToString(means[k], maxWidth, <FONT ID="IntegerLiteral">4</FONT>).trim();
<FONT ID="LN">555 </FONT><A NAME="555"></A>                m += <FONT ID="StringLiteral">" ("</FONT> + Utils.doubleToString(weights[k], maxWidth, <FONT ID="IntegerLiteral">1</FONT>).trim() + <FONT ID="StringLiteral">")"</FONT>;
<FONT ID="LN">556 </FONT><A NAME="556"></A>                <FONT ID="If">if</FONT> (maxWidth &lt; m.length()) {
<FONT ID="LN">557 </FONT><A NAME="557"></A>                  maxWidth = m.length();
<FONT ID="LN">558 </FONT><A NAME="558"></A>                }
<FONT ID="LN">559 </FONT><A NAME="559"></A>              }
<FONT ID="LN">560 </FONT><A NAME="560"></A>            }
<FONT ID="LN">561 </FONT><A NAME="561"></A>          } <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (m_Distributions[i][<FONT ID="IntegerLiteral">0</FONT>] <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A>) {
<FONT ID="LN">562 </FONT><A NAME="562"></A>            <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A> d = (<A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A>)m_Distributions[i][j];
<FONT ID="LN">563 </FONT><A NAME="563"></A>            <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; d.getNumSymbols(); k++) {
<FONT ID="LN">564 </FONT><A NAME="564"></A>              String size = <FONT ID="StringLiteral">""</FONT> + d.getCount(k);
<FONT ID="LN">565 </FONT><A NAME="565"></A>              <FONT ID="If">if</FONT> (size.length() &gt; maxWidth) {
<FONT ID="LN">566 </FONT><A NAME="566"></A>                maxWidth = size.length();
<FONT ID="LN">567 </FONT><A NAME="567"></A>              }
<FONT ID="LN">568 </FONT><A NAME="568"></A>            }
<FONT ID="LN">569 </FONT><A NAME="569"></A>            <FONT ID="Int">int</FONT> sum = (<FONT ID="StringLiteral">""</FONT> + d.getSumOfCounts()).length();
<FONT ID="LN">570 </FONT><A NAME="570"></A>            <FONT ID="If">if</FONT> (sum &gt; maxWidth) {
<FONT ID="LN">571 </FONT><A NAME="571"></A>              maxWidth = sum;
<FONT ID="LN">572 </FONT><A NAME="572"></A>            }
<FONT ID="LN">573 </FONT><A NAME="573"></A>          }
<FONT ID="LN">574 </FONT><A NAME="574"></A>        }
<FONT ID="LN">575 </FONT><A NAME="575"></A>      }
<FONT ID="LN">576 </FONT><A NAME="576"></A>
<FONT ID="LN">577 </FONT><A NAME="577"></A>      <FONT ID="SingleLineComment">// Check width of class labels
<FONT ID="LN">578 </FONT><A NAME="578"></A></FONT>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_Instances.numClasses(); i++) {
<FONT ID="LN">579 </FONT><A NAME="579"></A>        String cSize = m_Instances.classAttribute().value(i);
<FONT ID="LN">580 </FONT><A NAME="580"></A>        <FONT ID="If">if</FONT> (cSize.length() &gt; maxWidth) {
<FONT ID="LN">581 </FONT><A NAME="581"></A>          maxWidth = cSize.length();
<FONT ID="LN">582 </FONT><A NAME="582"></A>        }
<FONT ID="LN">583 </FONT><A NAME="583"></A>      }
<FONT ID="LN">584 </FONT><A NAME="584"></A>
<FONT ID="LN">585 </FONT><A NAME="585"></A>      <FONT ID="SingleLineComment">// Check width of class priors
<FONT ID="LN">586 </FONT><A NAME="586"></A></FONT>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_Instances.numClasses(); i++) {
<FONT ID="LN">587 </FONT><A NAME="587"></A>        String priorP = 
<FONT ID="LN">588 </FONT><A NAME="588"></A>          Utils.doubleToString(((<A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A>)m_ClassDistribution).getProbability(i),
<FONT ID="LN">589 </FONT><A NAME="589"></A>                               maxWidth, <FONT ID="IntegerLiteral">2</FONT>).trim();
<FONT ID="LN">590 </FONT><A NAME="590"></A>        priorP = <FONT ID="StringLiteral">"("</FONT> + priorP + <FONT ID="StringLiteral">")"</FONT>;
<FONT ID="LN">591 </FONT><A NAME="591"></A>        <FONT ID="If">if</FONT> (priorP.length() &gt; maxWidth) {
<FONT ID="LN">592 </FONT><A NAME="592"></A>          maxWidth = priorP.length();
<FONT ID="LN">593 </FONT><A NAME="593"></A>        }
<FONT ID="LN">594 </FONT><A NAME="594"></A>      }
<FONT ID="LN">595 </FONT><A NAME="595"></A>    
<FONT ID="LN">596 </FONT><A NAME="596"></A>      <FONT ID="If">if</FONT> (maxAttWidth &lt; <FONT ID="StringLiteral">"Attribute"</FONT>.length()) {
<FONT ID="LN">597 </FONT><A NAME="597"></A>        maxAttWidth = <FONT ID="StringLiteral">"Attribute"</FONT>.length();
<FONT ID="LN">598 </FONT><A NAME="598"></A>      }
<FONT ID="LN">599 </FONT><A NAME="599"></A>
<FONT ID="LN">600 </FONT><A NAME="600"></A>      <FONT ID="If">if</FONT> (maxAttWidth &lt; <FONT ID="StringLiteral">"  weight sum"</FONT>.length()) {
<FONT ID="LN">601 </FONT><A NAME="601"></A>        maxAttWidth = <FONT ID="StringLiteral">"  weight sum"</FONT>.length();
<FONT ID="LN">602 </FONT><A NAME="602"></A>      }
<FONT ID="LN">603 </FONT><A NAME="603"></A>
<FONT ID="LN">604 </FONT><A NAME="604"></A>      <FONT ID="If">if</FONT> (containsKernel) {
<FONT ID="LN">605 </FONT><A NAME="605"></A>        <FONT ID="If">if</FONT> (maxAttWidth &lt; <FONT ID="StringLiteral">"  [precision]"</FONT>.length()) {
<FONT ID="LN">606 </FONT><A NAME="606"></A>          maxAttWidth = <FONT ID="StringLiteral">"  [precision]"</FONT>.length();
<FONT ID="LN">607 </FONT><A NAME="607"></A>        }
<FONT ID="LN">608 </FONT><A NAME="608"></A>      }
<FONT ID="LN">609 </FONT><A NAME="609"></A>
<FONT ID="LN">610 </FONT><A NAME="610"></A>      maxAttWidth += <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">611 </FONT><A NAME="611"></A>    
<FONT ID="LN">612 </FONT><A NAME="612"></A>
<FONT ID="LN">613 </FONT><A NAME="613"></A>
<FONT ID="LN">614 </FONT><A NAME="614"></A>      temp.append(<FONT ID="StringLiteral">"\n\n"</FONT>);
<FONT ID="LN">615 </FONT><A NAME="615"></A>      temp.append(pad(<FONT ID="StringLiteral">"Class"</FONT>, <FONT ID="StringLiteral">" "</FONT>, 
<FONT ID="LN">616 </FONT><A NAME="616"></A>                      (maxAttWidth + maxWidth + <FONT ID="IntegerLiteral">1</FONT>) - <FONT ID="StringLiteral">"Class"</FONT>.length(), 
<FONT ID="LN">617 </FONT><A NAME="617"></A>                      <FONT ID="True">true</FONT>));
<FONT ID="LN">618 </FONT><A NAME="618"></A>
<FONT ID="LN">619 </FONT><A NAME="619"></A>      temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">620 </FONT><A NAME="620"></A>      temp.append(pad(<FONT ID="StringLiteral">"Attribute"</FONT>, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth - <FONT ID="StringLiteral">"Attribute"</FONT>.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">621 </FONT><A NAME="621"></A>      <FONT ID="SingleLineComment">// class labels
<FONT ID="LN">622 </FONT><A NAME="622"></A></FONT>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_Instances.numClasses(); i++) {
<FONT ID="LN">623 </FONT><A NAME="623"></A>        String classL = m_Instances.classAttribute().value(i);
<FONT ID="LN">624 </FONT><A NAME="624"></A>        temp.append(pad(classL, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - classL.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">625 </FONT><A NAME="625"></A>      }
<FONT ID="LN">626 </FONT><A NAME="626"></A>      temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">627 </FONT><A NAME="627"></A>      <FONT ID="SingleLineComment">// class priors
<FONT ID="LN">628 </FONT><A NAME="628"></A></FONT>      temp.append(pad(<FONT ID="StringLiteral">""</FONT>, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth, <FONT ID="True">true</FONT>));
<FONT ID="LN">629 </FONT><A NAME="629"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_Instances.numClasses(); i++) {
<FONT ID="LN">630 </FONT><A NAME="630"></A>        String priorP = 
<FONT ID="LN">631 </FONT><A NAME="631"></A>          Utils.doubleToString(((<A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A>)m_ClassDistribution).getProbability(i),
<FONT ID="LN">632 </FONT><A NAME="632"></A>                               maxWidth, <FONT ID="IntegerLiteral">2</FONT>).trim();
<FONT ID="LN">633 </FONT><A NAME="633"></A>        priorP = <FONT ID="StringLiteral">"("</FONT> + priorP + <FONT ID="StringLiteral">")"</FONT>;
<FONT ID="LN">634 </FONT><A NAME="634"></A>        temp.append(pad(priorP, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - priorP.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">635 </FONT><A NAME="635"></A>      }
<FONT ID="LN">636 </FONT><A NAME="636"></A>      temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">637 </FONT><A NAME="637"></A>      temp.append(pad(<FONT ID="StringLiteral">""</FONT>, <FONT ID="StringLiteral">"="</FONT>, maxAttWidth + 
<FONT ID="LN">638 </FONT><A NAME="638"></A>                      (maxWidth * m_Instances.numClasses()) 
<FONT ID="LN">639 </FONT><A NAME="639"></A>                      + m_Instances.numClasses() + <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="True">true</FONT>));
<FONT ID="LN">640 </FONT><A NAME="640"></A>      temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">641 </FONT><A NAME="641"></A>
<FONT ID="LN">642 </FONT><A NAME="642"></A>      <FONT ID="SingleLineComment">// loop over the attributes
<FONT ID="LN">643 </FONT><A NAME="643"></A></FONT>      <FONT ID="Int">int</FONT> counter = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">644 </FONT><A NAME="644"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_Instances.numAttributes(); i++) {
<FONT ID="LN">645 </FONT><A NAME="645"></A>        <FONT ID="If">if</FONT> (i == m_Instances.classIndex()) {
<FONT ID="LN">646 </FONT><A NAME="646"></A>          <FONT ID="Continue">continue</FONT>;
<FONT ID="LN">647 </FONT><A NAME="647"></A>        }
<FONT ID="LN">648 </FONT><A NAME="648"></A>        String attName = m_Instances.attribute(i).name();
<FONT ID="LN">649 </FONT><A NAME="649"></A>        temp.append(attName + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">650 </FONT><A NAME="650"></A>          
<FONT ID="LN">651 </FONT><A NAME="651"></A>        <FONT ID="If">if</FONT> (m_Distributions[counter][<FONT ID="IntegerLiteral">0</FONT>] <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A>) {
<FONT ID="LN">652 </FONT><A NAME="652"></A>          String meanL = <FONT ID="StringLiteral">"  mean"</FONT>;
<FONT ID="LN">653 </FONT><A NAME="653"></A>          temp.append(pad(meanL, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - meanL.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">654 </FONT><A NAME="654"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; m_Instances.numClasses(); j++) {            
<FONT ID="LN">655 </FONT><A NAME="655"></A>            <FONT ID="SingleLineComment">// means
<FONT ID="LN">656 </FONT><A NAME="656"></A></FONT>            <A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A> n = (<A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A>)m_Distributions[counter][j];
<FONT ID="LN">657 </FONT><A NAME="657"></A>            String mean = 
<FONT ID="LN">658 </FONT><A NAME="658"></A>              Utils.doubleToString(n.getMean(), maxWidth, <FONT ID="IntegerLiteral">4</FONT>).trim();
<FONT ID="LN">659 </FONT><A NAME="659"></A>            temp.append(pad(mean, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - mean.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">660 </FONT><A NAME="660"></A>          }
<FONT ID="LN">661 </FONT><A NAME="661"></A>          temp.append(<FONT ID="StringLiteral">"\n"</FONT>);            
<FONT ID="LN">662 </FONT><A NAME="662"></A>          <FONT ID="SingleLineComment">// now do std deviations
<FONT ID="LN">663 </FONT><A NAME="663"></A></FONT>          String stdDevL = <FONT ID="StringLiteral">"  std. dev."</FONT>;
<FONT ID="LN">664 </FONT><A NAME="664"></A>          temp.append(pad(stdDevL, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - stdDevL.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">665 </FONT><A NAME="665"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; m_Instances.numClasses(); j++) {
<FONT ID="LN">666 </FONT><A NAME="666"></A>            <A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A> n = (<A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A>)m_Distributions[counter][j];
<FONT ID="LN">667 </FONT><A NAME="667"></A>            String stdDev = 
<FONT ID="LN">668 </FONT><A NAME="668"></A>              Utils.doubleToString(n.getStdDev(), maxWidth, <FONT ID="IntegerLiteral">4</FONT>).trim();
<FONT ID="LN">669 </FONT><A NAME="669"></A>            temp.append(pad(stdDev, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - stdDev.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">670 </FONT><A NAME="670"></A>          }
<FONT ID="LN">671 </FONT><A NAME="671"></A>          temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">672 </FONT><A NAME="672"></A>          <FONT ID="SingleLineComment">// now the weight sums
<FONT ID="LN">673 </FONT><A NAME="673"></A></FONT>          String weightL = <FONT ID="StringLiteral">"  weight sum"</FONT>;
<FONT ID="LN">674 </FONT><A NAME="674"></A>          temp.append(pad(weightL, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - weightL.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">675 </FONT><A NAME="675"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; m_Instances.numClasses(); j++) {
<FONT ID="LN">676 </FONT><A NAME="676"></A>            <A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A> n = (<A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A>)m_Distributions[counter][j];
<FONT ID="LN">677 </FONT><A NAME="677"></A>            String weight = 
<FONT ID="LN">678 </FONT><A NAME="678"></A>              Utils.doubleToString(n.getSumOfWeights(), maxWidth, <FONT ID="IntegerLiteral">4</FONT>).trim();
<FONT ID="LN">679 </FONT><A NAME="679"></A>            temp.append(pad(weight, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - weight.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">680 </FONT><A NAME="680"></A>          }
<FONT ID="LN">681 </FONT><A NAME="681"></A>          temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">682 </FONT><A NAME="682"></A>          <FONT ID="SingleLineComment">// now the precisions
<FONT ID="LN">683 </FONT><A NAME="683"></A></FONT>          String precisionL = <FONT ID="StringLiteral">"  precision"</FONT>;
<FONT ID="LN">684 </FONT><A NAME="684"></A>          temp.append(pad(precisionL, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - precisionL.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">685 </FONT><A NAME="685"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; m_Instances.numClasses(); j++) {
<FONT ID="LN">686 </FONT><A NAME="686"></A>            <A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A> n = (<A HREF="../../../weka/estimators/NormalEstimator.java.html">NormalEstimator</A>)m_Distributions[counter][j];
<FONT ID="LN">687 </FONT><A NAME="687"></A>            String precision = 
<FONT ID="LN">688 </FONT><A NAME="688"></A>              Utils.doubleToString(n.getPrecision(), maxWidth, <FONT ID="IntegerLiteral">4</FONT>).trim();
<FONT ID="LN">689 </FONT><A NAME="689"></A>            temp.append(pad(precision, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - precision.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">690 </FONT><A NAME="690"></A>          }
<FONT ID="LN">691 </FONT><A NAME="691"></A>          temp.append(<FONT ID="StringLiteral">"\n\n"</FONT>);
<FONT ID="LN">692 </FONT><A NAME="692"></A>            
<FONT ID="LN">693 </FONT><A NAME="693"></A>        } <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (m_Distributions[counter][<FONT ID="IntegerLiteral">0</FONT>] <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A>) {
<FONT ID="LN">694 </FONT><A NAME="694"></A>          <A HREF="../../../weka/core/Attribute.java.html">Attribute</A> a = m_Instances.attribute(i);
<FONT ID="LN">695 </FONT><A NAME="695"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; a.numValues(); j++) {
<FONT ID="LN">696 </FONT><A NAME="696"></A>            String val = <FONT ID="StringLiteral">"  "</FONT> + a.value(j);
<FONT ID="LN">697 </FONT><A NAME="697"></A>            temp.append(pad(val, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - val.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">698 </FONT><A NAME="698"></A>            <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; m_Instances.numClasses(); k++) {
<FONT ID="LN">699 </FONT><A NAME="699"></A>              <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A> d = (<A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A>)m_Distributions[counter][k];
<FONT ID="LN">700 </FONT><A NAME="700"></A>              String count = <FONT ID="StringLiteral">""</FONT> + d.getCount(j);
<FONT ID="LN">701 </FONT><A NAME="701"></A>              temp.append(pad(count, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - count.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">702 </FONT><A NAME="702"></A>            }
<FONT ID="LN">703 </FONT><A NAME="703"></A>            temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">704 </FONT><A NAME="704"></A>          }
<FONT ID="LN">705 </FONT><A NAME="705"></A>          <FONT ID="SingleLineComment">// do the totals
<FONT ID="LN">706 </FONT><A NAME="706"></A></FONT>          String total = <FONT ID="StringLiteral">"  [total]"</FONT>;
<FONT ID="LN">707 </FONT><A NAME="707"></A>          temp.append(pad(total, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - total.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">708 </FONT><A NAME="708"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; m_Instances.numClasses(); k++) {
<FONT ID="LN">709 </FONT><A NAME="709"></A>            <A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A> d = (<A HREF="../../../weka/estimators/DiscreteEstimator.java.html">DiscreteEstimator</A>)m_Distributions[counter][k];
<FONT ID="LN">710 </FONT><A NAME="710"></A>            String count = <FONT ID="StringLiteral">""</FONT> + d.getSumOfCounts();
<FONT ID="LN">711 </FONT><A NAME="711"></A>            temp.append(pad(count, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - count.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">712 </FONT><A NAME="712"></A>          }
<FONT ID="LN">713 </FONT><A NAME="713"></A>          temp.append(<FONT ID="StringLiteral">"\n\n"</FONT>);
<FONT ID="LN">714 </FONT><A NAME="714"></A>        } <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (m_Distributions[counter][<FONT ID="IntegerLiteral">0</FONT>] <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A>) {
<FONT ID="LN">715 </FONT><A NAME="715"></A>          String kL = <FONT ID="StringLiteral">"  [# kernels]"</FONT>;
<FONT ID="LN">716 </FONT><A NAME="716"></A>          temp.append(pad(kL, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - kL.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">717 </FONT><A NAME="717"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; m_Instances.numClasses(); k++) {
<FONT ID="LN">718 </FONT><A NAME="718"></A>            <A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A> ke = (<A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A>)m_Distributions[counter][k];
<FONT ID="LN">719 </FONT><A NAME="719"></A>            String nk = <FONT ID="StringLiteral">""</FONT> + ke.getNumKernels();
<FONT ID="LN">720 </FONT><A NAME="720"></A>            temp.append(pad(nk, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - nk.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">721 </FONT><A NAME="721"></A>          }
<FONT ID="LN">722 </FONT><A NAME="722"></A>          temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">723 </FONT><A NAME="723"></A>          <FONT ID="SingleLineComment">// do num kernels, std. devs and precisions
<FONT ID="LN">724 </FONT><A NAME="724"></A></FONT>          String stdDevL = <FONT ID="StringLiteral">"  [std. dev]"</FONT>;
<FONT ID="LN">725 </FONT><A NAME="725"></A>          temp.append(pad(stdDevL, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - stdDevL.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">726 </FONT><A NAME="726"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; m_Instances.numClasses(); k++) {
<FONT ID="LN">727 </FONT><A NAME="727"></A>            <A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A> ke = (<A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A>)m_Distributions[counter][k];
<FONT ID="LN">728 </FONT><A NAME="728"></A>            String stdD = Utils.doubleToString(ke.getStdDev(), maxWidth, <FONT ID="IntegerLiteral">4</FONT>).trim(); 
<FONT ID="LN">729 </FONT><A NAME="729"></A>            temp.append(pad(stdD, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - stdD.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">730 </FONT><A NAME="730"></A>          }
<FONT ID="LN">731 </FONT><A NAME="731"></A>          temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">732 </FONT><A NAME="732"></A>          String precL = <FONT ID="StringLiteral">"  [precision]"</FONT>;
<FONT ID="LN">733 </FONT><A NAME="733"></A>          temp.append(pad(precL, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - precL.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">734 </FONT><A NAME="734"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; m_Instances.numClasses(); k++) {
<FONT ID="LN">735 </FONT><A NAME="735"></A>            <A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A> ke = (<A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A>)m_Distributions[counter][k];
<FONT ID="LN">736 </FONT><A NAME="736"></A>            String prec = Utils.doubleToString(ke.getPrecision(), maxWidth, <FONT ID="IntegerLiteral">4</FONT>).trim(); 
<FONT ID="LN">737 </FONT><A NAME="737"></A>            temp.append(pad(prec, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - prec.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">738 </FONT><A NAME="738"></A>          }
<FONT ID="LN">739 </FONT><A NAME="739"></A>          temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">740 </FONT><A NAME="740"></A>          <FONT ID="SingleLineComment">// first determine max number of kernels accross the classes
<FONT ID="LN">741 </FONT><A NAME="741"></A></FONT>          <FONT ID="Int">int</FONT> maxK = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">742 </FONT><A NAME="742"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; m_Instances.numClasses(); k++) {
<FONT ID="LN">743 </FONT><A NAME="743"></A>            <A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A> ke = (<A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A>)m_Distributions[counter][k];
<FONT ID="LN">744 </FONT><A NAME="744"></A>            <FONT ID="If">if</FONT> (ke.getNumKernels() &gt; maxK) {
<FONT ID="LN">745 </FONT><A NAME="745"></A>              maxK = ke.getNumKernels();
<FONT ID="LN">746 </FONT><A NAME="746"></A>            }
<FONT ID="LN">747 </FONT><A NAME="747"></A>          }
<FONT ID="LN">748 </FONT><A NAME="748"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; maxK; j++) {
<FONT ID="LN">749 </FONT><A NAME="749"></A>            <FONT ID="SingleLineComment">// means first
<FONT ID="LN">750 </FONT><A NAME="750"></A></FONT>            String meanL = <FONT ID="StringLiteral">"  K"</FONT> + (j+<FONT ID="IntegerLiteral">1</FONT>) + <FONT ID="StringLiteral">": mean (weight)"</FONT>;
<FONT ID="LN">751 </FONT><A NAME="751"></A>            temp.append(pad(meanL, <FONT ID="StringLiteral">" "</FONT>, maxAttWidth + <FONT ID="IntegerLiteral">1</FONT> - meanL.length(), <FONT ID="False">false</FONT>));
<FONT ID="LN">752 </FONT><A NAME="752"></A>            <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> k = <FONT ID="IntegerLiteral">0</FONT>; k &lt; m_Instances.numClasses(); k++) {
<FONT ID="LN">753 </FONT><A NAME="753"></A>              <A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A> ke = (<A HREF="../../../weka/estimators/KernelEstimator.java.html">KernelEstimator</A>)m_Distributions[counter][k];
<FONT ID="LN">754 </FONT><A NAME="754"></A>              <FONT ID="Double">double</FONT>[] means = ke.getMeans();
<FONT ID="LN">755 </FONT><A NAME="755"></A>              <FONT ID="Double">double</FONT>[] weights = ke.getWeights();
<FONT ID="LN">756 </FONT><A NAME="756"></A>              String m = <FONT ID="StringLiteral">"--"</FONT>;
<FONT ID="LN">757 </FONT><A NAME="757"></A>              <FONT ID="If">if</FONT> (ke.getNumKernels() == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">758 </FONT><A NAME="758"></A>                m = <FONT ID="StringLiteral">""</FONT> + <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">759 </FONT><A NAME="759"></A>              } <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (j &lt; ke.getNumKernels()) {
<FONT ID="LN">760 </FONT><A NAME="760"></A>                m = Utils.doubleToString(means[j], maxWidth, <FONT ID="IntegerLiteral">4</FONT>).trim();
<FONT ID="LN">761 </FONT><A NAME="761"></A>                m += <FONT ID="StringLiteral">" ("</FONT> + Utils.doubleToString(weights[j], maxWidth, <FONT ID="IntegerLiteral">1</FONT>).trim() + <FONT ID="StringLiteral">")"</FONT>;
<FONT ID="LN">762 </FONT><A NAME="762"></A>              }
<FONT ID="LN">763 </FONT><A NAME="763"></A>              temp.append(pad(m, <FONT ID="StringLiteral">" "</FONT>, maxWidth + <FONT ID="IntegerLiteral">1</FONT> - m.length(), <FONT ID="True">true</FONT>));
<FONT ID="LN">764 </FONT><A NAME="764"></A>            }
<FONT ID="LN">765 </FONT><A NAME="765"></A>            temp.append(<FONT ID="StringLiteral">"\n"</FONT>);              
<FONT ID="LN">766 </FONT><A NAME="766"></A>          }
<FONT ID="LN">767 </FONT><A NAME="767"></A>          temp.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">768 </FONT><A NAME="768"></A>        }
<FONT ID="LN">769 </FONT><A NAME="769"></A>
<FONT ID="LN">770 </FONT><A NAME="770"></A>
<FONT ID="LN">771 </FONT><A NAME="771"></A>        counter++;
<FONT ID="LN">772 </FONT><A NAME="772"></A>      }
<FONT ID="LN">773 </FONT><A NAME="773"></A>    }
<FONT ID="LN">774 </FONT><A NAME="774"></A>      
<FONT ID="LN">775 </FONT><A NAME="775"></A>    <FONT ID="Return">return</FONT> temp.toString();
<FONT ID="LN">776 </FONT><A NAME="776"></A>  }
<FONT ID="LN">777 </FONT><A NAME="777"></A>
<FONT ID="LN">778 </FONT><A NAME="778"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">779 </FONT><A NAME="779"></A>   * Returns a description of the classifier in the old format.
<FONT ID="LN">780 </FONT><A NAME="780"></A>   *
<FONT ID="LN">781 </FONT><A NAME="781"></A>   * @return a description of the classifier as a string.
<FONT ID="LN">782 </FONT><A NAME="782"></A>   */</FONT>
<FONT ID="LN">783 </FONT><A NAME="783"></A>  <FONT ID="Protected">protected</FONT> String toStringOriginal() {
<FONT ID="LN">784 </FONT><A NAME="784"></A>    
<FONT ID="LN">785 </FONT><A NAME="785"></A>    StringBuffer text = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">786 </FONT><A NAME="786"></A>
<FONT ID="LN">787 </FONT><A NAME="787"></A>    text.append(<FONT ID="StringLiteral">"Naive Bayes Classifier"</FONT>);
<FONT ID="LN">788 </FONT><A NAME="788"></A>    <FONT ID="If">if</FONT> (m_Instances == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">789 </FONT><A NAME="789"></A>      text.append(<FONT ID="StringLiteral">": No model built yet."</FONT>);
<FONT ID="LN">790 </FONT><A NAME="790"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">791 </FONT><A NAME="791"></A>      <FONT ID="Try">try</FONT> {
<FONT ID="LN">792 </FONT><A NAME="792"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; m_Distributions[<FONT ID="IntegerLiteral">0</FONT>].length; i++) {
<FONT ID="LN">793 </FONT><A NAME="793"></A>      text.append(<FONT ID="StringLiteral">"\n\nClass "</FONT> + m_Instances.classAttribute().value(i) +
<FONT ID="LN">794 </FONT><A NAME="794"></A>                      <FONT ID="StringLiteral">": Prior probability = "</FONT> + Utils.
<FONT ID="LN">795 </FONT><A NAME="795"></A>                      doubleToString(m_ClassDistribution.getProbability(i),
<FONT ID="LN">796 </FONT><A NAME="796"></A>                                     <FONT ID="IntegerLiteral">4</FONT>, <FONT ID="IntegerLiteral">2</FONT>) + <FONT ID="StringLiteral">"\n\n"</FONT>);
<FONT ID="LN">797 </FONT><A NAME="797"></A>      Enumeration enumAtts = m_Instances.enumerateAttributes();
<FONT ID="LN">798 </FONT><A NAME="798"></A>      <FONT ID="Int">int</FONT> attIndex = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">799 </FONT><A NAME="799"></A>      <FONT ID="While">while</FONT> (enumAtts.hasMoreElements()) {
<FONT ID="LN">800 </FONT><A NAME="800"></A>        <A HREF="../../../weka/core/Attribute.java.html">Attribute</A> attribute = (<A HREF="../../../weka/core/Attribute.java.html">Attribute</A>) enumAtts.nextElement();
<FONT ID="LN">801 </FONT><A NAME="801"></A>        <FONT ID="If">if</FONT> (attribute.weight() &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">802 </FONT><A NAME="802"></A>          text.append(attribute.name() + <FONT ID="StringLiteral">":  "</FONT> 
<FONT ID="LN">803 </FONT><A NAME="803"></A>                          + m_Distributions[attIndex][i]);
<FONT ID="LN">804 </FONT><A NAME="804"></A>        }
<FONT ID="LN">805 </FONT><A NAME="805"></A>        attIndex++;
<FONT ID="LN">806 </FONT><A NAME="806"></A>      }
<FONT ID="LN">807 </FONT><A NAME="807"></A>    }
<FONT ID="LN">808 </FONT><A NAME="808"></A>      } <FONT ID="Catch">catch</FONT> (Exception ex) {
<FONT ID="LN">809 </FONT><A NAME="809"></A>    text.append(ex.getMessage());
<FONT ID="LN">810 </FONT><A NAME="810"></A>      }
<FONT ID="LN">811 </FONT><A NAME="811"></A>    }
<FONT ID="LN">812 </FONT><A NAME="812"></A>
<FONT ID="LN">813 </FONT><A NAME="813"></A>    <FONT ID="Return">return</FONT> text.toString();
<FONT ID="LN">814 </FONT><A NAME="814"></A>  } 
<FONT ID="LN">815 </FONT><A NAME="815"></A>
<FONT ID="LN">816 </FONT><A NAME="816"></A>  <FONT ID="Private">private</FONT> String pad(String source, String padChar, 
<FONT ID="LN">817 </FONT><A NAME="817"></A>                     <FONT ID="Int">int</FONT> length, <FONT ID="Boolean">boolean</FONT> leftPad) {
<FONT ID="LN">818 </FONT><A NAME="818"></A>    StringBuffer temp = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">819 </FONT><A NAME="819"></A>
<FONT ID="LN">820 </FONT><A NAME="820"></A>    <FONT ID="If">if</FONT> (leftPad) {
<FONT ID="LN">821 </FONT><A NAME="821"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i&lt; length; i++) {
<FONT ID="LN">822 </FONT><A NAME="822"></A>        temp.append(padChar);
<FONT ID="LN">823 </FONT><A NAME="823"></A>      }
<FONT ID="LN">824 </FONT><A NAME="824"></A>      temp.append(source);
<FONT ID="LN">825 </FONT><A NAME="825"></A>    } <FONT ID="Else">else</FONT> {
<FONT ID="LN">826 </FONT><A NAME="826"></A>      temp.append(source);
<FONT ID="LN">827 </FONT><A NAME="827"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i&lt; length; i++) {
<FONT ID="LN">828 </FONT><A NAME="828"></A>        temp.append(padChar);
<FONT ID="LN">829 </FONT><A NAME="829"></A>      }
<FONT ID="LN">830 </FONT><A NAME="830"></A>    }
<FONT ID="LN">831 </FONT><A NAME="831"></A>    <FONT ID="Return">return</FONT> temp.toString();
<FONT ID="LN">832 </FONT><A NAME="832"></A>  }
<FONT ID="LN">833 </FONT><A NAME="833"></A>
<FONT ID="LN">834 </FONT><A NAME="834"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">835 </FONT><A NAME="835"></A>   * Returns the tip text for this property
<FONT ID="LN">836 </FONT><A NAME="836"></A>   * @return tip text for this property suitable for
<FONT ID="LN">837 </FONT><A NAME="837"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">838 </FONT><A NAME="838"></A>   */</FONT>
<FONT ID="LN">839 </FONT><A NAME="839"></A>  <FONT ID="Public">public</FONT> String useKernelEstimatorTipText() {
<FONT ID="LN">840 </FONT><A NAME="840"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Use a kernel estimator for numeric attributes rather than a "</FONT>
<FONT ID="LN">841 </FONT><A NAME="841"></A>      +<FONT ID="StringLiteral">"normal distribution."</FONT>;
<FONT ID="LN">842 </FONT><A NAME="842"></A>  }
<FONT ID="LN">843 </FONT><A NAME="843"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">844 </FONT><A NAME="844"></A>   * Gets if kernel estimator is being used.
<FONT ID="LN">845 </FONT><A NAME="845"></A>   *
<FONT ID="LN">846 </FONT><A NAME="846"></A>   * @return Value of m_UseKernelEstimatory.
<FONT ID="LN">847 </FONT><A NAME="847"></A>   */</FONT>
<FONT ID="LN">848 </FONT><A NAME="848"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getUseKernelEstimator() {
<FONT ID="LN">849 </FONT><A NAME="849"></A>
<FONT ID="LN">850 </FONT><A NAME="850"></A>    <FONT ID="Return">return</FONT> m_UseKernelEstimator;
<FONT ID="LN">851 </FONT><A NAME="851"></A>  }
<FONT ID="LN">852 </FONT><A NAME="852"></A>
<FONT ID="LN">853 </FONT><A NAME="853"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">854 </FONT><A NAME="854"></A>   * Sets if kernel estimator is to be used.
<FONT ID="LN">855 </FONT><A NAME="855"></A>   *
<FONT ID="LN">856 </FONT><A NAME="856"></A>   * @param v  Value to assign to m_UseKernelEstimatory.
<FONT ID="LN">857 </FONT><A NAME="857"></A>   */</FONT>
<FONT ID="LN">858 </FONT><A NAME="858"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setUseKernelEstimator(<FONT ID="Boolean">boolean</FONT> v) {
<FONT ID="LN">859 </FONT><A NAME="859"></A>
<FONT ID="LN">860 </FONT><A NAME="860"></A>    m_UseKernelEstimator = v;
<FONT ID="LN">861 </FONT><A NAME="861"></A>    <FONT ID="If">if</FONT> (v) {
<FONT ID="LN">862 </FONT><A NAME="862"></A>      setUseSupervisedDiscretization(<FONT ID="False">false</FONT>);
<FONT ID="LN">863 </FONT><A NAME="863"></A>    }
<FONT ID="LN">864 </FONT><A NAME="864"></A>  }
<FONT ID="LN">865 </FONT><A NAME="865"></A>
<FONT ID="LN">866 </FONT><A NAME="866"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">867 </FONT><A NAME="867"></A>   * Returns the tip text for this property
<FONT ID="LN">868 </FONT><A NAME="868"></A>   * @return tip text for this property suitable for
<FONT ID="LN">869 </FONT><A NAME="869"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">870 </FONT><A NAME="870"></A>   */</FONT>
<FONT ID="LN">871 </FONT><A NAME="871"></A>  <FONT ID="Public">public</FONT> String useSupervisedDiscretizationTipText() {
<FONT ID="LN">872 </FONT><A NAME="872"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Use supervised discretization to convert numeric attributes to nominal "</FONT>
<FONT ID="LN">873 </FONT><A NAME="873"></A>      +<FONT ID="StringLiteral">"ones."</FONT>;
<FONT ID="LN">874 </FONT><A NAME="874"></A>  }
<FONT ID="LN">875 </FONT><A NAME="875"></A>
<FONT ID="LN">876 </FONT><A NAME="876"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">877 </FONT><A NAME="877"></A>   * Get whether supervised discretization is to be used.
<FONT ID="LN">878 </FONT><A NAME="878"></A>   *
<FONT ID="LN">879 </FONT><A NAME="879"></A>   * @return true if supervised discretization is to be used.
<FONT ID="LN">880 </FONT><A NAME="880"></A>   */</FONT>
<FONT ID="LN">881 </FONT><A NAME="881"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getUseSupervisedDiscretization() {
<FONT ID="LN">882 </FONT><A NAME="882"></A>
<FONT ID="LN">883 </FONT><A NAME="883"></A>    <FONT ID="Return">return</FONT> m_UseDiscretization;
<FONT ID="LN">884 </FONT><A NAME="884"></A>  }
<FONT ID="LN">885 </FONT><A NAME="885"></A>
<FONT ID="LN">886 </FONT><A NAME="886"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">887 </FONT><A NAME="887"></A>   * Set whether supervised discretization is to be used.
<FONT ID="LN">888 </FONT><A NAME="888"></A>   *
<FONT ID="LN">889 </FONT><A NAME="889"></A>   * @param newblah true if supervised discretization is to be used.
<FONT ID="LN">890 </FONT><A NAME="890"></A>   */</FONT>
<FONT ID="LN">891 </FONT><A NAME="891"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setUseSupervisedDiscretization(<FONT ID="Boolean">boolean</FONT> newblah) {
<FONT ID="LN">892 </FONT><A NAME="892"></A>
<FONT ID="LN">893 </FONT><A NAME="893"></A>    m_UseDiscretization = newblah;
<FONT ID="LN">894 </FONT><A NAME="894"></A>    <FONT ID="If">if</FONT> (newblah) {
<FONT ID="LN">895 </FONT><A NAME="895"></A>      setUseKernelEstimator(<FONT ID="False">false</FONT>);
<FONT ID="LN">896 </FONT><A NAME="896"></A>    }
<FONT ID="LN">897 </FONT><A NAME="897"></A>  }
<FONT ID="LN">898 </FONT><A NAME="898"></A>
<FONT ID="LN">899 </FONT><A NAME="899"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">900 </FONT><A NAME="900"></A>   * Returns the tip text for this property
<FONT ID="LN">901 </FONT><A NAME="901"></A>   * @return tip text for this property suitable for
<FONT ID="LN">902 </FONT><A NAME="902"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">903 </FONT><A NAME="903"></A>   */</FONT>
<FONT ID="LN">904 </FONT><A NAME="904"></A>  <FONT ID="Public">public</FONT> String displayModelInOldFormatTipText() {
<FONT ID="LN">905 </FONT><A NAME="905"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Use old format for model output. The old format is "</FONT>
<FONT ID="LN">906 </FONT><A NAME="906"></A>      + <FONT ID="StringLiteral">"better when there are many class values. The new format "</FONT>
<FONT ID="LN">907 </FONT><A NAME="907"></A>      + <FONT ID="StringLiteral">"is better when there are fewer classes and many attributes."</FONT>;
<FONT ID="LN">908 </FONT><A NAME="908"></A>  }
<FONT ID="LN">909 </FONT><A NAME="909"></A>
<FONT ID="LN">910 </FONT><A NAME="910"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">911 </FONT><A NAME="911"></A>   * Set whether to display model output in the old, original
<FONT ID="LN">912 </FONT><A NAME="912"></A>   * format.
<FONT ID="LN">913 </FONT><A NAME="913"></A>   *
<FONT ID="LN">914 </FONT><A NAME="914"></A>   * @param d true if model ouput is to be shown in the old format
<FONT ID="LN">915 </FONT><A NAME="915"></A>   */</FONT>
<FONT ID="LN">916 </FONT><A NAME="916"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setDisplayModelInOldFormat(<FONT ID="Boolean">boolean</FONT> d) {
<FONT ID="LN">917 </FONT><A NAME="917"></A>    m_displayModelInOldFormat = d;
<FONT ID="LN">918 </FONT><A NAME="918"></A>  }
<FONT ID="LN">919 </FONT><A NAME="919"></A>
<FONT ID="LN">920 </FONT><A NAME="920"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">921 </FONT><A NAME="921"></A>   * Get whether to display model output in the old, original
<FONT ID="LN">922 </FONT><A NAME="922"></A>   * format.
<FONT ID="LN">923 </FONT><A NAME="923"></A>   *
<FONT ID="LN">924 </FONT><A NAME="924"></A>   * @return true if model ouput is to be shown in the old format
<FONT ID="LN">925 </FONT><A NAME="925"></A>   */</FONT>
<FONT ID="LN">926 </FONT><A NAME="926"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getDisplayModelInOldFormat() {
<FONT ID="LN">927 </FONT><A NAME="927"></A>    <FONT ID="Return">return</FONT> m_displayModelInOldFormat;
<FONT ID="LN">928 </FONT><A NAME="928"></A>  }
<FONT ID="LN">929 </FONT><A NAME="929"></A>  
<FONT ID="LN">930 </FONT><A NAME="930"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">931 </FONT><A NAME="931"></A>   * Returns the revision string.
<FONT ID="LN">932 </FONT><A NAME="932"></A>   * 
<FONT ID="LN">933 </FONT><A NAME="933"></A>   * @return        the revision
<FONT ID="LN">934 </FONT><A NAME="934"></A>   */</FONT>
<FONT ID="LN">935 </FONT><A NAME="935"></A>  <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">936 </FONT><A NAME="936"></A>    <FONT ID="Return">return</FONT> RevisionUtils.extract(<FONT ID="StringLiteral">"$Revision: 5928 $"</FONT>);
<FONT ID="LN">937 </FONT><A NAME="937"></A>  }
<FONT ID="LN">938 </FONT><A NAME="938"></A>
<FONT ID="LN">939 </FONT><A NAME="939"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">940 </FONT><A NAME="940"></A>   * Main method for testing this class.
<FONT ID="LN">941 </FONT><A NAME="941"></A>   *
<FONT ID="LN">942 </FONT><A NAME="942"></A>   * @param argv the options
<FONT ID="LN">943 </FONT><A NAME="943"></A>   */</FONT>
<FONT ID="LN">944 </FONT><A NAME="944"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Void">void</FONT> main(String [] argv) {
<FONT ID="LN">945 </FONT><A NAME="945"></A>    runClassifier(<FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/bayes/NaiveBayes.java.html">NaiveBayes</A>(), argv);
<FONT ID="LN">946 </FONT><A NAME="946"></A>  }
<FONT ID="LN">947 </FONT><A NAME="947"></A>}
<FONT ID="LN">948 </FONT><A NAME="948"></A>
<FONT ID="LN">949 </FONT><A NAME="949"></A></pre><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">NaiveBayes.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>

</BODY>
</HTML>