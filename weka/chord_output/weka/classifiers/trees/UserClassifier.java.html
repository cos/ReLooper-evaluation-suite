<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD>
<LINK REL=STYLESHEET TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
<META NAME="GENERATOR" CONTENT="Java2HTML Version 1.5">
<TITLE>weka.classifiers.trees.UserClassifier (Java2HTML)</TITLE>
</HEAD>
<BODY><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">UserClassifier.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>
<pre ID="Classes">
<FONT ID="LN">1   </FONT><A NAME="1"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">2   </FONT><A NAME="2"></A> *    This program is free software; you can redistribute it and/or modify
<FONT ID="LN">3   </FONT><A NAME="3"></A> *    it under the terms of the GNU General Public License as published by
<FONT ID="LN">4   </FONT><A NAME="4"></A> *    the Free Software Foundation; either version 2 of the License, or
<FONT ID="LN">5   </FONT><A NAME="5"></A> *    (at your option) any later version.
<FONT ID="LN">6   </FONT><A NAME="6"></A> *
<FONT ID="LN">7   </FONT><A NAME="7"></A> *    This program is distributed in the hope that it will be useful,
<FONT ID="LN">8   </FONT><A NAME="8"></A> *    but WITHOUT ANY WARRANTY; without even the implied warranty of
<FONT ID="LN">9   </FONT><A NAME="9"></A> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
<FONT ID="LN">10  </FONT><A NAME="10"></A> *    GNU General Public License for more details.
<FONT ID="LN">11  </FONT><A NAME="11"></A> *
<FONT ID="LN">12  </FONT><A NAME="12"></A> *    You should have received a copy of the GNU General Public License
<FONT ID="LN">13  </FONT><A NAME="13"></A> *    along with this program; if not, write to the Free Software
<FONT ID="LN">14  </FONT><A NAME="14"></A> *    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
<FONT ID="LN">15  </FONT><A NAME="15"></A> */</FONT>
<FONT ID="LN">16  </FONT><A NAME="16"></A>
<FONT ID="LN">17  </FONT><A NAME="17"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">18  </FONT><A NAME="18"></A> *    UserClassifier.java
<FONT ID="LN">19  </FONT><A NAME="19"></A> *    Copyright (C) 1999 University of Waikato, Hamilton, New Zealand
<FONT ID="LN">20  </FONT><A NAME="20"></A> *
<FONT ID="LN">21  </FONT><A NAME="21"></A> */</FONT>
<FONT ID="LN">22  </FONT><A NAME="22"></A>
<FONT ID="LN">23  </FONT><A NAME="23"></A><FONT ID="Package">package</FONT> weka.classifiers.trees;
<FONT ID="LN">24  </FONT><A NAME="24"></A>
<FONT ID="LN">25  </FONT><A NAME="25"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/Classifier.java.html">weka.classifiers.Classifier</A>;
<FONT ID="LN">26  </FONT><A NAME="26"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/AbstractClassifier.java.html">weka.classifiers.AbstractClassifier</A>;
<FONT ID="LN">27  </FONT><A NAME="27"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/classifiers/functions/LinearRegression.java.html">weka.classifiers.functions.LinearRegression</A>;
<FONT ID="LN">28  </FONT><A NAME="28"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Capabilities.java.html">weka.core.Capabilities</A>;
<FONT ID="LN">29  </FONT><A NAME="29"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Drawable.java.html">weka.core.Drawable</A>;
<FONT ID="LN">30  </FONT><A NAME="30"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/FastVector.java.html">weka.core.FastVector</A>;
<FONT ID="LN">31  </FONT><A NAME="31"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Instance.java.html">weka.core.Instance</A>;
<FONT ID="LN">32  </FONT><A NAME="32"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Instances.java.html">weka.core.Instances</A>;
<FONT ID="LN">33  </FONT><A NAME="33"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/RevisionHandler.java.html">weka.core.RevisionHandler</A>;
<FONT ID="LN">34  </FONT><A NAME="34"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/RevisionUtils.java.html">weka.core.RevisionUtils</A>;
<FONT ID="LN">35  </FONT><A NAME="35"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation</A>;
<FONT ID="LN">36  </FONT><A NAME="36"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformationHandler.java.html">weka.core.TechnicalInformationHandler</A>;
<FONT ID="LN">37  </FONT><A NAME="37"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Utils.java.html">weka.core.Utils</A>;
<FONT ID="LN">38  </FONT><A NAME="38"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/Capabilities.java.html">weka.core.Capabilities.Capability</A>;
<FONT ID="LN">39  </FONT><A NAME="39"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation.Field</A>;
<FONT ID="LN">40  </FONT><A NAME="40"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation.Type</A>;
<FONT ID="LN">41  </FONT><A NAME="41"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/filters/Filter.java.html">weka.filters.Filter</A>;
<FONT ID="LN">42  </FONT><A NAME="42"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/Remove.java.html">weka.filters.unsupervised.attribute.Remove</A>;
<FONT ID="LN">43  </FONT><A NAME="43"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/GenericObjectEditor.java.html">weka.gui.GenericObjectEditor</A>;
<FONT ID="LN">44  </FONT><A NAME="44"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/PropertyDialog.java.html">weka.gui.PropertyDialog</A>;
<FONT ID="LN">45  </FONT><A NAME="45"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/treevisualizer/PlaceNode1.java.html">weka.gui.treevisualizer.PlaceNode1</A>;
<FONT ID="LN">46  </FONT><A NAME="46"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/treevisualizer/PlaceNode2.java.html">weka.gui.treevisualizer.PlaceNode2</A>;
<FONT ID="LN">47  </FONT><A NAME="47"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/treevisualizer/TreeDisplayEvent.java.html">weka.gui.treevisualizer.TreeDisplayEvent</A>;
<FONT ID="LN">48  </FONT><A NAME="48"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/treevisualizer/TreeDisplayListener.java.html">weka.gui.treevisualizer.TreeDisplayListener</A>;
<FONT ID="LN">49  </FONT><A NAME="49"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/treevisualizer/TreeVisualizer.java.html">weka.gui.treevisualizer.TreeVisualizer</A>;
<FONT ID="LN">50  </FONT><A NAME="50"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/visualize/VisualizePanel.java.html">weka.gui.visualize.VisualizePanel</A>;
<FONT ID="LN">51  </FONT><A NAME="51"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/visualize/VisualizePanelEvent.java.html">weka.gui.visualize.VisualizePanelEvent</A>;
<FONT ID="LN">52  </FONT><A NAME="52"></A><FONT ID="Import">import</FONT> <A HREF="../../../weka/gui/visualize/VisualizePanelListener.java.html">weka.gui.visualize.VisualizePanelListener</A>;
<FONT ID="LN">53  </FONT><A NAME="53"></A>
<FONT ID="LN">54  </FONT><A NAME="54"></A><FONT ID="Import">import</FONT> java.awt.Frame;
<FONT ID="LN">55  </FONT><A NAME="55"></A><FONT ID="Import">import</FONT> java.awt.event.ActionEvent;
<FONT ID="LN">56  </FONT><A NAME="56"></A><FONT ID="Import">import</FONT> java.awt.event.ActionListener;
<FONT ID="LN">57  </FONT><A NAME="57"></A><FONT ID="Import">import</FONT> java.awt.event.WindowAdapter;
<FONT ID="LN">58  </FONT><A NAME="58"></A><FONT ID="Import">import</FONT> java.awt.event.WindowEvent;
<FONT ID="LN">59  </FONT><A NAME="59"></A><FONT ID="Import">import</FONT> java.io.Serializable;
<FONT ID="LN">60  </FONT><A NAME="60"></A>
<FONT ID="LN">61  </FONT><A NAME="61"></A><FONT ID="Import">import</FONT> javax.swing.JFrame;
<FONT ID="LN">62  </FONT><A NAME="62"></A><FONT ID="Import">import</FONT> javax.swing.JOptionPane;
<FONT ID="LN">63  </FONT><A NAME="63"></A><FONT ID="Import">import</FONT> javax.swing.JTabbedPane;
<FONT ID="LN">64  </FONT><A NAME="64"></A>
<FONT ID="LN">65  </FONT><A NAME="65"></A>
<FONT ID="LN">66  </FONT><A NAME="66"></A><FONT ID="FormalComment">/**
<FONT ID="LN">67  </FONT><A NAME="67"></A> &lt;!-- globalinfo-start --&gt;
<FONT ID="LN">68  </FONT><A NAME="68"></A> * Interactively classify through visual means. You are Presented with a scatter graph of the data against two user selectable attributes, as well as a view of the decision tree. You can create binary splits by creating polygons around data plotted on the scatter graph, as well as by allowing another classifier to take over at points in the decision tree should you see fit.&lt;br/&gt;
<FONT ID="LN">69  </FONT><A NAME="69"></A> * &lt;br/&gt;
<FONT ID="LN">70  </FONT><A NAME="70"></A> * For more information see:&lt;br/&gt;
<FONT ID="LN">71  </FONT><A NAME="71"></A> * &lt;br/&gt;
<FONT ID="LN">72  </FONT><A NAME="72"></A> * Malcolm Ware, Eibe Frank, Geoffrey Holmes, Mark Hall, Ian H. Witten (2001). Interactive machine learning: letting users build classifiers. Int. J. Hum.-Comput. Stud.. 55(3):281-292.
<FONT ID="LN">73  </FONT><A NAME="73"></A> * &lt;p/&gt;
<FONT ID="LN">74  </FONT><A NAME="74"></A> &lt;!-- globalinfo-end --&gt;
<FONT ID="LN">75  </FONT><A NAME="75"></A> *
<FONT ID="LN">76  </FONT><A NAME="76"></A> &lt;!-- technical-bibtex-start --&gt;
<FONT ID="LN">77  </FONT><A NAME="77"></A> * BibTeX:
<FONT ID="LN">78  </FONT><A NAME="78"></A> * &lt;pre&gt;
<FONT ID="LN">79  </FONT><A NAME="79"></A> * &amp;#64;article{Ware2001,
<FONT ID="LN">80  </FONT><A NAME="80"></A> *    author = {Malcolm Ware and Eibe Frank and Geoffrey Holmes and Mark Hall and Ian H. Witten},
<FONT ID="LN">81  </FONT><A NAME="81"></A> *    journal = {Int. J. Hum.-Comput. Stud.},
<FONT ID="LN">82  </FONT><A NAME="82"></A> *    number = {3},
<FONT ID="LN">83  </FONT><A NAME="83"></A> *    pages = {281-292},
<FONT ID="LN">84  </FONT><A NAME="84"></A> *    title = {Interactive machine learning: letting users build classifiers},
<FONT ID="LN">85  </FONT><A NAME="85"></A> *    volume = {55},
<FONT ID="LN">86  </FONT><A NAME="86"></A> *    year = {2001},
<FONT ID="LN">87  </FONT><A NAME="87"></A> *    PS = {http://www.cs.waikato.ac.nz/\~ml/publications/2000/00MW-etal-Interactive-ML.ps}
<FONT ID="LN">88  </FONT><A NAME="88"></A> * }
<FONT ID="LN">89  </FONT><A NAME="89"></A> * &lt;/pre&gt;
<FONT ID="LN">90  </FONT><A NAME="90"></A> * &lt;p/&gt;
<FONT ID="LN">91  </FONT><A NAME="91"></A> &lt;!-- technical-bibtex-end --&gt;
<FONT ID="LN">92  </FONT><A NAME="92"></A> *
<FONT ID="LN">93  </FONT><A NAME="93"></A> &lt;!-- options-start --&gt;
<FONT ID="LN">94  </FONT><A NAME="94"></A> * Valid options are: &lt;p/&gt;
<FONT ID="LN">95  </FONT><A NAME="95"></A> * 
<FONT ID="LN">96  </FONT><A NAME="96"></A> * &lt;pre&gt; -D
<FONT ID="LN">97  </FONT><A NAME="97"></A> *  If set, classifier is run in debug mode and
<FONT ID="LN">98  </FONT><A NAME="98"></A> *  may output additional info to the console&lt;/pre&gt;
<FONT ID="LN">99  </FONT><A NAME="99"></A> * 
<FONT ID="LN">100 </FONT><A NAME="100"></A> &lt;!-- options-end --&gt;
<FONT ID="LN">101 </FONT><A NAME="101"></A> *
<FONT ID="LN">102 </FONT><A NAME="102"></A> * @author Malcolm Ware (mfw4@cs.waikato.ac.nz)
<FONT ID="LN">103 </FONT><A NAME="103"></A> * @version $Revision: 5987 $
<FONT ID="LN">104 </FONT><A NAME="104"></A> */</FONT>
<FONT ID="LN">105 </FONT><A NAME="105"></A><FONT ID="Public">public</FONT> <FONT ID="Class">class</FONT> UserClassifier 
<FONT ID="LN">106 </FONT><A NAME="106"></A>  <FONT ID="Extends">extends</FONT> <A HREF="../../../weka/classifiers/AbstractClassifier.java.html">AbstractClassifier</A> 
<FONT ID="LN">107 </FONT><A NAME="107"></A>  <FONT ID="Implements">implements</FONT> <A HREF="../../../weka/core/Drawable.java.html">Drawable</A>, <A HREF="../../../weka/gui/treevisualizer/TreeDisplayListener.java.html">TreeDisplayListener</A>, <A HREF="../../../weka/gui/visualize/VisualizePanelListener.java.html">VisualizePanelListener</A>,
<FONT ID="LN">108 </FONT><A NAME="108"></A>             <A HREF="../../../weka/core/TechnicalInformationHandler.java.html">TechnicalInformationHandler</A> {
<FONT ID="LN">109 </FONT><A NAME="109"></A>  
<FONT ID="LN">110 </FONT><A NAME="110"></A>  <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">111 </FONT><A NAME="111"></A>  <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">6483901103562809843L</FONT>;
<FONT ID="LN">112 </FONT><A NAME="112"></A>
<FONT ID="LN">113 </FONT><A NAME="113"></A>  <FONT ID="FormalComment">/** I am not sure if these are strictly adhered to in visualizepanel
<FONT ID="LN">114 </FONT><A NAME="114"></A>   * so I am making them private to avoid confusion, (note that they will
<FONT ID="LN">115 </FONT><A NAME="115"></A>   * be correct in this class, VLINE and HLINE aren't used).
<FONT ID="LN">116 </FONT><A NAME="116"></A>   */</FONT>
<FONT ID="LN">117 </FONT><A NAME="117"></A>  <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> LEAF = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">118 </FONT><A NAME="118"></A>  <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> RECTANGLE = <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">119 </FONT><A NAME="119"></A>  <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> POLYGON = <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">120 </FONT><A NAME="120"></A>  <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> POLYLINE = <FONT ID="IntegerLiteral">3</FONT>;
<FONT ID="LN">121 </FONT><A NAME="121"></A>  <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> VLINE = <FONT ID="IntegerLiteral">5</FONT>;
<FONT ID="LN">122 </FONT><A NAME="122"></A>  <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Int">int</FONT> HLINE =<FONT ID="IntegerLiteral">6</FONT>;
<FONT ID="LN">123 </FONT><A NAME="123"></A>  
<FONT ID="LN">124 </FONT><A NAME="124"></A>
<FONT ID="LN">125 </FONT><A NAME="125"></A>  <FONT ID="FormalComment">/** The tree display panel. */</FONT>
<FONT ID="LN">126 </FONT><A NAME="126"></A>  <FONT ID="Private">private</FONT> <FONT ID="Transient">transient</FONT> <A HREF="../../../weka/gui/treevisualizer/TreeVisualizer.java.html">TreeVisualizer</A> m_tView = <FONT ID="Null">null</FONT>;
<FONT ID="LN">127 </FONT><A NAME="127"></A>  <FONT ID="FormalComment">/** The instances display. */</FONT>
<FONT ID="LN">128 </FONT><A NAME="128"></A>  <FONT ID="Private">private</FONT> <FONT ID="Transient">transient</FONT> <A HREF="../../../weka/gui/visualize/VisualizePanel.java.html">VisualizePanel</A> m_iView = <FONT ID="Null">null</FONT>;
<FONT ID="LN">129 </FONT><A NAME="129"></A>  <FONT ID="FormalComment">/** Two references to the structure of the decision tree. */</FONT>
<FONT ID="LN">130 </FONT><A NAME="130"></A>  <FONT ID="Private">private</FONT> TreeClass m_top, m_focus;
<FONT ID="LN">131 </FONT><A NAME="131"></A>  <FONT ID="FormalComment">/** The next number that can be used as a unique id for a node. */</FONT>
<FONT ID="LN">132 </FONT><A NAME="132"></A>  <FONT ID="Private">private</FONT> <FONT ID="Int">int</FONT> m_nextId;
<FONT ID="LN">133 </FONT><A NAME="133"></A>  <FONT ID="FormalComment">/** The tabbed window for the tree and instances view. */</FONT>
<FONT ID="LN">134 </FONT><A NAME="134"></A>  <FONT ID="Private">private</FONT> <FONT ID="Transient">transient</FONT> JTabbedPane m_reps;
<FONT ID="LN">135 </FONT><A NAME="135"></A>  <FONT ID="FormalComment">/** The window. */</FONT>
<FONT ID="LN">136 </FONT><A NAME="136"></A>  <FONT ID="Private">private</FONT> <FONT ID="Transient">transient</FONT> JFrame m_mainWin;
<FONT ID="LN">137 </FONT><A NAME="137"></A>  <FONT ID="FormalComment">/** The status of whether there is a decision tree ready or not. */</FONT>
<FONT ID="LN">138 </FONT><A NAME="138"></A>  <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> m_built=<FONT ID="False">false</FONT>;
<FONT ID="LN">139 </FONT><A NAME="139"></A>  <FONT ID="FormalComment">/** A list of other m_classifiers. */</FONT>
<FONT ID="LN">140 </FONT><A NAME="140"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/gui/GenericObjectEditor.java.html">GenericObjectEditor</A> m_classifiers;
<FONT ID="LN">141 </FONT><A NAME="141"></A>  <FONT ID="FormalComment">/** A window for selecting other classifiers. */</FONT>
<FONT ID="LN">142 </FONT><A NAME="142"></A>  <FONT ID="Private">private</FONT> <A HREF="../../../weka/gui/PropertyDialog.java.html">PropertyDialog</A> m_propertyDialog;
<FONT ID="LN">143 </FONT><A NAME="143"></A>
<FONT ID="LN">144 </FONT><A NAME="144"></A>  <FONT ID="FormalComment">/** Register the property editors we need */</FONT>
<FONT ID="LN">145 </FONT><A NAME="145"></A>  <FONT ID="Static">static</FONT> {
<FONT ID="LN">146 </FONT><A NAME="146"></A>     GenericObjectEditor.registerEditors();
<FONT ID="LN">147 </FONT><A NAME="147"></A>  }
<FONT ID="LN">148 </FONT><A NAME="148"></A>
<FONT ID="LN">149 </FONT><A NAME="149"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">150 </FONT><A NAME="150"></A>   * Main method for testing this class.
<FONT ID="LN">151 </FONT><A NAME="151"></A>   *
<FONT ID="LN">152 </FONT><A NAME="152"></A>   * @param argv should contain command line options (see setOptions)
<FONT ID="LN">153 </FONT><A NAME="153"></A>   */</FONT>
<FONT ID="LN">154 </FONT><A NAME="154"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Void">void</FONT> main(String [] argv) {
<FONT ID="LN">155 </FONT><A NAME="155"></A>    runClassifier(<FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/trees/UserClassifier.java.html">UserClassifier</A>(), argv);
<FONT ID="LN">156 </FONT><A NAME="156"></A>  }
<FONT ID="LN">157 </FONT><A NAME="157"></A>
<FONT ID="LN">158 </FONT><A NAME="158"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">159 </FONT><A NAME="159"></A>   * @return a string that represents this objects tree.
<FONT ID="LN">160 </FONT><A NAME="160"></A>   */</FONT>
<FONT ID="LN">161 </FONT><A NAME="161"></A>  <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">162 </FONT><A NAME="162"></A>    <FONT ID="If">if</FONT> (!m_built) {
<FONT ID="LN">163 </FONT><A NAME="163"></A>
<FONT ID="LN">164 </FONT><A NAME="164"></A>      <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Tree Not Built"</FONT>;
<FONT ID="LN">165 </FONT><A NAME="165"></A>    }
<FONT ID="LN">166 </FONT><A NAME="166"></A>    StringBuffer text = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">167 </FONT><A NAME="167"></A>    <FONT ID="Try">try</FONT> {
<FONT ID="LN">168 </FONT><A NAME="168"></A>      m_top.toString(<FONT ID="IntegerLiteral">0</FONT>, text);
<FONT ID="LN">169 </FONT><A NAME="169"></A>      
<FONT ID="LN">170 </FONT><A NAME="170"></A>      m_top.objectStrings(text);
<FONT ID="LN">171 </FONT><A NAME="171"></A>
<FONT ID="LN">172 </FONT><A NAME="172"></A>    } <FONT ID="Catch">catch</FONT>(Exception e) {
<FONT ID="LN">173 </FONT><A NAME="173"></A>      System.out.println(<FONT ID="StringLiteral">"error: "</FONT> + e.getMessage());
<FONT ID="LN">174 </FONT><A NAME="174"></A>    }
<FONT ID="LN">175 </FONT><A NAME="175"></A>    
<FONT ID="LN">176 </FONT><A NAME="176"></A>    <FONT ID="Return">return</FONT> text.toString();
<FONT ID="LN">177 </FONT><A NAME="177"></A>  }
<FONT ID="LN">178 </FONT><A NAME="178"></A>
<FONT ID="LN">179 </FONT><A NAME="179"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">180 </FONT><A NAME="180"></A>   * Receives user choices from the tree view, and then deals with these 
<FONT ID="LN">181 </FONT><A NAME="181"></A>   * choices. 
<FONT ID="LN">182 </FONT><A NAME="182"></A>   * @param e The choice. 
<FONT ID="LN">183 </FONT><A NAME="183"></A>   */</FONT>
<FONT ID="LN">184 </FONT><A NAME="184"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> userCommand(<A HREF="../../../weka/gui/treevisualizer/TreeDisplayEvent.java.html">TreeDisplayEvent</A> e) {
<FONT ID="LN">185 </FONT><A NAME="185"></A>    
<FONT ID="LN">186 </FONT><A NAME="186"></A>    <FONT ID="If">if</FONT> (m_propertyDialog != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">187 </FONT><A NAME="187"></A>      m_propertyDialog.dispose();
<FONT ID="LN">188 </FONT><A NAME="188"></A>      m_propertyDialog = <FONT ID="Null">null</FONT>;
<FONT ID="LN">189 </FONT><A NAME="189"></A>    }
<FONT ID="LN">190 </FONT><A NAME="190"></A>    <FONT ID="Try">try</FONT> {
<FONT ID="LN">191 </FONT><A NAME="191"></A>      <FONT ID="If">if</FONT> (m_iView == <FONT ID="Null">null</FONT> || m_tView == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">192 </FONT><A NAME="192"></A>    <FONT ID="SingleLineComment">//throw exception
<FONT ID="LN">193 </FONT><A NAME="193"></A></FONT>      }
<FONT ID="LN">194 </FONT><A NAME="194"></A>      <FONT ID="If">if</FONT> (e.getCommand() == TreeDisplayEvent.NO_COMMAND) {
<FONT ID="LN">195 </FONT><A NAME="195"></A>    <FONT ID="SingleLineComment">//do nothing
<FONT ID="LN">196 </FONT><A NAME="196"></A></FONT>      }
<FONT ID="LN">197 </FONT><A NAME="197"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (e.getCommand() == TreeDisplayEvent.ADD_CHILDREN) {
<FONT ID="LN">198 </FONT><A NAME="198"></A>    <FONT ID="SingleLineComment">//highlight the particular node and reset the vis panel
<FONT ID="LN">199 </FONT><A NAME="199"></A></FONT>    <FONT ID="If">if</FONT> (m_top == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">200 </FONT><A NAME="200"></A>      <FONT ID="SingleLineComment">//this shouldn't happen , someone elses code would 
<FONT ID="LN">201 </FONT><A NAME="201"></A></FONT>      <FONT ID="SingleLineComment">//have to have added a trigger to this listener.
<FONT ID="LN">202 </FONT><A NAME="202"></A></FONT>      System.out.println(<FONT ID="StringLiteral">"Error : Received event from a TreeDisplayer"</FONT>
<FONT ID="LN">203 </FONT><A NAME="203"></A>                 + <FONT ID="StringLiteral">" that is unknown to the classifier."</FONT>);
<FONT ID="LN">204 </FONT><A NAME="204"></A>    }
<FONT ID="LN">205 </FONT><A NAME="205"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">206 </FONT><A NAME="206"></A>      m_tView.setHighlight(e.getID());
<FONT ID="LN">207 </FONT><A NAME="207"></A>      <FONT ID="MultiLineComment">/*if (m_iView == null)
<FONT ID="LN">208 </FONT><A NAME="208"></A>        {
<FONT ID="LN">209 </FONT><A NAME="209"></A>        m_iView = new VisualizePanel(this);
<FONT ID="LN">210 </FONT><A NAME="210"></A>        m_iView.setSize(400, 300);
<FONT ID="LN">211 </FONT><A NAME="211"></A>        }*/</FONT>
<FONT ID="LN">212 </FONT><A NAME="212"></A>      m_focus = m_top.getNode(e.getID());
<FONT ID="LN">213 </FONT><A NAME="213"></A>      m_iView.setInstances(m_focus.m_training);
<FONT ID="LN">214 </FONT><A NAME="214"></A>      <FONT ID="If">if</FONT> (m_focus.m_attrib1 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">215 </FONT><A NAME="215"></A>        m_iView.setXIndex(m_focus.m_attrib1);
<FONT ID="LN">216 </FONT><A NAME="216"></A>      }
<FONT ID="LN">217 </FONT><A NAME="217"></A>      <FONT ID="If">if</FONT> (m_focus.m_attrib2 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">218 </FONT><A NAME="218"></A>        m_iView.setYIndex(m_focus.m_attrib2);
<FONT ID="LN">219 </FONT><A NAME="219"></A>      }
<FONT ID="LN">220 </FONT><A NAME="220"></A>      m_iView.setColourIndex(m_focus.m_training.classIndex());
<FONT ID="LN">221 </FONT><A NAME="221"></A>      <FONT ID="If">if</FONT> (((Double)((<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_focus.m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).
<FONT ID="LN">222 </FONT><A NAME="222"></A>           elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() != LEAF) {
<FONT ID="LN">223 </FONT><A NAME="223"></A>        m_iView.setShapes(m_focus.m_ranges);
<FONT ID="LN">224 </FONT><A NAME="224"></A>      }
<FONT ID="LN">225 </FONT><A NAME="225"></A>      <FONT ID="SingleLineComment">//m_iView.setSIndex(2);
<FONT ID="LN">226 </FONT><A NAME="226"></A></FONT>    }
<FONT ID="LN">227 </FONT><A NAME="227"></A>      }
<FONT ID="LN">228 </FONT><A NAME="228"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (e.getCommand() == TreeDisplayEvent.REMOVE_CHILDREN) {
<FONT ID="LN">229 </FONT><A NAME="229"></A>    <FONT ID="MultiLineComment">/*if (m_iView == null)
<FONT ID="LN">230 </FONT><A NAME="230"></A>      {
<FONT ID="LN">231 </FONT><A NAME="231"></A>      m_iView = new VisualizePanel(this);
<FONT ID="LN">232 </FONT><A NAME="232"></A>      m_iView.setSize(400, 300);
<FONT ID="LN">233 </FONT><A NAME="233"></A>      }*/</FONT>
<FONT ID="LN">234 </FONT><A NAME="234"></A>    m_focus = m_top.getNode(e.getID());
<FONT ID="LN">235 </FONT><A NAME="235"></A>    m_iView.setInstances(m_focus.m_training);
<FONT ID="LN">236 </FONT><A NAME="236"></A>    <FONT ID="If">if</FONT> (m_focus.m_attrib1 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">237 </FONT><A NAME="237"></A>      m_iView.setXIndex(m_focus.m_attrib1);
<FONT ID="LN">238 </FONT><A NAME="238"></A>    }
<FONT ID="LN">239 </FONT><A NAME="239"></A>    <FONT ID="If">if</FONT> (m_focus.m_attrib2 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">240 </FONT><A NAME="240"></A>      m_iView.setYIndex(m_focus.m_attrib2);
<FONT ID="LN">241 </FONT><A NAME="241"></A>    }
<FONT ID="LN">242 </FONT><A NAME="242"></A>    m_iView.setColourIndex(m_focus.m_training.classIndex());
<FONT ID="LN">243 </FONT><A NAME="243"></A>    <FONT ID="If">if</FONT> (((Double)((<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_focus.m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).
<FONT ID="LN">244 </FONT><A NAME="244"></A>         elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() != LEAF) {
<FONT ID="LN">245 </FONT><A NAME="245"></A>      m_iView.setShapes(m_focus.m_ranges);
<FONT ID="LN">246 </FONT><A NAME="246"></A>    }
<FONT ID="LN">247 </FONT><A NAME="247"></A>    <FONT ID="SingleLineComment">//m_iView.setSIndex(2);
<FONT ID="LN">248 </FONT><A NAME="248"></A></FONT>    <FONT ID="SingleLineComment">//now to remove all the stuff
<FONT ID="LN">249 </FONT><A NAME="249"></A></FONT>    m_focus.m_set1 = <FONT ID="Null">null</FONT>;
<FONT ID="LN">250 </FONT><A NAME="250"></A>    m_focus.m_set2 = <FONT ID="Null">null</FONT>;
<FONT ID="LN">251 </FONT><A NAME="251"></A>    m_focus.setInfo(m_focus.m_attrib1, m_focus.m_attrib2, <FONT ID="Null">null</FONT>);
<FONT ID="LN">252 </FONT><A NAME="252"></A>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().removeAll();
<FONT ID="LN">253 </FONT><A NAME="253"></A></FONT>    m_tView = <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/treevisualizer/TreeVisualizer.java.html">TreeVisualizer</A>(<FONT ID="This">this</FONT>, graph(), <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/treevisualizer/PlaceNode2.java.html">PlaceNode2</A>());
<FONT ID="LN">254 </FONT><A NAME="254"></A>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().add(m_tView);
<FONT ID="LN">255 </FONT><A NAME="255"></A></FONT>    m_reps.setComponentAt(<FONT ID="IntegerLiteral">0</FONT>, m_tView);
<FONT ID="LN">256 </FONT><A NAME="256"></A>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().doLayout();
<FONT ID="LN">257 </FONT><A NAME="257"></A></FONT>    m_tView.setHighlight(m_focus.m_identity);
<FONT ID="LN">258 </FONT><A NAME="258"></A>      }
<FONT ID="LN">259 </FONT><A NAME="259"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (e.getCommand() == TreeDisplayEvent.CLASSIFY_CHILD) {
<FONT ID="LN">260 </FONT><A NAME="260"></A>    <FONT ID="MultiLineComment">/*if (m_iView == null)
<FONT ID="LN">261 </FONT><A NAME="261"></A>      {
<FONT ID="LN">262 </FONT><A NAME="262"></A>      m_iView = new VisualizePanel(this);
<FONT ID="LN">263 </FONT><A NAME="263"></A>      m_iView.setSize(400, 300);
<FONT ID="LN">264 </FONT><A NAME="264"></A>      }*/</FONT>
<FONT ID="LN">265 </FONT><A NAME="265"></A>    m_focus = m_top.getNode(e.getID());
<FONT ID="LN">266 </FONT><A NAME="266"></A>    m_iView.setInstances(m_focus.m_training);
<FONT ID="LN">267 </FONT><A NAME="267"></A>    <FONT ID="If">if</FONT> (m_focus.m_attrib1 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">268 </FONT><A NAME="268"></A>      m_iView.setXIndex(m_focus.m_attrib1);
<FONT ID="LN">269 </FONT><A NAME="269"></A>    }
<FONT ID="LN">270 </FONT><A NAME="270"></A>    <FONT ID="If">if</FONT> (m_focus.m_attrib2 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">271 </FONT><A NAME="271"></A>      m_iView.setYIndex(m_focus.m_attrib2);
<FONT ID="LN">272 </FONT><A NAME="272"></A>    }
<FONT ID="LN">273 </FONT><A NAME="273"></A>    m_iView.setColourIndex(m_focus.m_training.classIndex());
<FONT ID="LN">274 </FONT><A NAME="274"></A>    <FONT ID="If">if</FONT> (((Double)((<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_focus.m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).
<FONT ID="LN">275 </FONT><A NAME="275"></A>         elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() != LEAF) {
<FONT ID="LN">276 </FONT><A NAME="276"></A>      m_iView.setShapes(m_focus.m_ranges);
<FONT ID="LN">277 </FONT><A NAME="277"></A>    }
<FONT ID="LN">278 </FONT><A NAME="278"></A>    
<FONT ID="LN">279 </FONT><A NAME="279"></A>    <A HREF="../../../weka/classifiers/Classifier.java.html">Classifier</A> classifierAtNode = m_focus.getClassifier();
<FONT ID="LN">280 </FONT><A NAME="280"></A>        <FONT ID="If">if</FONT> (classifierAtNode != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">281 </FONT><A NAME="281"></A>          m_classifiers.setValue(classifierAtNode);
<FONT ID="LN">282 </FONT><A NAME="282"></A>        }
<FONT ID="LN">283 </FONT><A NAME="283"></A>    m_propertyDialog = <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/PropertyDialog.java.html">PropertyDialog</A>((Frame) <FONT ID="Null">null</FONT>, m_classifiers, 
<FONT ID="LN">284 </FONT><A NAME="284"></A>                          m_mainWin.getLocationOnScreen().x,
<FONT ID="LN">285 </FONT><A NAME="285"></A>                          m_mainWin.getLocationOnScreen().y);
<FONT ID="LN">286 </FONT><A NAME="286"></A>    m_propertyDialog.setVisible(<FONT ID="True">true</FONT>);
<FONT ID="LN">287 </FONT><A NAME="287"></A>    
<FONT ID="LN">288 </FONT><A NAME="288"></A>    <FONT ID="SingleLineComment">//note property dialog may change all the time
<FONT ID="LN">289 </FONT><A NAME="289"></A></FONT>    <FONT ID="SingleLineComment">//but the generic editor which has the listeners does not
<FONT ID="LN">290 </FONT><A NAME="290"></A></FONT>    <FONT ID="SingleLineComment">//so at the construction of the editor is when I am going to add
<FONT ID="LN">291 </FONT><A NAME="291"></A></FONT>    <FONT ID="SingleLineComment">//the listeners.
<FONT ID="LN">292 </FONT><A NAME="292"></A></FONT>    
<FONT ID="LN">293 </FONT><A NAME="293"></A>    
<FONT ID="LN">294 </FONT><A NAME="294"></A>    
<FONT ID="LN">295 </FONT><A NAME="295"></A>    <FONT ID="SingleLineComment">//focus.setClassifier(new IB1());
<FONT ID="LN">296 </FONT><A NAME="296"></A></FONT>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().removeAll();
<FONT ID="LN">297 </FONT><A NAME="297"></A></FONT>    <FONT ID="SingleLineComment">//////m_tView = new Displayer(this, graph(), new PlaceNode2());
<FONT ID="LN">298 </FONT><A NAME="298"></A></FONT>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().add(m_tView);
<FONT ID="LN">299 </FONT><A NAME="299"></A></FONT>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().doLayout();
<FONT ID="LN">300 </FONT><A NAME="300"></A></FONT>    <FONT ID="SingleLineComment">/////////////reps.setComponentAt(0, m_tView);
<FONT ID="LN">301 </FONT><A NAME="301"></A></FONT>    m_tView.setHighlight(m_focus.m_identity);
<FONT ID="LN">302 </FONT><A NAME="302"></A>      }
<FONT ID="LN">303 </FONT><A NAME="303"></A>      <FONT ID="MultiLineComment">/*else if (e.getCommand() == e.SEND_INSTANCES) {
<FONT ID="LN">304 </FONT><A NAME="304"></A>    TreeClass source = m_top.getNode(e.getID());
<FONT ID="LN">305 </FONT><A NAME="305"></A>    m_iView.setExtInstances(source.m_training);
<FONT ID="LN">306 </FONT><A NAME="306"></A>    }*/</FONT>
<FONT ID="LN">307 </FONT><A NAME="307"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (e.getCommand() == TreeDisplayEvent.ACCEPT) {
<FONT ID="LN">308 </FONT><A NAME="308"></A>    
<FONT ID="LN">309 </FONT><A NAME="309"></A>    <FONT ID="Int">int</FONT> well = JOptionPane.showConfirmDialog(m_mainWin, 
<FONT ID="LN">310 </FONT><A NAME="310"></A>                         <FONT ID="StringLiteral">"Are You Sure...\n"</FONT>
<FONT ID="LN">311 </FONT><A NAME="311"></A>                         + <FONT ID="StringLiteral">"Click Yes To Accept The"</FONT>
<FONT ID="LN">312 </FONT><A NAME="312"></A>                         + <FONT ID="StringLiteral">" Tree"</FONT> 
<FONT ID="LN">313 </FONT><A NAME="313"></A>                         + <FONT ID="StringLiteral">"\n Click No To Return"</FONT>,
<FONT ID="LN">314 </FONT><A NAME="314"></A>                         <FONT ID="StringLiteral">"Accept Tree"</FONT>, 
<FONT ID="LN">315 </FONT><A NAME="315"></A>                         JOptionPane.YES_NO_OPTION);
<FONT ID="LN">316 </FONT><A NAME="316"></A>    
<FONT ID="LN">317 </FONT><A NAME="317"></A>    <FONT ID="If">if</FONT> (well == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">318 </FONT><A NAME="318"></A>      m_mainWin.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
<FONT ID="LN">319 </FONT><A NAME="319"></A>      m_mainWin.dispose();
<FONT ID="LN">320 </FONT><A NAME="320"></A>      blocker(<FONT ID="False">false</FONT>);  <FONT ID="SingleLineComment">//release the thread waiting at blocker to 
<FONT ID="LN">321 </FONT><A NAME="321"></A></FONT>      <FONT ID="SingleLineComment">//continue.
<FONT ID="LN">322 </FONT><A NAME="322"></A></FONT>    }
<FONT ID="LN">323 </FONT><A NAME="323"></A>    
<FONT ID="LN">324 </FONT><A NAME="324"></A>      }
<FONT ID="LN">325 </FONT><A NAME="325"></A>    } <FONT ID="Catch">catch</FONT>(Exception er) {
<FONT ID="LN">326 </FONT><A NAME="326"></A>      System.out.println(<FONT ID="StringLiteral">"Error : "</FONT> + er);
<FONT ID="LN">327 </FONT><A NAME="327"></A>      System.out.println(<FONT ID="StringLiteral">"Part of user input so had to catch here"</FONT>);
<FONT ID="LN">328 </FONT><A NAME="328"></A>      er.printStackTrace();
<FONT ID="LN">329 </FONT><A NAME="329"></A>    }
<FONT ID="LN">330 </FONT><A NAME="330"></A>  }
<FONT ID="LN">331 </FONT><A NAME="331"></A>
<FONT ID="LN">332 </FONT><A NAME="332"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">333 </FONT><A NAME="333"></A>   * This receives shapes from the data view. 
<FONT ID="LN">334 </FONT><A NAME="334"></A>   * It then enters these shapes into the decision tree structure. 
<FONT ID="LN">335 </FONT><A NAME="335"></A>   * @param e Contains the shapes, and other info.
<FONT ID="LN">336 </FONT><A NAME="336"></A>   */</FONT>
<FONT ID="LN">337 </FONT><A NAME="337"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> userDataEvent(<A HREF="../../../weka/gui/visualize/VisualizePanelEvent.java.html">VisualizePanelEvent</A> e) {
<FONT ID="LN">338 </FONT><A NAME="338"></A>    
<FONT ID="LN">339 </FONT><A NAME="339"></A>    <FONT ID="If">if</FONT> (m_propertyDialog != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">340 </FONT><A NAME="340"></A>      m_propertyDialog.dispose();
<FONT ID="LN">341 </FONT><A NAME="341"></A>      m_propertyDialog = <FONT ID="Null">null</FONT>;
<FONT ID="LN">342 </FONT><A NAME="342"></A>    }
<FONT ID="LN">343 </FONT><A NAME="343"></A>    
<FONT ID="LN">344 </FONT><A NAME="344"></A>    <FONT ID="Try">try</FONT> {
<FONT ID="LN">345 </FONT><A NAME="345"></A>      <FONT ID="If">if</FONT> (m_focus != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">346 </FONT><A NAME="346"></A>    
<FONT ID="LN">347 </FONT><A NAME="347"></A>
<FONT ID="LN">348 </FONT><A NAME="348"></A>    <FONT ID="Double">double</FONT> wdom = e.getInstances1().numInstances() 
<FONT ID="LN">349 </FONT><A NAME="349"></A>      + e.getInstances2().numInstances();
<FONT ID="LN">350 </FONT><A NAME="350"></A>    <FONT ID="If">if</FONT> (wdom == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">351 </FONT><A NAME="351"></A>      wdom = <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">352 </FONT><A NAME="352"></A>    }
<FONT ID="LN">353 </FONT><A NAME="353"></A>    
<FONT ID="LN">354 </FONT><A NAME="354"></A>    TreeClass tmp = m_focus;
<FONT ID="LN">355 </FONT><A NAME="355"></A>    m_focus.m_set1 = <FONT ID="New">new</FONT> TreeClass(<FONT ID="Null">null</FONT>, e.getAttribute1(), 
<FONT ID="LN">356 </FONT><A NAME="356"></A>                       e.getAttribute2(), m_nextId, 
<FONT ID="LN">357 </FONT><A NAME="357"></A>                       e.getInstances1().numInstances() / wdom,
<FONT ID="LN">358 </FONT><A NAME="358"></A>                       e.getInstances1(), m_focus);
<FONT ID="LN">359 </FONT><A NAME="359"></A>    
<FONT ID="LN">360 </FONT><A NAME="360"></A>    m_focus.m_set2 = <FONT ID="New">new</FONT> TreeClass(<FONT ID="Null">null</FONT>, e.getAttribute1(), 
<FONT ID="LN">361 </FONT><A NAME="361"></A>                       e.getAttribute2(), m_nextId, 
<FONT ID="LN">362 </FONT><A NAME="362"></A>                       e.getInstances2().numInstances() / wdom,
<FONT ID="LN">363 </FONT><A NAME="363"></A>                       e.getInstances2(), m_focus); 
<FONT ID="LN">364 </FONT><A NAME="364"></A>    <FONT ID="SingleLineComment">//this needs the other instance
<FONT ID="LN">365 </FONT><A NAME="365"></A></FONT>    
<FONT ID="LN">366 </FONT><A NAME="366"></A>    
<FONT ID="LN">367 </FONT><A NAME="367"></A>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().removeAll();  
<FONT ID="LN">368 </FONT><A NAME="368"></A></FONT>    m_focus.setInfo(e.getAttribute1(), e.getAttribute2(), e.getValues());
<FONT ID="LN">369 </FONT><A NAME="369"></A>    <FONT ID="SingleLineComment">//System.out.println(graph());
<FONT ID="LN">370 </FONT><A NAME="370"></A></FONT>    m_tView = <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/treevisualizer/TreeVisualizer.java.html">TreeVisualizer</A>(<FONT ID="This">this</FONT>, graph(), <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/treevisualizer/PlaceNode2.java.html">PlaceNode2</A>());
<FONT ID="LN">371 </FONT><A NAME="371"></A>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().add(m_tView);
<FONT ID="LN">372 </FONT><A NAME="372"></A></FONT>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().doLayout();
<FONT ID="LN">373 </FONT><A NAME="373"></A></FONT>    m_reps.setComponentAt(<FONT ID="IntegerLiteral">0</FONT>, m_tView);
<FONT ID="LN">374 </FONT><A NAME="374"></A>    
<FONT ID="LN">375 </FONT><A NAME="375"></A>    m_focus = m_focus.m_set2;
<FONT ID="LN">376 </FONT><A NAME="376"></A>    m_tView.setHighlight(m_focus.m_identity);
<FONT ID="LN">377 </FONT><A NAME="377"></A>    m_iView.setInstances(m_focus.m_training);
<FONT ID="LN">378 </FONT><A NAME="378"></A>    <FONT ID="If">if</FONT> (tmp.m_attrib1 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">379 </FONT><A NAME="379"></A>      m_iView.setXIndex(tmp.m_attrib1);
<FONT ID="LN">380 </FONT><A NAME="380"></A>    }
<FONT ID="LN">381 </FONT><A NAME="381"></A>    <FONT ID="If">if</FONT> (tmp.m_attrib2 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">382 </FONT><A NAME="382"></A>      m_iView.setYIndex(tmp.m_attrib2);
<FONT ID="LN">383 </FONT><A NAME="383"></A>    }
<FONT ID="LN">384 </FONT><A NAME="384"></A>    m_iView.setColourIndex(m_focus.m_training.classIndex());
<FONT ID="LN">385 </FONT><A NAME="385"></A>    <FONT ID="If">if</FONT> (((Double)((<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_focus.m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).
<FONT ID="LN">386 </FONT><A NAME="386"></A>         elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() != LEAF) {
<FONT ID="LN">387 </FONT><A NAME="387"></A>      m_iView.setShapes(m_focus.m_ranges);
<FONT ID="LN">388 </FONT><A NAME="388"></A>    }
<FONT ID="LN">389 </FONT><A NAME="389"></A>    <FONT ID="SingleLineComment">//m_iView.setSIndex(2);
<FONT ID="LN">390 </FONT><A NAME="390"></A></FONT>      }
<FONT ID="LN">391 </FONT><A NAME="391"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">392 </FONT><A NAME="392"></A>    System.out.println(<FONT ID="StringLiteral">"Somehow the focus is null"</FONT>);
<FONT ID="LN">393 </FONT><A NAME="393"></A>      }
<FONT ID="LN">394 </FONT><A NAME="394"></A>    } <FONT ID="Catch">catch</FONT>(Exception er) {
<FONT ID="LN">395 </FONT><A NAME="395"></A>      System.out.println(<FONT ID="StringLiteral">"Error : "</FONT> + er);
<FONT ID="LN">396 </FONT><A NAME="396"></A>      System.out.println(<FONT ID="StringLiteral">"Part of user input so had to catch here"</FONT>);
<FONT ID="LN">397 </FONT><A NAME="397"></A>      <FONT ID="SingleLineComment">//er.printStackTrace();
<FONT ID="LN">398 </FONT><A NAME="398"></A></FONT>    }
<FONT ID="LN">399 </FONT><A NAME="399"></A>    
<FONT ID="LN">400 </FONT><A NAME="400"></A>  }
<FONT ID="LN">401 </FONT><A NAME="401"></A>  
<FONT ID="LN">402 </FONT><A NAME="402"></A>  <FONT ID="FormalComment">/** 
<FONT ID="LN">403 </FONT><A NAME="403"></A>   * Constructor
<FONT ID="LN">404 </FONT><A NAME="404"></A>   */</FONT>
<FONT ID="LN">405 </FONT><A NAME="405"></A>  <FONT ID="Public">public</FONT> UserClassifier() {
<FONT ID="LN">406 </FONT><A NAME="406"></A>    <FONT ID="SingleLineComment">//do nothing here except set alot of variables to default values
<FONT ID="LN">407 </FONT><A NAME="407"></A></FONT>    m_top = <FONT ID="Null">null</FONT>;
<FONT ID="LN">408 </FONT><A NAME="408"></A>    m_tView = <FONT ID="Null">null</FONT>;
<FONT ID="LN">409 </FONT><A NAME="409"></A>    m_iView = <FONT ID="Null">null</FONT>;
<FONT ID="LN">410 </FONT><A NAME="410"></A>    m_nextId = <FONT ID="IntegerLiteral">0</FONT>; 
<FONT ID="LN">411 </FONT><A NAME="411"></A>    
<FONT ID="LN">412 </FONT><A NAME="412"></A>  }
<FONT ID="LN">413 </FONT><A NAME="413"></A>  
<FONT ID="LN">414 </FONT><A NAME="414"></A> <FONT ID="FormalComment">/**
<FONT ID="LN">415 </FONT><A NAME="415"></A>   *  Returns the type of graph this classifier
<FONT ID="LN">416 </FONT><A NAME="416"></A>   *  represents.
<FONT ID="LN">417 </FONT><A NAME="417"></A>   *  @return Drawable.TREE
<FONT ID="LN">418 </FONT><A NAME="418"></A>   */</FONT>   
<FONT ID="LN">419 </FONT><A NAME="419"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> graphType() {
<FONT ID="LN">420 </FONT><A NAME="420"></A>      <FONT ID="Return">return</FONT> Drawable.TREE;
<FONT ID="LN">421 </FONT><A NAME="421"></A>  }
<FONT ID="LN">422 </FONT><A NAME="422"></A>
<FONT ID="LN">423 </FONT><A NAME="423"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">424 </FONT><A NAME="424"></A>   * @return A string formatted with a dotty representation of the decision
<FONT ID="LN">425 </FONT><A NAME="425"></A>   * tree.
<FONT ID="LN">426 </FONT><A NAME="426"></A>   * @throws Exception if String can't be built properly.
<FONT ID="LN">427 </FONT><A NAME="427"></A>   */</FONT>
<FONT ID="LN">428 </FONT><A NAME="428"></A>  <FONT ID="Public">public</FONT> String graph() <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">429 </FONT><A NAME="429"></A>    <FONT ID="SingleLineComment">//create a dotty rep of the tree from here
<FONT ID="LN">430 </FONT><A NAME="430"></A></FONT>    StringBuffer text = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">431 </FONT><A NAME="431"></A>    text.append(<FONT ID="StringLiteral">"digraph UserClassifierTree {\n"</FONT> +
<FONT ID="LN">432 </FONT><A NAME="432"></A>        <FONT ID="StringLiteral">"node [fontsize=10]\n"</FONT> +
<FONT ID="LN">433 </FONT><A NAME="433"></A>        <FONT ID="StringLiteral">"edge [fontsize=10 style=bold]\n"</FONT>);
<FONT ID="LN">434 </FONT><A NAME="434"></A>    
<FONT ID="LN">435 </FONT><A NAME="435"></A>    m_top.toDotty(text);
<FONT ID="LN">436 </FONT><A NAME="436"></A>    <FONT ID="Return">return</FONT> text.toString() +<FONT ID="StringLiteral">"}\n"</FONT>;
<FONT ID="LN">437 </FONT><A NAME="437"></A>    
<FONT ID="LN">438 </FONT><A NAME="438"></A>    
<FONT ID="LN">439 </FONT><A NAME="439"></A>  }
<FONT ID="LN">440 </FONT><A NAME="440"></A>  
<FONT ID="LN">441 </FONT><A NAME="441"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">442 </FONT><A NAME="442"></A>   * A function used to stop the code that called buildclassifier
<FONT ID="LN">443 </FONT><A NAME="443"></A>   * from continuing on before the user has finished the decision tree.
<FONT ID="LN">444 </FONT><A NAME="444"></A>   * @param tf True to stop the thread, False to release the thread that is
<FONT ID="LN">445 </FONT><A NAME="445"></A>   * waiting there (if one).
<FONT ID="LN">446 </FONT><A NAME="446"></A>   */</FONT>
<FONT ID="LN">447 </FONT><A NAME="447"></A>  <FONT ID="Private">private</FONT> <FONT ID="Synchronized">synchronized</FONT> <FONT ID="Void">void</FONT> blocker(<FONT ID="Boolean">boolean</FONT> tf) {
<FONT ID="LN">448 </FONT><A NAME="448"></A>    <FONT ID="If">if</FONT> (tf) {
<FONT ID="LN">449 </FONT><A NAME="449"></A>      <FONT ID="Try">try</FONT> {
<FONT ID="LN">450 </FONT><A NAME="450"></A>    wait();
<FONT ID="LN">451 </FONT><A NAME="451"></A>      } <FONT ID="Catch">catch</FONT>(InterruptedException e) {
<FONT ID="LN">452 </FONT><A NAME="452"></A>      }
<FONT ID="LN">453 </FONT><A NAME="453"></A>    }
<FONT ID="LN">454 </FONT><A NAME="454"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">455 </FONT><A NAME="455"></A>      notifyAll();
<FONT ID="LN">456 </FONT><A NAME="456"></A>    }
<FONT ID="LN">457 </FONT><A NAME="457"></A>    
<FONT ID="LN">458 </FONT><A NAME="458"></A>    <FONT ID="SingleLineComment">//System.out.println("out");
<FONT ID="LN">459 </FONT><A NAME="459"></A></FONT>  }
<FONT ID="LN">460 </FONT><A NAME="460"></A>
<FONT ID="LN">461 </FONT><A NAME="461"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">462 </FONT><A NAME="462"></A>   * This will return a string describing the classifier.
<FONT ID="LN">463 </FONT><A NAME="463"></A>   * @return The string.
<FONT ID="LN">464 </FONT><A NAME="464"></A>   */</FONT>
<FONT ID="LN">465 </FONT><A NAME="465"></A>  <FONT ID="Public">public</FONT> String globalInfo() {
<FONT ID="LN">466 </FONT><A NAME="466"></A>
<FONT ID="LN">467 </FONT><A NAME="467"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Interactively classify through visual means."</FONT>
<FONT ID="LN">468 </FONT><A NAME="468"></A>      + <FONT ID="StringLiteral">" You are Presented with a scatter graph of the data against two user"</FONT>
<FONT ID="LN">469 </FONT><A NAME="469"></A>      + <FONT ID="StringLiteral">" selectable attributes, as well as a view of the decision tree."</FONT>
<FONT ID="LN">470 </FONT><A NAME="470"></A>      + <FONT ID="StringLiteral">" You can create binary splits by creating polygons around data"</FONT>
<FONT ID="LN">471 </FONT><A NAME="471"></A>      + <FONT ID="StringLiteral">" plotted on the scatter graph, as well as by allowing another"</FONT>
<FONT ID="LN">472 </FONT><A NAME="472"></A>      + <FONT ID="StringLiteral">" classifier to take over at points in the decision tree should you"</FONT>
<FONT ID="LN">473 </FONT><A NAME="473"></A>      + <FONT ID="StringLiteral">" see fit.\n\n"</FONT>
<FONT ID="LN">474 </FONT><A NAME="474"></A>      + <FONT ID="StringLiteral">"For more information see:\n\n"</FONT>
<FONT ID="LN">475 </FONT><A NAME="475"></A>      + getTechnicalInformation().toString();
<FONT ID="LN">476 </FONT><A NAME="476"></A>  }
<FONT ID="LN">477 </FONT><A NAME="477"></A>
<FONT ID="LN">478 </FONT><A NAME="478"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">479 </FONT><A NAME="479"></A>   * Returns an instance of a TechnicalInformation object, containing 
<FONT ID="LN">480 </FONT><A NAME="480"></A>   * detailed information about the technical background of this class,
<FONT ID="LN">481 </FONT><A NAME="481"></A>   * e.g., paper reference or book this class is based on.
<FONT ID="LN">482 </FONT><A NAME="482"></A>   * 
<FONT ID="LN">483 </FONT><A NAME="483"></A>   * @return the technical information about this class
<FONT ID="LN">484 </FONT><A NAME="484"></A>   */</FONT>
<FONT ID="LN">485 </FONT><A NAME="485"></A>  <FONT ID="Public">public</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A> getTechnicalInformation() {
<FONT ID="LN">486 </FONT><A NAME="486"></A>    <A HREF="../../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A>    result;
<FONT ID="LN">487 </FONT><A NAME="487"></A>    
<FONT ID="LN">488 </FONT><A NAME="488"></A>    result = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A>(Type.ARTICLE);
<FONT ID="LN">489 </FONT><A NAME="489"></A>    result.setValue(Field.AUTHOR, <FONT ID="StringLiteral">"Malcolm Ware and Eibe Frank and Geoffrey Holmes and Mark Hall and Ian H. Witten"</FONT>);
<FONT ID="LN">490 </FONT><A NAME="490"></A>    result.setValue(Field.YEAR, <FONT ID="StringLiteral">"2001"</FONT>);
<FONT ID="LN">491 </FONT><A NAME="491"></A>    result.setValue(Field.TITLE, <FONT ID="StringLiteral">"Interactive machine learning: letting users build classifiers"</FONT>);
<FONT ID="LN">492 </FONT><A NAME="492"></A>    result.setValue(Field.JOURNAL, <FONT ID="StringLiteral">"Int. J. Hum.-Comput. Stud."</FONT>);
<FONT ID="LN">493 </FONT><A NAME="493"></A>    result.setValue(Field.VOLUME, <FONT ID="StringLiteral">"55"</FONT>);
<FONT ID="LN">494 </FONT><A NAME="494"></A>    result.setValue(Field.NUMBER, <FONT ID="StringLiteral">"3"</FONT>);
<FONT ID="LN">495 </FONT><A NAME="495"></A>    result.setValue(Field.PAGES, <FONT ID="StringLiteral">"281-292"</FONT>);
<FONT ID="LN">496 </FONT><A NAME="496"></A>    result.setValue(Field.PS, <FONT ID="StringLiteral">"http://www.cs.waikato.ac.nz/~ml/publications/2000/00MW-etal-Interactive-ML.ps"</FONT>);
<FONT ID="LN">497 </FONT><A NAME="497"></A>    
<FONT ID="LN">498 </FONT><A NAME="498"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">499 </FONT><A NAME="499"></A>  }
<FONT ID="LN">500 </FONT><A NAME="500"></A>
<FONT ID="LN">501 </FONT><A NAME="501"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">502 </FONT><A NAME="502"></A>   * Returns default capabilities of the classifier.
<FONT ID="LN">503 </FONT><A NAME="503"></A>   *
<FONT ID="LN">504 </FONT><A NAME="504"></A>   * @return      the capabilities of this classifier
<FONT ID="LN">505 </FONT><A NAME="505"></A>   */</FONT>
<FONT ID="LN">506 </FONT><A NAME="506"></A>  <FONT ID="Public">public</FONT> <A HREF="../../../weka/core/Capabilities.java.html">Capabilities</A> getCapabilities() {
<FONT ID="LN">507 </FONT><A NAME="507"></A>    <A HREF="../../../weka/core/Capabilities.java.html">Capabilities</A> result = <FONT ID="Super">super</FONT>.getCapabilities();
<FONT ID="LN">508 </FONT><A NAME="508"></A>    result.disableAll();
<FONT ID="LN">509 </FONT><A NAME="509"></A>
<FONT ID="LN">510 </FONT><A NAME="510"></A>    <FONT ID="SingleLineComment">// attributes
<FONT ID="LN">511 </FONT><A NAME="511"></A></FONT>    result.enable(Capability.NOMINAL_ATTRIBUTES);
<FONT ID="LN">512 </FONT><A NAME="512"></A>    result.enable(Capability.NUMERIC_ATTRIBUTES);
<FONT ID="LN">513 </FONT><A NAME="513"></A>    result.enable(Capability.DATE_ATTRIBUTES);
<FONT ID="LN">514 </FONT><A NAME="514"></A>    result.enable(Capability.STRING_ATTRIBUTES);
<FONT ID="LN">515 </FONT><A NAME="515"></A>    result.enable(Capability.RELATIONAL_ATTRIBUTES);
<FONT ID="LN">516 </FONT><A NAME="516"></A>    result.enable(Capability.MISSING_VALUES);
<FONT ID="LN">517 </FONT><A NAME="517"></A>
<FONT ID="LN">518 </FONT><A NAME="518"></A>    <FONT ID="SingleLineComment">// class
<FONT ID="LN">519 </FONT><A NAME="519"></A></FONT>    result.enable(Capability.NOMINAL_CLASS);
<FONT ID="LN">520 </FONT><A NAME="520"></A>    result.enable(Capability.NUMERIC_CLASS);
<FONT ID="LN">521 </FONT><A NAME="521"></A>    result.enable(Capability.DATE_CLASS);
<FONT ID="LN">522 </FONT><A NAME="522"></A>    result.enable(Capability.MISSING_CLASS_VALUES);
<FONT ID="LN">523 </FONT><A NAME="523"></A>
<FONT ID="LN">524 </FONT><A NAME="524"></A>    <FONT ID="SingleLineComment">// instances
<FONT ID="LN">525 </FONT><A NAME="525"></A></FONT>    result.setMinimumNumberInstances(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">526 </FONT><A NAME="526"></A>    
<FONT ID="LN">527 </FONT><A NAME="527"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">528 </FONT><A NAME="528"></A>  }
<FONT ID="LN">529 </FONT><A NAME="529"></A>
<FONT ID="LN">530 </FONT><A NAME="530"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">531 </FONT><A NAME="531"></A>   * Call this function to build a decision tree for the training
<FONT ID="LN">532 </FONT><A NAME="532"></A>   * data provided.
<FONT ID="LN">533 </FONT><A NAME="533"></A>   * @param i The training data.
<FONT ID="LN">534 </FONT><A NAME="534"></A>   * @throws Exception if can't build classification properly.
<FONT ID="LN">535 </FONT><A NAME="535"></A>   */</FONT>
<FONT ID="LN">536 </FONT><A NAME="536"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> buildClassifier(<A HREF="../../../weka/core/Instances.java.html">Instances</A> i) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">537 </FONT><A NAME="537"></A>    <FONT ID="SingleLineComment">// can classifier handle the data?
<FONT ID="LN">538 </FONT><A NAME="538"></A></FONT>    getCapabilities().testWithFail(i);
<FONT ID="LN">539 </FONT><A NAME="539"></A>
<FONT ID="LN">540 </FONT><A NAME="540"></A>    <FONT ID="SingleLineComment">// remove instances with missing class
<FONT ID="LN">541 </FONT><A NAME="541"></A></FONT>    i = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(i);
<FONT ID="LN">542 </FONT><A NAME="542"></A>    i.deleteWithMissingClass();
<FONT ID="LN">543 </FONT><A NAME="543"></A>    
<FONT ID="LN">544 </FONT><A NAME="544"></A>    <FONT ID="SingleLineComment">//construct a visualizer
<FONT ID="LN">545 </FONT><A NAME="545"></A></FONT>    <FONT ID="SingleLineComment">//construct a tree displayer and feed both then do nothing
<FONT ID="LN">546 </FONT><A NAME="546"></A></FONT>    <FONT ID="SingleLineComment">//note that I will display at the bottom of each split how many 
<FONT ID="LN">547 </FONT><A NAME="547"></A></FONT>    <FONT ID="SingleLineComment">//fall into each catagory
<FONT ID="LN">548 </FONT><A NAME="548"></A></FONT>    
<FONT ID="LN">549 </FONT><A NAME="549"></A>    m_classifiers = <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/GenericObjectEditor.java.html">GenericObjectEditor</A>(<FONT ID="True">true</FONT>);
<FONT ID="LN">550 </FONT><A NAME="550"></A>    m_classifiers.setClassType(<A HREF="../../../weka/classifiers/Classifier.java.html">Classifier</A>.<FONT ID="Class">class</FONT>);
<FONT ID="LN">551 </FONT><A NAME="551"></A>    m_classifiers.setValue(<FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/rules/ZeroR.java.html">weka.classifiers.rules.ZeroR</A>());
<FONT ID="LN">552 </FONT><A NAME="552"></A>    
<FONT ID="LN">553 </FONT><A NAME="553"></A>    ((<A HREF="../../../weka/gui/GenericObjectEditor.java.html">GenericObjectEditor.GOEPanel</A>)m_classifiers.getCustomEditor())
<FONT ID="LN">554 </FONT><A NAME="554"></A>      .addOkListener(<FONT ID="New">new</FONT> ActionListener() {
<FONT ID="LN">555 </FONT><A NAME="555"></A>      <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> actionPerformed(ActionEvent e) {
<FONT ID="LN">556 </FONT><A NAME="556"></A>        <FONT ID="SingleLineComment">//I want to use the focus variable but to trust it I need
<FONT ID="LN">557 </FONT><A NAME="557"></A></FONT>        <FONT ID="SingleLineComment">//to kill the window if anything gets changed by either
<FONT ID="LN">558 </FONT><A NAME="558"></A></FONT>        <FONT ID="SingleLineComment">//editor
<FONT ID="LN">559 </FONT><A NAME="559"></A></FONT>        <FONT ID="Try">try</FONT> {
<FONT ID="LN">560 </FONT><A NAME="560"></A>          m_focus.m_set1 = <FONT ID="Null">null</FONT>;
<FONT ID="LN">561 </FONT><A NAME="561"></A>          m_focus.m_set2 = <FONT ID="Null">null</FONT>;
<FONT ID="LN">562 </FONT><A NAME="562"></A>          m_focus.setInfo(m_focus.m_attrib1, m_focus.m_attrib2, <FONT ID="Null">null</FONT>);
<FONT ID="LN">563 </FONT><A NAME="563"></A>          m_focus.setClassifier((<A HREF="../../../weka/classifiers/Classifier.java.html">Classifier</A>)m_classifiers.getValue());
<FONT ID="LN">564 </FONT><A NAME="564"></A>              <FONT ID="MultiLineComment">/*          m_classifiers = new GenericObjectEditor();
<FONT ID="LN">565 </FONT><A NAME="565"></A>          m_classifiers.setClassType(Classifier.class);
<FONT ID="LN">566 </FONT><A NAME="566"></A>          m_classifiers.setValue(new weka.classifiers.rules.ZeroR());
<FONT ID="LN">567 </FONT><A NAME="567"></A>          ((GenericObjectEditor.GOEPanel)m_classifiers.getCustomEditor())
<FONT ID="LN">568 </FONT><A NAME="568"></A>              .addOkListener(this); */</FONT>
<FONT ID="LN">569 </FONT><A NAME="569"></A>          m_tView = <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/treevisualizer/TreeVisualizer.java.html">TreeVisualizer</A>(UserClassifier.<FONT ID="This">this</FONT>, graph(), 
<FONT ID="LN">570 </FONT><A NAME="570"></A>                     <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/treevisualizer/PlaceNode2.java.html">PlaceNode2</A>());
<FONT ID="LN">571 </FONT><A NAME="571"></A>          m_tView.setHighlight(m_focus.m_identity);
<FONT ID="LN">572 </FONT><A NAME="572"></A>          m_reps.setComponentAt(<FONT ID="IntegerLiteral">0</FONT>, m_tView);
<FONT ID="LN">573 </FONT><A NAME="573"></A>          m_iView.setShapes(<FONT ID="Null">null</FONT>);
<FONT ID="LN">574 </FONT><A NAME="574"></A>        } <FONT ID="Catch">catch</FONT>(Exception er) {
<FONT ID="LN">575 </FONT><A NAME="575"></A>          System.out.println(<FONT ID="StringLiteral">"Error : "</FONT> + er);
<FONT ID="LN">576 </FONT><A NAME="576"></A>          System.out.println(<FONT ID="StringLiteral">"Part of user input so had to catch here"</FONT>);
<FONT ID="LN">577 </FONT><A NAME="577"></A>              JOptionPane.showMessageDialog(
<FONT ID="LN">578 </FONT><A NAME="578"></A>                         <FONT ID="Null">null</FONT>,
<FONT ID="LN">579 </FONT><A NAME="579"></A>                         <FONT ID="StringLiteral">"Unable to use "</FONT> + m_focus.getClassifier().getClass().getName() 
<FONT ID="LN">580 </FONT><A NAME="580"></A>                         + <FONT ID="StringLiteral">" at this node.\n"</FONT>
<FONT ID="LN">581 </FONT><A NAME="581"></A>                         + <FONT ID="StringLiteral">"This exception was produced:\n"</FONT>
<FONT ID="LN">582 </FONT><A NAME="582"></A>                         + er.toString(),
<FONT ID="LN">583 </FONT><A NAME="583"></A>                         <FONT ID="StringLiteral">"UserClassifier"</FONT>,
<FONT ID="LN">584 </FONT><A NAME="584"></A>                         JOptionPane.ERROR_MESSAGE);
<FONT ID="LN">585 </FONT><A NAME="585"></A>        }
<FONT ID="LN">586 </FONT><A NAME="586"></A>      }
<FONT ID="LN">587 </FONT><A NAME="587"></A>    });
<FONT ID="LN">588 </FONT><A NAME="588"></A>    
<FONT ID="LN">589 </FONT><A NAME="589"></A>    m_built = <FONT ID="False">false</FONT>;
<FONT ID="LN">590 </FONT><A NAME="590"></A>    m_mainWin = <FONT ID="New">new</FONT> JFrame();
<FONT ID="LN">591 </FONT><A NAME="591"></A>    
<FONT ID="LN">592 </FONT><A NAME="592"></A>    m_mainWin.addWindowListener(<FONT ID="New">new</FONT> WindowAdapter() {
<FONT ID="LN">593 </FONT><A NAME="593"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> windowClosing(WindowEvent e) {
<FONT ID="LN">594 </FONT><A NAME="594"></A>      <FONT ID="Int">int</FONT> well = JOptionPane.showConfirmDialog(m_mainWin, 
<FONT ID="LN">595 </FONT><A NAME="595"></A>                           <FONT ID="StringLiteral">"Are You Sure...\n"</FONT>
<FONT ID="LN">596 </FONT><A NAME="596"></A>                           + <FONT ID="StringLiteral">"Click Yes To Accept"</FONT>
<FONT ID="LN">597 </FONT><A NAME="597"></A>                           + <FONT ID="StringLiteral">" The Tree"</FONT> 
<FONT ID="LN">598 </FONT><A NAME="598"></A>                           + <FONT ID="StringLiteral">"\n Click No To Return"</FONT>,
<FONT ID="LN">599 </FONT><A NAME="599"></A>                           <FONT ID="StringLiteral">"Accept Tree"</FONT>, 
<FONT ID="LN">600 </FONT><A NAME="600"></A>                           JOptionPane.YES_NO_OPTION);
<FONT ID="LN">601 </FONT><A NAME="601"></A>      
<FONT ID="LN">602 </FONT><A NAME="602"></A>      <FONT ID="If">if</FONT> (well == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">603 </FONT><A NAME="603"></A>        m_mainWin.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
<FONT ID="LN">604 </FONT><A NAME="604"></A>        blocker(<FONT ID="False">false</FONT>);
<FONT ID="LN">605 </FONT><A NAME="605"></A>        
<FONT ID="LN">606 </FONT><A NAME="606"></A>      }
<FONT ID="LN">607 </FONT><A NAME="607"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">608 </FONT><A NAME="608"></A>        m_mainWin.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);
<FONT ID="LN">609 </FONT><A NAME="609"></A>      }
<FONT ID="LN">610 </FONT><A NAME="610"></A>    }
<FONT ID="LN">611 </FONT><A NAME="611"></A>      });
<FONT ID="LN">612 </FONT><A NAME="612"></A>    
<FONT ID="LN">613 </FONT><A NAME="613"></A>    m_reps = <FONT ID="New">new</FONT> JTabbedPane();
<FONT ID="LN">614 </FONT><A NAME="614"></A>    m_mainWin.getContentPane().add(m_reps);
<FONT ID="LN">615 </FONT><A NAME="615"></A>    
<FONT ID="LN">616 </FONT><A NAME="616"></A>    <FONT ID="SingleLineComment">//make a backup of the instances so that any changes don't go past here.
<FONT ID="LN">617 </FONT><A NAME="617"></A></FONT>    <A HREF="../../../weka/core/Instances.java.html">Instances</A> te = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A>(i, i.numInstances());
<FONT ID="LN">618 </FONT><A NAME="618"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; i.numInstances(); noa++) {
<FONT ID="LN">619 </FONT><A NAME="619"></A>      te.add(i.instance(noa));
<FONT ID="LN">620 </FONT><A NAME="620"></A>    }
<FONT ID="LN">621 </FONT><A NAME="621"></A>    
<FONT ID="LN">622 </FONT><A NAME="622"></A>    te.deleteWithMissingClass(); <FONT ID="SingleLineComment">//remove all instances with a missing class
<FONT ID="LN">623 </FONT><A NAME="623"></A></FONT>    <FONT ID="SingleLineComment">//from training
<FONT ID="LN">624 </FONT><A NAME="624"></A></FONT>    
<FONT ID="LN">625 </FONT><A NAME="625"></A>    m_top = <FONT ID="New">new</FONT> TreeClass(<FONT ID="Null">null</FONT>, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="IntegerLiteral">0</FONT>, m_nextId, <FONT ID="IntegerLiteral">1</FONT>, te, <FONT ID="Null">null</FONT>);
<FONT ID="LN">626 </FONT><A NAME="626"></A>    m_focus = m_top;
<FONT ID="LN">627 </FONT><A NAME="627"></A>    <FONT ID="SingleLineComment">//System.out.println(graph());
<FONT ID="LN">628 </FONT><A NAME="628"></A></FONT>    m_tView = <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/treevisualizer/TreeVisualizer.java.html">TreeVisualizer</A>(<FONT ID="This">this</FONT>, graph(), <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/treevisualizer/PlaceNode1.java.html">PlaceNode1</A>());
<FONT ID="LN">629 </FONT><A NAME="629"></A>    
<FONT ID="LN">630 </FONT><A NAME="630"></A>    m_reps.add(<FONT ID="StringLiteral">"Tree Visualizer"</FONT>, m_tView);
<FONT ID="LN">631 </FONT><A NAME="631"></A>    <FONT ID="SingleLineComment">//tree_frame = new JFrame();
<FONT ID="LN">632 </FONT><A NAME="632"></A></FONT>    <FONT ID="SingleLineComment">//tree_frame.getContentPane().add(m_tView);
<FONT ID="LN">633 </FONT><A NAME="633"></A></FONT>    <FONT ID="SingleLineComment">//tree_frame.setSize(800,600);
<FONT ID="LN">634 </FONT><A NAME="634"></A></FONT>    <FONT ID="SingleLineComment">//tree_frame.setVisible(true);
<FONT ID="LN">635 </FONT><A NAME="635"></A></FONT>    
<FONT ID="LN">636 </FONT><A NAME="636"></A>    m_tView.setHighlight(m_top.m_identity);
<FONT ID="LN">637 </FONT><A NAME="637"></A>    m_iView = <FONT ID="New">new</FONT> <A HREF="../../../weka/gui/visualize/VisualizePanel.java.html">VisualizePanel</A>(<FONT ID="This">this</FONT>);
<FONT ID="LN">638 </FONT><A NAME="638"></A>    <FONT ID="SingleLineComment">//m_iView.setSize(400, 300);
<FONT ID="LN">639 </FONT><A NAME="639"></A></FONT>    m_iView.setInstances(m_top.m_training);
<FONT ID="LN">640 </FONT><A NAME="640"></A>    m_iView.setColourIndex(te.classIndex());
<FONT ID="LN">641 </FONT><A NAME="641"></A>    <FONT ID="SingleLineComment">//vis_frame = new JFrame();
<FONT ID="LN">642 </FONT><A NAME="642"></A></FONT>    <FONT ID="SingleLineComment">//vis_frame.getContentPane().add(m_iView);
<FONT ID="LN">643 </FONT><A NAME="643"></A></FONT>    <FONT ID="SingleLineComment">//vis_frame.setSize(400, 300);
<FONT ID="LN">644 </FONT><A NAME="644"></A></FONT>    <FONT ID="SingleLineComment">//vis_frame.setVisible(true);
<FONT ID="LN">645 </FONT><A NAME="645"></A></FONT>    m_reps.add(<FONT ID="StringLiteral">"Data Visualizer"</FONT>, m_iView);
<FONT ID="LN">646 </FONT><A NAME="646"></A>    m_mainWin.setSize(<FONT ID="IntegerLiteral">560</FONT>, <FONT ID="IntegerLiteral">420</FONT>);
<FONT ID="LN">647 </FONT><A NAME="647"></A>    m_mainWin.setVisible(<FONT ID="True">true</FONT>);
<FONT ID="LN">648 </FONT><A NAME="648"></A>    blocker(<FONT ID="True">true</FONT>);          <FONT ID="SingleLineComment">//a call so that the main thread of 
<FONT ID="LN">649 </FONT><A NAME="649"></A></FONT>    <FONT ID="SingleLineComment">//execution has to wait for the all clear message from the user.
<FONT ID="LN">650 </FONT><A NAME="650"></A></FONT>    
<FONT ID="LN">651 </FONT><A NAME="651"></A>    <FONT ID="SingleLineComment">//so that it can be garbage 
<FONT ID="LN">652 </FONT><A NAME="652"></A></FONT>    <FONT ID="If">if</FONT> (m_propertyDialog != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">653 </FONT><A NAME="653"></A>      m_propertyDialog.dispose();
<FONT ID="LN">654 </FONT><A NAME="654"></A>      m_propertyDialog = <FONT ID="Null">null</FONT>;
<FONT ID="LN">655 </FONT><A NAME="655"></A>    }
<FONT ID="LN">656 </FONT><A NAME="656"></A>    
<FONT ID="LN">657 </FONT><A NAME="657"></A>    <FONT ID="SingleLineComment">//collected
<FONT ID="LN">658 </FONT><A NAME="658"></A></FONT>    m_classifiers = <FONT ID="Null">null</FONT>;
<FONT ID="LN">659 </FONT><A NAME="659"></A>    m_built = <FONT ID="True">true</FONT>;
<FONT ID="LN">660 </FONT><A NAME="660"></A>  }
<FONT ID="LN">661 </FONT><A NAME="661"></A>
<FONT ID="LN">662 </FONT><A NAME="662"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">663 </FONT><A NAME="663"></A>   * Call this function to get a double array filled with the probability
<FONT ID="LN">664 </FONT><A NAME="664"></A>   * of how likely each class type is the class of the instance.
<FONT ID="LN">665 </FONT><A NAME="665"></A>   * @param i The instance to classify.
<FONT ID="LN">666 </FONT><A NAME="666"></A>   * @return A double array filled with the probalities of each class type.
<FONT ID="LN">667 </FONT><A NAME="667"></A>   * @throws Exception if can't classify instance.
<FONT ID="LN">668 </FONT><A NAME="668"></A>   */</FONT>
<FONT ID="LN">669 </FONT><A NAME="669"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT>[] distributionForInstance(<A HREF="../../../weka/core/Instance.java.html">Instance</A> i) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">670 </FONT><A NAME="670"></A>
<FONT ID="LN">671 </FONT><A NAME="671"></A>    <FONT ID="If">if</FONT> (!m_built) {
<FONT ID="LN">672 </FONT><A NAME="672"></A>      <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;
<FONT ID="LN">673 </FONT><A NAME="673"></A>    }
<FONT ID="LN">674 </FONT><A NAME="674"></A>    
<FONT ID="LN">675 </FONT><A NAME="675"></A>    <FONT ID="Double">double</FONT>[] res = m_top.calcClassType(i);
<FONT ID="LN">676 </FONT><A NAME="676"></A>    <FONT ID="If">if</FONT> (m_top.m_training.classAttribute().isNumeric()) {
<FONT ID="LN">677 </FONT><A NAME="677"></A>      <FONT ID="Return">return</FONT> res;
<FONT ID="LN">678 </FONT><A NAME="678"></A>    }
<FONT ID="LN">679 </FONT><A NAME="679"></A>
<FONT ID="LN">680 </FONT><A NAME="680"></A>    <FONT ID="Double">double</FONT> most_likely = <FONT ID="IntegerLiteral">0</FONT>, highest = -<FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">681 </FONT><A NAME="681"></A>    <FONT ID="Double">double</FONT> count = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">682 </FONT><A NAME="682"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_top.m_training.numClasses(); noa++) {
<FONT ID="LN">683 </FONT><A NAME="683"></A>      count += res[noa];
<FONT ID="LN">684 </FONT><A NAME="684"></A>      <FONT ID="If">if</FONT> (res[noa] &gt; highest) {
<FONT ID="LN">685 </FONT><A NAME="685"></A>    most_likely = noa;
<FONT ID="LN">686 </FONT><A NAME="686"></A>    highest = res[noa];
<FONT ID="LN">687 </FONT><A NAME="687"></A>      }
<FONT ID="LN">688 </FONT><A NAME="688"></A>    }
<FONT ID="LN">689 </FONT><A NAME="689"></A>    
<FONT ID="LN">690 </FONT><A NAME="690"></A>    <FONT ID="If">if</FONT> (count &lt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">691 </FONT><A NAME="691"></A>      <FONT ID="SingleLineComment">//not sure how this happened.
<FONT ID="LN">692 </FONT><A NAME="692"></A></FONT>      <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;
<FONT ID="LN">693 </FONT><A NAME="693"></A>    }
<FONT ID="LN">694 </FONT><A NAME="694"></A>
<FONT ID="LN">695 </FONT><A NAME="695"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_top.m_training.numClasses(); noa++) {
<FONT ID="LN">696 </FONT><A NAME="696"></A>      res[noa] = res[noa] / count;
<FONT ID="LN">697 </FONT><A NAME="697"></A>    }
<FONT ID="LN">698 </FONT><A NAME="698"></A>    <FONT ID="SingleLineComment">//System.out.println("ret");
<FONT ID="LN">699 </FONT><A NAME="699"></A></FONT>    
<FONT ID="LN">700 </FONT><A NAME="700"></A>    <FONT ID="Return">return</FONT> res;
<FONT ID="LN">701 </FONT><A NAME="701"></A>  }
<FONT ID="LN">702 </FONT><A NAME="702"></A>  
<FONT ID="LN">703 </FONT><A NAME="703"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">704 </FONT><A NAME="704"></A>   * Inner class used to represent the actual decision tree structure and data.
<FONT ID="LN">705 </FONT><A NAME="705"></A>   */</FONT>
<FONT ID="LN">706 </FONT><A NAME="706"></A>  <FONT ID="Private">private</FONT> <FONT ID="Class">class</FONT> TreeClass 
<FONT ID="LN">707 </FONT><A NAME="707"></A>    <FONT ID="Implements">implements</FONT> Serializable, <A HREF="../../../weka/core/RevisionHandler.java.html">RevisionHandler</A> {
<FONT ID="LN">708 </FONT><A NAME="708"></A>    
<FONT ID="LN">709 </FONT><A NAME="709"></A>    <FONT ID="FormalComment">/** for serialization */</FONT>
<FONT ID="LN">710 </FONT><A NAME="710"></A>    <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">595663560871347434L</FONT>;
<FONT ID="LN">711 </FONT><A NAME="711"></A>    
<FONT ID="LN">712 </FONT><A NAME="712"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">713 </FONT><A NAME="713"></A>     * This contains the info for the coords of the shape converted 
<FONT ID="LN">714 </FONT><A NAME="714"></A>     * to attrib coords, 
<FONT ID="LN">715 </FONT><A NAME="715"></A>     * for polygon the first attrib is the number of points, 
<FONT ID="LN">716 </FONT><A NAME="716"></A>     * This is not more object oriented because that would 
<FONT ID="LN">717 </FONT><A NAME="717"></A>     * be over kill.
<FONT ID="LN">718 </FONT><A NAME="718"></A>     */</FONT>
<FONT ID="LN">719 </FONT><A NAME="719"></A>    <FONT ID="Public">public</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> m_ranges;
<FONT ID="LN">720 </FONT><A NAME="720"></A>
<FONT ID="LN">721 </FONT><A NAME="721"></A>    <FONT ID="FormalComment">/** the first attribute */</FONT>
<FONT ID="LN">722 </FONT><A NAME="722"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> m_attrib1;
<FONT ID="LN">723 </FONT><A NAME="723"></A>    
<FONT ID="LN">724 </FONT><A NAME="724"></A>    <FONT ID="FormalComment">/** the second attribute */</FONT>
<FONT ID="LN">725 </FONT><A NAME="725"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> m_attrib2;
<FONT ID="LN">726 </FONT><A NAME="726"></A>    
<FONT ID="LN">727 </FONT><A NAME="727"></A>    <FONT ID="Public">public</FONT> TreeClass m_set1;
<FONT ID="LN">728 </FONT><A NAME="728"></A>    <FONT ID="Public">public</FONT> TreeClass m_set2;
<FONT ID="LN">729 </FONT><A NAME="729"></A>
<FONT ID="LN">730 </FONT><A NAME="730"></A>    <FONT ID="FormalComment">/** the parent */</FONT>
<FONT ID="LN">731 </FONT><A NAME="731"></A>    <FONT ID="Public">public</FONT> TreeClass m_parent;
<FONT ID="LN">732 </FONT><A NAME="732"></A>
<FONT ID="LN">733 </FONT><A NAME="733"></A>    <FONT ID="FormalComment">/** A string to uniquely identify this node. */</FONT>
<FONT ID="LN">734 </FONT><A NAME="734"></A>    <FONT ID="Public">public</FONT> String m_identity;
<FONT ID="LN">735 </FONT><A NAME="735"></A>    
<FONT ID="LN">736 </FONT><A NAME="736"></A>    <FONT ID="FormalComment">/** the weight of this node */</FONT>
<FONT ID="LN">737 </FONT><A NAME="737"></A>    <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> m_weight;
<FONT ID="LN">738 </FONT><A NAME="738"></A>    
<FONT ID="LN">739 </FONT><A NAME="739"></A>    <FONT ID="FormalComment">/** the training instances for this node */</FONT>
<FONT ID="LN">740 </FONT><A NAME="740"></A>    <FONT ID="Public">public</FONT> <A HREF="../../../weka/core/Instances.java.html">Instances</A> m_training;
<FONT ID="LN">741 </FONT><A NAME="741"></A>    
<FONT ID="LN">742 </FONT><A NAME="742"></A>    <FONT ID="FormalComment">/** Used instead of the standard leaf if one exists. */</FONT>
<FONT ID="LN">743 </FONT><A NAME="743"></A>    <FONT ID="Public">public</FONT> <A HREF="../../../weka/classifiers/Classifier.java.html">Classifier</A> m_classObject;
<FONT ID="LN">744 </FONT><A NAME="744"></A>
<FONT ID="LN">745 </FONT><A NAME="745"></A>    <FONT ID="FormalComment">/** Used on the instances while classifying if one exists. */</FONT>
<FONT ID="LN">746 </FONT><A NAME="746"></A>    <FONT ID="Public">public</FONT> <A HREF="../../../weka/filters/Filter.java.html">Filter</A> m_filter;
<FONT ID="LN">747 </FONT><A NAME="747"></A>    
<FONT ID="LN">748 </FONT><A NAME="748"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">749 </FONT><A NAME="749"></A>     * Constructs a TreeClass node  with all the important information.
<FONT ID="LN">750 </FONT><A NAME="750"></A>     * @param r A FastVector containing the shapes, null if it's a leaf node.
<FONT ID="LN">751 </FONT><A NAME="751"></A>     * @param a1 The first attribute.
<FONT ID="LN">752 </FONT><A NAME="752"></A>     * @param a2 The second attribute.
<FONT ID="LN">753 </FONT><A NAME="753"></A>     * @param id The unique id number for this node.
<FONT ID="LN">754 </FONT><A NAME="754"></A>     * @param w The weight of this node.
<FONT ID="LN">755 </FONT><A NAME="755"></A>     * @param i The instances that make it to this node from the training data.
<FONT ID="LN">756 </FONT><A NAME="756"></A>     * @param p the parent
<FONT ID="LN">757 </FONT><A NAME="757"></A>     * @throws Exception if can't use 'i' properly.
<FONT ID="LN">758 </FONT><A NAME="758"></A>     */</FONT>
<FONT ID="LN">759 </FONT><A NAME="759"></A>    <FONT ID="Public">public</FONT> TreeClass(<A HREF="../../../weka/core/FastVector.java.html">FastVector</A> r, <FONT ID="Int">int</FONT> a1, <FONT ID="Int">int</FONT> a2, <FONT ID="Int">int</FONT> id, <FONT ID="Double">double</FONT> w, 
<FONT ID="LN">760 </FONT><A NAME="760"></A>             <A HREF="../../../weka/core/Instances.java.html">Instances</A> i, TreeClass p) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">761 </FONT><A NAME="761"></A>      m_set1 = <FONT ID="Null">null</FONT>;
<FONT ID="LN">762 </FONT><A NAME="762"></A>      m_set2 = <FONT ID="Null">null</FONT>;
<FONT ID="LN">763 </FONT><A NAME="763"></A>      m_ranges = r;
<FONT ID="LN">764 </FONT><A NAME="764"></A>      m_classObject = <FONT ID="Null">null</FONT>;
<FONT ID="LN">765 </FONT><A NAME="765"></A>      m_filter = <FONT ID="Null">null</FONT>;
<FONT ID="LN">766 </FONT><A NAME="766"></A>      m_training = i;
<FONT ID="LN">767 </FONT><A NAME="767"></A>      m_attrib1 = a1;
<FONT ID="LN">768 </FONT><A NAME="768"></A>      m_attrib2 = a2;
<FONT ID="LN">769 </FONT><A NAME="769"></A>      m_identity = <FONT ID="StringLiteral">"N"</FONT> + String.valueOf(id);
<FONT ID="LN">770 </FONT><A NAME="770"></A>      m_weight = w;
<FONT ID="LN">771 </FONT><A NAME="771"></A>      m_parent = p;
<FONT ID="LN">772 </FONT><A NAME="772"></A>      m_nextId++;
<FONT ID="LN">773 </FONT><A NAME="773"></A>      <FONT ID="If">if</FONT> (m_ranges == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">774 </FONT><A NAME="774"></A>    
<FONT ID="LN">775 </FONT><A NAME="775"></A>    setLeaf();
<FONT ID="LN">776 </FONT><A NAME="776"></A>    <FONT ID="SingleLineComment">//this will fill the ranges array with the 
<FONT ID="LN">777 </FONT><A NAME="777"></A></FONT>    <FONT ID="SingleLineComment">//number of times each class type occurs for the instances.
<FONT ID="LN">778 </FONT><A NAME="778"></A></FONT>    <FONT ID="MultiLineComment">/*m_ranges = new FastVector(1);
<FONT ID="LN">779 </FONT><A NAME="779"></A>      m_ranges.addElement(new FastVector(i.numClasses() + 1));
<FONT ID="LN">780 </FONT><A NAME="780"></A>      FastVector tmp = (FastVector)m_ranges.elementAt(0);
<FONT ID="LN">781 </FONT><A NAME="781"></A>      tmp.addElement(new Double(0));
<FONT ID="LN">782 </FONT><A NAME="782"></A>      for (int noa = 0; noa &lt; i.numClasses(); noa++) {
<FONT ID="LN">783 </FONT><A NAME="783"></A>      tmp.addElement(new Double(0));
<FONT ID="LN">784 </FONT><A NAME="784"></A>      }
<FONT ID="LN">785 </FONT><A NAME="785"></A>      for (int noa = 0; noa &lt; i.numInstances(); noa++) {
<FONT ID="LN">786 </FONT><A NAME="786"></A>      tmp.setElementAt(new Double(((Double)tmp.elementAt
<FONT ID="LN">787 </FONT><A NAME="787"></A>      ((int)i.instance(noa).
<FONT ID="LN">788 </FONT><A NAME="788"></A>      classValue() + 1)).doubleValue() + 
<FONT ID="LN">789 </FONT><A NAME="789"></A>      i.instance(noa).weight()),
<FONT ID="LN">790 </FONT><A NAME="790"></A>      (int)i.instance(noa).classValue() + 1);  
<FONT ID="LN">791 </FONT><A NAME="791"></A>      //this gets the current class value and alters it and replaces it
<FONT ID="LN">792 </FONT><A NAME="792"></A>      }*/</FONT>
<FONT ID="LN">793 </FONT><A NAME="793"></A>      }     
<FONT ID="LN">794 </FONT><A NAME="794"></A>    }
<FONT ID="LN">795 </FONT><A NAME="795"></A>    
<FONT ID="LN">796 </FONT><A NAME="796"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">797 </FONT><A NAME="797"></A>     * Call this to set an alternate classifier For this node.
<FONT ID="LN">798 </FONT><A NAME="798"></A>     * @param c The alternative classifier to use.
<FONT ID="LN">799 </FONT><A NAME="799"></A>     * @throws Exception if alternate classifier can't build classification.
<FONT ID="LN">800 </FONT><A NAME="800"></A>     */</FONT>
<FONT ID="LN">801 </FONT><A NAME="801"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setClassifier(<A HREF="../../../weka/classifiers/Classifier.java.html">Classifier</A> c) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">802 </FONT><A NAME="802"></A>      m_classObject = c;
<FONT ID="LN">803 </FONT><A NAME="803"></A>      m_classObject.buildClassifier(m_training);
<FONT ID="LN">804 </FONT><A NAME="804"></A>    }
<FONT ID="LN">805 </FONT><A NAME="805"></A>
<FONT ID="LN">806 </FONT><A NAME="806"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">807 </FONT><A NAME="807"></A>     * Get the alternate classifier at this node. Returns null if there is
<FONT ID="LN">808 </FONT><A NAME="808"></A>     * no classifier.
<FONT ID="LN">809 </FONT><A NAME="809"></A>     *
<FONT ID="LN">810 </FONT><A NAME="810"></A>     * @return the alternate classifier at this node, or null if there is none.
<FONT ID="LN">811 </FONT><A NAME="811"></A>     */</FONT>
<FONT ID="LN">812 </FONT><A NAME="812"></A>    <FONT ID="Public">public</FONT> <A HREF="../../../weka/classifiers/Classifier.java.html">Classifier</A> getClassifier() {
<FONT ID="LN">813 </FONT><A NAME="813"></A>      <FONT ID="Return">return</FONT> m_classObject;
<FONT ID="LN">814 </FONT><A NAME="814"></A>    }
<FONT ID="LN">815 </FONT><A NAME="815"></A>    
<FONT ID="LN">816 </FONT><A NAME="816"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">817 </FONT><A NAME="817"></A>     * Call this to set this node with different information to what
<FONT ID="LN">818 </FONT><A NAME="818"></A>     * it was created with.
<FONT ID="LN">819 </FONT><A NAME="819"></A>     * @param at1 The first attribute.
<FONT ID="LN">820 </FONT><A NAME="820"></A>     * @param at2 The second attribute.
<FONT ID="LN">821 </FONT><A NAME="821"></A>     * @param ar The shapes at this node, null if leaf node, or 
<FONT ID="LN">822 </FONT><A NAME="822"></A>     * alternate classifier.
<FONT ID="LN">823 </FONT><A NAME="823"></A>     * @throws Exception if leaf node and cant't create leaf info.
<FONT ID="LN">824 </FONT><A NAME="824"></A>     */</FONT>
<FONT ID="LN">825 </FONT><A NAME="825"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setInfo(<FONT ID="Int">int</FONT> at1, <FONT ID="Int">int</FONT> at2, <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> ar) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">826 </FONT><A NAME="826"></A>      m_classObject = <FONT ID="Null">null</FONT>;
<FONT ID="LN">827 </FONT><A NAME="827"></A>      m_filter = <FONT ID="Null">null</FONT>;
<FONT ID="LN">828 </FONT><A NAME="828"></A>      m_attrib1 = at1;
<FONT ID="LN">829 </FONT><A NAME="829"></A>      m_attrib2 = at2;
<FONT ID="LN">830 </FONT><A NAME="830"></A>      m_ranges = ar;
<FONT ID="LN">831 </FONT><A NAME="831"></A>      
<FONT ID="LN">832 </FONT><A NAME="832"></A>      <FONT ID="SingleLineComment">//FastVector tmp;
<FONT ID="LN">833 </FONT><A NAME="833"></A></FONT>      <FONT ID="If">if</FONT> (m_ranges == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">834 </FONT><A NAME="834"></A>    setLeaf();
<FONT ID="LN">835 </FONT><A NAME="835"></A>    <FONT ID="MultiLineComment">/*
<FONT ID="LN">836 </FONT><A NAME="836"></A>    //this will fill the ranges array with the number of times 
<FONT ID="LN">837 </FONT><A NAME="837"></A>    //each class type occurs for the instances.
<FONT ID="LN">838 </FONT><A NAME="838"></A>      if (m_training != null) {
<FONT ID="LN">839 </FONT><A NAME="839"></A>        m_ranges = new FastVector(1);
<FONT ID="LN">840 </FONT><A NAME="840"></A>        m_ranges.addElement(new FastVector(m_training.numClasses() + 1));
<FONT ID="LN">841 </FONT><A NAME="841"></A>        tmp = (FastVector)m_ranges.elementAt(0);
<FONT ID="LN">842 </FONT><A NAME="842"></A>        tmp.addElement(new Double(0));
<FONT ID="LN">843 </FONT><A NAME="843"></A>        for (int noa = 0; noa &lt; m_training.numClasses(); noa++) {
<FONT ID="LN">844 </FONT><A NAME="844"></A>          tmp.addElement(new Double(0));
<FONT ID="LN">845 </FONT><A NAME="845"></A>        }
<FONT ID="LN">846 </FONT><A NAME="846"></A>        for (int noa = 0; noa &lt; m_training.numInstances(); noa++) {
<FONT ID="LN">847 </FONT><A NAME="847"></A>          tmp.setElementAt(new Double(((Double)tmp.elementAt
<FONT ID="LN">848 </FONT><A NAME="848"></A>                       ((int)m_training.instance(noa).
<FONT ID="LN">849 </FONT><A NAME="849"></A>                        classValue() + 1)).doubleValue() + 
<FONT ID="LN">850 </FONT><A NAME="850"></A>                      m_training.instance(noa).weight()), 
<FONT ID="LN">851 </FONT><A NAME="851"></A>                   (int)m_training.instance(noa).classValue() + 1);
<FONT ID="LN">852 </FONT><A NAME="852"></A>          //this gets the current class val and alters it and replaces it
<FONT ID="LN">853 </FONT><A NAME="853"></A>          }
<FONT ID="LN">854 </FONT><A NAME="854"></A>          }*/</FONT>
<FONT ID="LN">855 </FONT><A NAME="855"></A>      }
<FONT ID="LN">856 </FONT><A NAME="856"></A>    }
<FONT ID="LN">857 </FONT><A NAME="857"></A>    
<FONT ID="LN">858 </FONT><A NAME="858"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">859 </FONT><A NAME="859"></A>     * This sets up the informtion about this node such as the s.d or the
<FONT ID="LN">860 </FONT><A NAME="860"></A>     * number of each class.
<FONT ID="LN">861 </FONT><A NAME="861"></A>     * @throws Exception if problem with training instances.
<FONT ID="LN">862 </FONT><A NAME="862"></A>     */</FONT>
<FONT ID="LN">863 </FONT><A NAME="863"></A>    <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> setLeaf() <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">864 </FONT><A NAME="864"></A>      <FONT ID="SingleLineComment">//this will fill the ranges array with the number of times 
<FONT ID="LN">865 </FONT><A NAME="865"></A></FONT>      <FONT ID="SingleLineComment">//each class type occurs for the instances.
<FONT ID="LN">866 </FONT><A NAME="866"></A></FONT>      <FONT ID="SingleLineComment">//System.out.println("ihere");
<FONT ID="LN">867 </FONT><A NAME="867"></A></FONT>      <FONT ID="If">if</FONT> (m_training != <FONT ID="Null">null</FONT> ) {
<FONT ID="LN">868 </FONT><A NAME="868"></A>    
<FONT ID="LN">869 </FONT><A NAME="869"></A>    <FONT ID="If">if</FONT> (m_training.classAttribute().isNominal()) {
<FONT ID="LN">870 </FONT><A NAME="870"></A>      <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> tmp;
<FONT ID="LN">871 </FONT><A NAME="871"></A>      
<FONT ID="LN">872 </FONT><A NAME="872"></A>      <FONT ID="SingleLineComment">//System.out.println("ehlpe");
<FONT ID="LN">873 </FONT><A NAME="873"></A></FONT>      m_ranges = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">874 </FONT><A NAME="874"></A>      m_ranges.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(m_training.numClasses() + <FONT ID="IntegerLiteral">1</FONT>));
<FONT ID="LN">875 </FONT><A NAME="875"></A>      tmp = (<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">876 </FONT><A NAME="876"></A>      tmp.addElement(<FONT ID="New">new</FONT> Double(<FONT ID="IntegerLiteral">0</FONT>));
<FONT ID="LN">877 </FONT><A NAME="877"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.numClasses(); noa++) {
<FONT ID="LN">878 </FONT><A NAME="878"></A>        tmp.addElement(<FONT ID="New">new</FONT> Double(<FONT ID="IntegerLiteral">0</FONT>));
<FONT ID="LN">879 </FONT><A NAME="879"></A>      }
<FONT ID="LN">880 </FONT><A NAME="880"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.numInstances(); noa++) {
<FONT ID="LN">881 </FONT><A NAME="881"></A>        tmp.setElementAt(<FONT ID="New">new</FONT> Double(((Double)tmp.elementAt
<FONT ID="LN">882 </FONT><A NAME="882"></A>                     ((<FONT ID="Int">int</FONT>)m_training.instance(noa).
<FONT ID="LN">883 </FONT><A NAME="883"></A>                      classValue() + <FONT ID="IntegerLiteral">1</FONT>)).doubleValue() + 
<FONT ID="LN">884 </FONT><A NAME="884"></A>                    m_training.instance(noa).weight()), 
<FONT ID="LN">885 </FONT><A NAME="885"></A>                 (<FONT ID="Int">int</FONT>)m_training.instance(noa).classValue() + <FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">886 </FONT><A NAME="886"></A>        <FONT ID="SingleLineComment">//this gets the current class val and alters it and replaces it
<FONT ID="LN">887 </FONT><A NAME="887"></A></FONT>      }
<FONT ID="LN">888 </FONT><A NAME="888"></A>    }
<FONT ID="LN">889 </FONT><A NAME="889"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">890 </FONT><A NAME="890"></A>      <FONT ID="SingleLineComment">//then calc the standard deviation.
<FONT ID="LN">891 </FONT><A NAME="891"></A></FONT>      m_ranges = <FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">892 </FONT><A NAME="892"></A>      <FONT ID="Double">double</FONT> t1 = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">893 </FONT><A NAME="893"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.numInstances(); noa++) {
<FONT ID="LN">894 </FONT><A NAME="894"></A>        t1 += m_training.instance(noa).classValue();
<FONT ID="LN">895 </FONT><A NAME="895"></A>      }
<FONT ID="LN">896 </FONT><A NAME="896"></A>      
<FONT ID="LN">897 </FONT><A NAME="897"></A>      <FONT ID="If">if</FONT> (m_training.numInstances() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">898 </FONT><A NAME="898"></A>        t1 /= m_training.numInstances();
<FONT ID="LN">899 </FONT><A NAME="899"></A>      }
<FONT ID="LN">900 </FONT><A NAME="900"></A>      <FONT ID="Double">double</FONT> t2 = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">901 </FONT><A NAME="901"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.numInstances(); noa++) {
<FONT ID="LN">902 </FONT><A NAME="902"></A>        t2 += Math.pow(m_training.instance(noa).classValue() - t1, <FONT ID="IntegerLiteral">2</FONT>);
<FONT ID="LN">903 </FONT><A NAME="903"></A>      }
<FONT ID="LN">904 </FONT><A NAME="904"></A>      <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> tmp;
<FONT ID="LN">905 </FONT><A NAME="905"></A>      <FONT ID="If">if</FONT> (m_training.numInstances() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">906 </FONT><A NAME="906"></A>        t1 = Math.sqrt(t2 / m_training.numInstances());
<FONT ID="LN">907 </FONT><A NAME="907"></A>        m_ranges.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">2</FONT>));
<FONT ID="LN">908 </FONT><A NAME="908"></A>        tmp = (<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">909 </FONT><A NAME="909"></A>        tmp.addElement(<FONT ID="New">new</FONT> Double(<FONT ID="IntegerLiteral">0</FONT>));
<FONT ID="LN">910 </FONT><A NAME="910"></A>        tmp.addElement(<FONT ID="New">new</FONT> Double(t1));
<FONT ID="LN">911 </FONT><A NAME="911"></A>      }
<FONT ID="LN">912 </FONT><A NAME="912"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">913 </FONT><A NAME="913"></A>        m_ranges.addElement(<FONT ID="New">new</FONT> <A HREF="../../../weka/core/FastVector.java.html">FastVector</A>(<FONT ID="IntegerLiteral">2</FONT>));
<FONT ID="LN">914 </FONT><A NAME="914"></A>        tmp = (<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">915 </FONT><A NAME="915"></A>        tmp.addElement(<FONT ID="New">new</FONT> Double(<FONT ID="IntegerLiteral">0</FONT>));
<FONT ID="LN">916 </FONT><A NAME="916"></A>        tmp.addElement(<FONT ID="New">new</FONT> Double(Double.NaN));
<FONT ID="LN">917 </FONT><A NAME="917"></A>      }
<FONT ID="LN">918 </FONT><A NAME="918"></A>    }
<FONT ID="LN">919 </FONT><A NAME="919"></A>      }
<FONT ID="LN">920 </FONT><A NAME="920"></A>    }
<FONT ID="LN">921 </FONT><A NAME="921"></A>
<FONT ID="LN">922 </FONT><A NAME="922"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">923 </FONT><A NAME="923"></A>     * This will recursively go through the tree and return inside the 
<FONT ID="LN">924 </FONT><A NAME="924"></A>     * array the weightings of each of the class types
<FONT ID="LN">925 </FONT><A NAME="925"></A>     * for this instance. Note that this function returns an otherwise 
<FONT ID="LN">926 </FONT><A NAME="926"></A>     * unreferenced double array so there are no worry's about
<FONT ID="LN">927 </FONT><A NAME="927"></A>     * making changes.
<FONT ID="LN">928 </FONT><A NAME="928"></A>     *
<FONT ID="LN">929 </FONT><A NAME="929"></A>     * @param i The instance to test
<FONT ID="LN">930 </FONT><A NAME="930"></A>     * @return A double array containing the results.
<FONT ID="LN">931 </FONT><A NAME="931"></A>     * @throws Exception if can't use instance i properly.
<FONT ID="LN">932 </FONT><A NAME="932"></A>     */</FONT>
<FONT ID="LN">933 </FONT><A NAME="933"></A>    <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT>[] calcClassType(<A HREF="../../../weka/core/Instance.java.html">Instance</A> i) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">934 </FONT><A NAME="934"></A>      <FONT ID="SingleLineComment">//note that it will be the same calcs for both numeric and nominal
<FONT ID="LN">935 </FONT><A NAME="935"></A></FONT>      <FONT ID="SingleLineComment">//attrib types.
<FONT ID="LN">936 </FONT><A NAME="936"></A></FONT>      <FONT ID="SingleLineComment">//note the weightings for returning stuff will need to be modified 
<FONT ID="LN">937 </FONT><A NAME="937"></A></FONT>      <FONT ID="SingleLineComment">//to work properly but will do for now.
<FONT ID="LN">938 </FONT><A NAME="938"></A></FONT>      <FONT ID="Double">double</FONT> x = <FONT ID="IntegerLiteral">0</FONT>, y = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">939 </FONT><A NAME="939"></A>      <FONT ID="If">if</FONT> (m_attrib1 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">940 </FONT><A NAME="940"></A>    x = i.value(m_attrib1);
<FONT ID="LN">941 </FONT><A NAME="941"></A>      }
<FONT ID="LN">942 </FONT><A NAME="942"></A>      <FONT ID="If">if</FONT> (m_attrib2 &gt;= <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">943 </FONT><A NAME="943"></A>    y = i.value(m_attrib2);
<FONT ID="LN">944 </FONT><A NAME="944"></A>      }
<FONT ID="LN">945 </FONT><A NAME="945"></A>      <FONT ID="Double">double</FONT>[] rt;
<FONT ID="LN">946 </FONT><A NAME="946"></A>      <FONT ID="If">if</FONT> (m_training.classAttribute().isNominal()) {
<FONT ID="LN">947 </FONT><A NAME="947"></A>    rt = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[m_training.numClasses()];
<FONT ID="LN">948 </FONT><A NAME="948"></A>      }
<FONT ID="LN">949 </FONT><A NAME="949"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">950 </FONT><A NAME="950"></A>    rt = <FONT ID="New">new</FONT> <FONT ID="Double">double</FONT>[<FONT ID="IntegerLiteral">1</FONT>];
<FONT ID="LN">951 </FONT><A NAME="951"></A>      }
<FONT ID="LN">952 </FONT><A NAME="952"></A>
<FONT ID="LN">953 </FONT><A NAME="953"></A>      <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> tmp;
<FONT ID="LN">954 </FONT><A NAME="954"></A>      <FONT ID="If">if</FONT> (m_classObject != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">955 </FONT><A NAME="955"></A>    <FONT ID="SingleLineComment">//then use the classifier.
<FONT ID="LN">956 </FONT><A NAME="956"></A></FONT>    <FONT ID="If">if</FONT> (m_training.classAttribute().isNominal()) {
<FONT ID="LN">957 </FONT><A NAME="957"></A>      rt[(<FONT ID="Int">int</FONT>)m_classObject.classifyInstance(i)] = <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">958 </FONT><A NAME="958"></A>    }
<FONT ID="LN">959 </FONT><A NAME="959"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">960 </FONT><A NAME="960"></A>      <FONT ID="If">if</FONT> (m_filter != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">961 </FONT><A NAME="961"></A>        m_filter.input(i);
<FONT ID="LN">962 </FONT><A NAME="962"></A>        rt[<FONT ID="IntegerLiteral">0</FONT>] = m_classObject.classifyInstance(m_filter.output());
<FONT ID="LN">963 </FONT><A NAME="963"></A>      }
<FONT ID="LN">964 </FONT><A NAME="964"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">965 </FONT><A NAME="965"></A>        rt[<FONT ID="IntegerLiteral">0</FONT>] = m_classObject.classifyInstance(i);
<FONT ID="LN">966 </FONT><A NAME="966"></A>      }
<FONT ID="LN">967 </FONT><A NAME="967"></A>    }
<FONT ID="LN">968 </FONT><A NAME="968"></A>    <FONT ID="SingleLineComment">//System.out.println("j48");
<FONT ID="LN">969 </FONT><A NAME="969"></A></FONT>    <FONT ID="Return">return</FONT> rt;
<FONT ID="LN">970 </FONT><A NAME="970"></A>      }
<FONT ID="LN">971 </FONT><A NAME="971"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (((Double)((<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).
<FONT ID="LN">972 </FONT><A NAME="972"></A>        elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() == LEAF) {
<FONT ID="LN">973 </FONT><A NAME="973"></A>    <FONT ID="SingleLineComment">//System.out.println("leaf");
<FONT ID="LN">974 </FONT><A NAME="974"></A></FONT>    <FONT ID="SingleLineComment">//then this is a leaf
<FONT ID="LN">975 </FONT><A NAME="975"></A></FONT>    <FONT ID="SingleLineComment">//rt = new double[m_training.numClasses()];
<FONT ID="LN">976 </FONT><A NAME="976"></A></FONT>    
<FONT ID="LN">977 </FONT><A NAME="977"></A>    <FONT ID="If">if</FONT> (m_training.classAttribute().isNumeric()) {
<FONT ID="LN">978 </FONT><A NAME="978"></A>     
<FONT ID="LN">979 </FONT><A NAME="979"></A>      setLinear();
<FONT ID="LN">980 </FONT><A NAME="980"></A>      m_filter.input(i);
<FONT ID="LN">981 </FONT><A NAME="981"></A>      rt[<FONT ID="IntegerLiteral">0</FONT>] = m_classObject.classifyInstance(m_filter.output());
<FONT ID="LN">982 </FONT><A NAME="982"></A>      <FONT ID="Return">return</FONT> rt;
<FONT ID="LN">983 </FONT><A NAME="983"></A>    }
<FONT ID="LN">984 </FONT><A NAME="984"></A>    
<FONT ID="LN">985 </FONT><A NAME="985"></A>    <FONT ID="Int">int</FONT> totaler = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">986 </FONT><A NAME="986"></A>    tmp = (<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">987 </FONT><A NAME="987"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.numClasses();noa++) {
<FONT ID="LN">988 </FONT><A NAME="988"></A>      rt[noa] = ((Double)tmp.elementAt(noa + <FONT ID="IntegerLiteral">1</FONT>)).doubleValue();
<FONT ID="LN">989 </FONT><A NAME="989"></A>      totaler += rt[noa];
<FONT ID="LN">990 </FONT><A NAME="990"></A>    }
<FONT ID="LN">991 </FONT><A NAME="991"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.numClasses(); noa++) {
<FONT ID="LN">992 </FONT><A NAME="992"></A>      rt[noa] = rt[noa] / totaler;
<FONT ID="LN">993 </FONT><A NAME="993"></A>    }
<FONT ID="LN">994 </FONT><A NAME="994"></A>    <FONT ID="Return">return</FONT> rt;
<FONT ID="LN">995 </FONT><A NAME="995"></A>      }
<FONT ID="LN">996 </FONT><A NAME="996"></A>      
<FONT ID="LN">997 </FONT><A NAME="997"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_ranges.size(); noa++) {
<FONT ID="LN">998 </FONT><A NAME="998"></A>    
<FONT ID="LN">999 </FONT><A NAME="999"></A>    tmp = (<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(noa);
<FONT ID="LN">1000</FONT><A NAME="1000"></A>    
<FONT ID="LN">1001</FONT><A NAME="1001"></A>    <FONT ID="If">if</FONT> (((Double)tmp.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() 
<FONT ID="LN">1002</FONT><A NAME="1002"></A>        == VLINE &amp;&amp; !Utils.isMissingValue(x)) {
<FONT ID="LN">1003</FONT><A NAME="1003"></A>      
<FONT ID="LN">1004</FONT><A NAME="1004"></A>    }
<FONT ID="LN">1005</FONT><A NAME="1005"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (((Double)tmp.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() 
<FONT ID="LN">1006</FONT><A NAME="1006"></A>         == HLINE &amp;&amp; !Utils.isMissingValue(y)) {
<FONT ID="LN">1007</FONT><A NAME="1007"></A>      
<FONT ID="LN">1008</FONT><A NAME="1008"></A>    }
<FONT ID="LN">1009</FONT><A NAME="1009"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (Utils.isMissingValue(x) || Utils.isMissingValue(y)) {
<FONT ID="LN">1010</FONT><A NAME="1010"></A>      <FONT ID="SingleLineComment">//System.out.println("miss");
<FONT ID="LN">1011</FONT><A NAME="1011"></A></FONT>      <FONT ID="SingleLineComment">//then go down both branches using their weights
<FONT ID="LN">1012</FONT><A NAME="1012"></A></FONT>      rt = m_set1.calcClassType(i);
<FONT ID="LN">1013</FONT><A NAME="1013"></A>      <FONT ID="Double">double</FONT>[] tem = m_set2.calcClassType(i);
<FONT ID="LN">1014</FONT><A NAME="1014"></A>      <FONT ID="If">if</FONT> (m_training.classAttribute().isNominal()) {
<FONT ID="LN">1015</FONT><A NAME="1015"></A>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> nob = <FONT ID="IntegerLiteral">0</FONT>; nob &lt; m_training.numClasses(); nob++) {
<FONT ID="LN">1016</FONT><A NAME="1016"></A>          rt[nob] *= m_set1.m_weight;
<FONT ID="LN">1017</FONT><A NAME="1017"></A>          rt[nob] += tem[nob] * m_set2.m_weight;
<FONT ID="LN">1018</FONT><A NAME="1018"></A>        }
<FONT ID="LN">1019</FONT><A NAME="1019"></A>      }
<FONT ID="LN">1020</FONT><A NAME="1020"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1021</FONT><A NAME="1021"></A>        rt[<FONT ID="IntegerLiteral">0</FONT>] *= m_set1.m_weight;
<FONT ID="LN">1022</FONT><A NAME="1022"></A>        rt[<FONT ID="IntegerLiteral">0</FONT>] += tem[<FONT ID="IntegerLiteral">0</FONT>] * m_set2.m_weight;
<FONT ID="LN">1023</FONT><A NAME="1023"></A>      }
<FONT ID="LN">1024</FONT><A NAME="1024"></A>      <FONT ID="Return">return</FONT> rt;
<FONT ID="LN">1025</FONT><A NAME="1025"></A>    }
<FONT ID="LN">1026</FONT><A NAME="1026"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (((Double)tmp.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() == RECTANGLE) {
<FONT ID="LN">1027</FONT><A NAME="1027"></A>      <FONT ID="SingleLineComment">//System.out.println("RECT");
<FONT ID="LN">1028</FONT><A NAME="1028"></A></FONT>      <FONT ID="If">if</FONT> (x &gt;= ((Double)tmp.elementAt(<FONT ID="IntegerLiteral">1</FONT>)).doubleValue() &amp;&amp; 
<FONT ID="LN">1029</FONT><A NAME="1029"></A>          x &lt;= ((Double)tmp.elementAt(<FONT ID="IntegerLiteral">3</FONT>)).doubleValue() &amp;&amp; 
<FONT ID="LN">1030</FONT><A NAME="1030"></A>          y &lt;= ((Double)tmp.elementAt(<FONT ID="IntegerLiteral">2</FONT>)).doubleValue() &amp;&amp; 
<FONT ID="LN">1031</FONT><A NAME="1031"></A>          y &gt;= ((Double)tmp.elementAt(<FONT ID="IntegerLiteral">4</FONT>)).doubleValue()) {
<FONT ID="LN">1032</FONT><A NAME="1032"></A>        <FONT ID="SingleLineComment">//then falls inside the rectangle
<FONT ID="LN">1033</FONT><A NAME="1033"></A></FONT>        <FONT ID="SingleLineComment">//System.out.println("true");
<FONT ID="LN">1034</FONT><A NAME="1034"></A></FONT>        rt = m_set1.calcClassType(i);
<FONT ID="LN">1035</FONT><A NAME="1035"></A>        <FONT ID="Return">return</FONT> rt;
<FONT ID="LN">1036</FONT><A NAME="1036"></A>      }
<FONT ID="LN">1037</FONT><A NAME="1037"></A>      
<FONT ID="LN">1038</FONT><A NAME="1038"></A>    }
<FONT ID="LN">1039</FONT><A NAME="1039"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (((Double)tmp.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() == POLYGON) {
<FONT ID="LN">1040</FONT><A NAME="1040"></A>      <FONT ID="If">if</FONT> (inPoly(tmp, x, y)) {
<FONT ID="LN">1041</FONT><A NAME="1041"></A>        rt = m_set1.calcClassType(i);
<FONT ID="LN">1042</FONT><A NAME="1042"></A>        <FONT ID="Return">return</FONT> rt;
<FONT ID="LN">1043</FONT><A NAME="1043"></A>      }
<FONT ID="LN">1044</FONT><A NAME="1044"></A>    }
<FONT ID="LN">1045</FONT><A NAME="1045"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (((Double)tmp.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() == POLYLINE) {
<FONT ID="LN">1046</FONT><A NAME="1046"></A>      <FONT ID="If">if</FONT> (inPolyline(tmp, x, y)) {
<FONT ID="LN">1047</FONT><A NAME="1047"></A>        rt = m_set1.calcClassType(i);
<FONT ID="LN">1048</FONT><A NAME="1048"></A>        <FONT ID="Return">return</FONT> rt;
<FONT ID="LN">1049</FONT><A NAME="1049"></A>      }
<FONT ID="LN">1050</FONT><A NAME="1050"></A>    }
<FONT ID="LN">1051</FONT><A NAME="1051"></A>      }
<FONT ID="LN">1052</FONT><A NAME="1052"></A>      <FONT ID="SingleLineComment">//is outside the split
<FONT ID="LN">1053</FONT><A NAME="1053"></A></FONT>      <FONT ID="If">if</FONT> (m_set2 != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1054</FONT><A NAME="1054"></A>    rt = m_set2.calcClassType(i);
<FONT ID="LN">1055</FONT><A NAME="1055"></A>      }
<FONT ID="LN">1056</FONT><A NAME="1056"></A>      <FONT ID="Return">return</FONT> rt;
<FONT ID="LN">1057</FONT><A NAME="1057"></A>    }
<FONT ID="LN">1058</FONT><A NAME="1058"></A>    
<FONT ID="LN">1059</FONT><A NAME="1059"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1060</FONT><A NAME="1060"></A>     * This function gets called to set the node to use a linear regression
<FONT ID="LN">1061</FONT><A NAME="1061"></A>     * and attribute filter.
<FONT ID="LN">1062</FONT><A NAME="1062"></A>     * @throws Exception If can't set a default linear egression model.
<FONT ID="LN">1063</FONT><A NAME="1063"></A>     */</FONT>
<FONT ID="LN">1064</FONT><A NAME="1064"></A>    <FONT ID="Private">private</FONT> <FONT ID="Void">void</FONT> setLinear() <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1065</FONT><A NAME="1065"></A>      <FONT ID="SingleLineComment">//then set default behaviour for node.
<FONT ID="LN">1066</FONT><A NAME="1066"></A></FONT>      <FONT ID="SingleLineComment">//set linear regression combined with attribute filter
<FONT ID="LN">1067</FONT><A NAME="1067"></A></FONT>      
<FONT ID="LN">1068</FONT><A NAME="1068"></A>      <FONT ID="SingleLineComment">//find the attributes used for splitting.
<FONT ID="LN">1069</FONT><A NAME="1069"></A></FONT>      <FONT ID="Boolean">boolean</FONT>[] attributeList = <FONT ID="New">new</FONT> <FONT ID="Boolean">boolean</FONT>[m_training.numAttributes()];
<FONT ID="LN">1070</FONT><A NAME="1070"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.numAttributes(); noa++) {
<FONT ID="LN">1071</FONT><A NAME="1071"></A>    attributeList[noa] = <FONT ID="False">false</FONT>;
<FONT ID="LN">1072</FONT><A NAME="1072"></A>      }
<FONT ID="LN">1073</FONT><A NAME="1073"></A>      
<FONT ID="LN">1074</FONT><A NAME="1074"></A>      TreeClass temp = <FONT ID="This">this</FONT>;
<FONT ID="LN">1075</FONT><A NAME="1075"></A>      attributeList[m_training.classIndex()] = <FONT ID="True">true</FONT>;
<FONT ID="LN">1076</FONT><A NAME="1076"></A>      <FONT ID="While">while</FONT> (temp != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1077</FONT><A NAME="1077"></A>    attributeList[temp.m_attrib1] = <FONT ID="True">true</FONT>;
<FONT ID="LN">1078</FONT><A NAME="1078"></A>    attributeList[temp.m_attrib2] = <FONT ID="True">true</FONT>;
<FONT ID="LN">1079</FONT><A NAME="1079"></A>    temp = temp.m_parent;
<FONT ID="LN">1080</FONT><A NAME="1080"></A>      }
<FONT ID="LN">1081</FONT><A NAME="1081"></A>      <FONT ID="Int">int</FONT> classind = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1082</FONT><A NAME="1082"></A>      
<FONT ID="LN">1083</FONT><A NAME="1083"></A>      
<FONT ID="LN">1084</FONT><A NAME="1084"></A>      <FONT ID="SingleLineComment">//find the new class index
<FONT ID="LN">1085</FONT><A NAME="1085"></A></FONT>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.classIndex(); noa++) {
<FONT ID="LN">1086</FONT><A NAME="1086"></A>    <FONT ID="If">if</FONT> (attributeList[noa]) {
<FONT ID="LN">1087</FONT><A NAME="1087"></A>      classind++;
<FONT ID="LN">1088</FONT><A NAME="1088"></A>    }
<FONT ID="LN">1089</FONT><A NAME="1089"></A>      }
<FONT ID="LN">1090</FONT><A NAME="1090"></A>      <FONT ID="SingleLineComment">//count how many attribs were used
<FONT ID="LN">1091</FONT><A NAME="1091"></A></FONT>      <FONT ID="Int">int</FONT> count = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1092</FONT><A NAME="1092"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.numAttributes(); noa++) {
<FONT ID="LN">1093</FONT><A NAME="1093"></A>    <FONT ID="If">if</FONT> (attributeList[noa]) {
<FONT ID="LN">1094</FONT><A NAME="1094"></A>      count++;
<FONT ID="LN">1095</FONT><A NAME="1095"></A>    }
<FONT ID="LN">1096</FONT><A NAME="1096"></A>      }
<FONT ID="LN">1097</FONT><A NAME="1097"></A>      
<FONT ID="LN">1098</FONT><A NAME="1098"></A>      <FONT ID="SingleLineComment">//fill an int array with the numbers of those attribs
<FONT ID="LN">1099</FONT><A NAME="1099"></A></FONT>      <FONT ID="Int">int</FONT>[] attributeList2 = <FONT ID="New">new</FONT> <FONT ID="Int">int</FONT>[count];
<FONT ID="LN">1100</FONT><A NAME="1100"></A>      count = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1101</FONT><A NAME="1101"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.numAttributes(); noa++) {
<FONT ID="LN">1102</FONT><A NAME="1102"></A>    <FONT ID="If">if</FONT> (attributeList[noa]) {
<FONT ID="LN">1103</FONT><A NAME="1103"></A>      attributeList2[count] = noa;
<FONT ID="LN">1104</FONT><A NAME="1104"></A>      count++;
<FONT ID="LN">1105</FONT><A NAME="1105"></A>    }
<FONT ID="LN">1106</FONT><A NAME="1106"></A>      }
<FONT ID="LN">1107</FONT><A NAME="1107"></A>      
<FONT ID="LN">1108</FONT><A NAME="1108"></A>      m_filter = <FONT ID="New">new</FONT> <A HREF="../../../weka/filters/unsupervised/attribute/Remove.java.html">Remove</A>();
<FONT ID="LN">1109</FONT><A NAME="1109"></A>      ((<A HREF="../../../weka/filters/unsupervised/attribute/Remove.java.html">Remove</A>)m_filter).setInvertSelection(<FONT ID="True">true</FONT>);
<FONT ID="LN">1110</FONT><A NAME="1110"></A>      ((<A HREF="../../../weka/filters/unsupervised/attribute/Remove.java.html">Remove</A>)m_filter).setAttributeIndicesArray(attributeList2);
<FONT ID="LN">1111</FONT><A NAME="1111"></A>      m_filter.setInputFormat(m_training);
<FONT ID="LN">1112</FONT><A NAME="1112"></A>      
<FONT ID="LN">1113</FONT><A NAME="1113"></A>      <A HREF="../../../weka/core/Instances.java.html">Instances</A> temp2 = Filter.useFilter(m_training, m_filter);
<FONT ID="LN">1114</FONT><A NAME="1114"></A>      temp2.setClassIndex(classind);
<FONT ID="LN">1115</FONT><A NAME="1115"></A>      m_classObject = <FONT ID="New">new</FONT> <A HREF="../../../weka/classifiers/functions/LinearRegression.java.html">LinearRegression</A>();
<FONT ID="LN">1116</FONT><A NAME="1116"></A>      m_classObject.buildClassifier(temp2);
<FONT ID="LN">1117</FONT><A NAME="1117"></A>    }
<FONT ID="LN">1118</FONT><A NAME="1118"></A>    
<FONT ID="LN">1119</FONT><A NAME="1119"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1120</FONT><A NAME="1120"></A>     * Call to find out if an instance is in a polyline.
<FONT ID="LN">1121</FONT><A NAME="1121"></A>     * @param ob The polyline to check.
<FONT ID="LN">1122</FONT><A NAME="1122"></A>     * @param x The value of attribute1 to check.
<FONT ID="LN">1123</FONT><A NAME="1123"></A>     * @param y The value of attribute2 to check.
<FONT ID="LN">1124</FONT><A NAME="1124"></A>     * @return True if inside, false if not.
<FONT ID="LN">1125</FONT><A NAME="1125"></A>     */</FONT>
<FONT ID="LN">1126</FONT><A NAME="1126"></A>    <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> inPolyline(<A HREF="../../../weka/core/FastVector.java.html">FastVector</A> ob, <FONT ID="Double">double</FONT> x, <FONT ID="Double">double</FONT> y) {
<FONT ID="LN">1127</FONT><A NAME="1127"></A>      <FONT ID="SingleLineComment">//this works similar to the inPoly below except that
<FONT ID="LN">1128</FONT><A NAME="1128"></A></FONT>      <FONT ID="SingleLineComment">//the first and last lines are treated as extending infinite 
<FONT ID="LN">1129</FONT><A NAME="1129"></A></FONT>      <FONT ID="SingleLineComment">//in one direction and 
<FONT ID="LN">1130</FONT><A NAME="1130"></A></FONT>      <FONT ID="SingleLineComment">//then infinitly in the x dirction their is a line that will 
<FONT ID="LN">1131</FONT><A NAME="1131"></A></FONT>      <FONT ID="SingleLineComment">//normaly be infinite but
<FONT ID="LN">1132</FONT><A NAME="1132"></A></FONT>      <FONT ID="SingleLineComment">//can be finite in one or both directions
<FONT ID="LN">1133</FONT><A NAME="1133"></A></FONT>      
<FONT ID="LN">1134</FONT><A NAME="1134"></A>      <FONT ID="Int">int</FONT> countx = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1135</FONT><A NAME="1135"></A>      <FONT ID="Double">double</FONT> vecx, vecy;
<FONT ID="LN">1136</FONT><A NAME="1136"></A>      <FONT ID="Double">double</FONT> change;
<FONT ID="LN">1137</FONT><A NAME="1137"></A>      <FONT ID="Double">double</FONT> x1, y1, x2, y2;
<FONT ID="LN">1138</FONT><A NAME="1138"></A>      
<FONT ID="LN">1139</FONT><A NAME="1139"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">1</FONT>; noa &lt; ob.size() - <FONT ID="IntegerLiteral">4</FONT>; noa+= <FONT ID="IntegerLiteral">2</FONT>) {
<FONT ID="LN">1140</FONT><A NAME="1140"></A>    y1 = ((Double)ob.elementAt(noa+<FONT ID="IntegerLiteral">1</FONT>)).doubleValue();
<FONT ID="LN">1141</FONT><A NAME="1141"></A>    y2 = ((Double)ob.elementAt(noa+<FONT ID="IntegerLiteral">3</FONT>)).doubleValue();
<FONT ID="LN">1142</FONT><A NAME="1142"></A>    x1 = ((Double)ob.elementAt(noa)).doubleValue();
<FONT ID="LN">1143</FONT><A NAME="1143"></A>    x2 = ((Double)ob.elementAt(noa+<FONT ID="IntegerLiteral">2</FONT>)).doubleValue();
<FONT ID="LN">1144</FONT><A NAME="1144"></A>    vecy = y2 - y1;
<FONT ID="LN">1145</FONT><A NAME="1145"></A>    vecx = x2 - x1;
<FONT ID="LN">1146</FONT><A NAME="1146"></A>    <FONT ID="If">if</FONT> (noa == <FONT ID="IntegerLiteral">1</FONT> &amp;&amp; noa == ob.size() - <FONT ID="IntegerLiteral">6</FONT>) {
<FONT ID="LN">1147</FONT><A NAME="1147"></A>      <FONT ID="SingleLineComment">//then do special test first and last edge
<FONT ID="LN">1148</FONT><A NAME="1148"></A></FONT>      <FONT ID="If">if</FONT> (vecy != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1149</FONT><A NAME="1149"></A>        change = (y - y1) / vecy;
<FONT ID="LN">1150</FONT><A NAME="1150"></A>        <FONT ID="If">if</FONT> (vecx * change + x1 &gt;= x) {
<FONT ID="LN">1151</FONT><A NAME="1151"></A>          <FONT ID="SingleLineComment">//then intersection
<FONT ID="LN">1152</FONT><A NAME="1152"></A></FONT>          countx++;
<FONT ID="LN">1153</FONT><A NAME="1153"></A>        }
<FONT ID="LN">1154</FONT><A NAME="1154"></A>      }
<FONT ID="LN">1155</FONT><A NAME="1155"></A>    }
<FONT ID="LN">1156</FONT><A NAME="1156"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (noa == <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1157</FONT><A NAME="1157"></A>      <FONT ID="If">if</FONT> ((y &lt; y2 &amp;&amp; vecy &gt; <FONT ID="IntegerLiteral">0</FONT>) || (y &gt; y2 &amp;&amp; vecy &lt; <FONT ID="IntegerLiteral">0</FONT>)) {
<FONT ID="LN">1158</FONT><A NAME="1158"></A>        <FONT ID="SingleLineComment">//now just determine intersection or not
<FONT ID="LN">1159</FONT><A NAME="1159"></A></FONT>        change = (y - y1) / vecy;
<FONT ID="LN">1160</FONT><A NAME="1160"></A>        <FONT ID="If">if</FONT> (vecx * change + x1 &gt;= x) {
<FONT ID="LN">1161</FONT><A NAME="1161"></A>          <FONT ID="SingleLineComment">//then intersection on horiz
<FONT ID="LN">1162</FONT><A NAME="1162"></A></FONT>          countx++;
<FONT ID="LN">1163</FONT><A NAME="1163"></A>        }
<FONT ID="LN">1164</FONT><A NAME="1164"></A>      }
<FONT ID="LN">1165</FONT><A NAME="1165"></A>    }
<FONT ID="LN">1166</FONT><A NAME="1166"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (noa == ob.size() - <FONT ID="IntegerLiteral">6</FONT>) {
<FONT ID="LN">1167</FONT><A NAME="1167"></A>      <FONT ID="SingleLineComment">//then do special test on last edge
<FONT ID="LN">1168</FONT><A NAME="1168"></A></FONT>      <FONT ID="If">if</FONT> ((y &lt;= y1 &amp;&amp; vecy &lt; <FONT ID="IntegerLiteral">0</FONT>) || (y &gt;= y1 &amp;&amp; vecy &gt; <FONT ID="IntegerLiteral">0</FONT>)) {
<FONT ID="LN">1169</FONT><A NAME="1169"></A>        change = (y - y1) / vecy;
<FONT ID="LN">1170</FONT><A NAME="1170"></A>        <FONT ID="If">if</FONT> (vecx * change + x1 &gt;= x) {
<FONT ID="LN">1171</FONT><A NAME="1171"></A>          countx++;
<FONT ID="LN">1172</FONT><A NAME="1172"></A>        }
<FONT ID="LN">1173</FONT><A NAME="1173"></A>      }
<FONT ID="LN">1174</FONT><A NAME="1174"></A>      
<FONT ID="LN">1175</FONT><A NAME="1175"></A>    }
<FONT ID="LN">1176</FONT><A NAME="1176"></A>    <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> ((y1 &lt;= y &amp;&amp; y &lt; y2) || (y2 &lt; y &amp;&amp; y &lt;= y1)) {
<FONT ID="LN">1177</FONT><A NAME="1177"></A>      <FONT ID="SingleLineComment">//then continue tests.
<FONT ID="LN">1178</FONT><A NAME="1178"></A></FONT>      <FONT ID="If">if</FONT> (vecy == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1179</FONT><A NAME="1179"></A>        <FONT ID="SingleLineComment">//then lines are parallel stop tests in 
<FONT ID="LN">1180</FONT><A NAME="1180"></A></FONT>        <FONT ID="SingleLineComment">//ofcourse it should never make it this far
<FONT ID="LN">1181</FONT><A NAME="1181"></A></FONT>      }
<FONT ID="LN">1182</FONT><A NAME="1182"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1183</FONT><A NAME="1183"></A>        change = (y - y1) / vecy;
<FONT ID="LN">1184</FONT><A NAME="1184"></A>        <FONT ID="If">if</FONT> (vecx * change + x1 &gt;= x) {
<FONT ID="LN">1185</FONT><A NAME="1185"></A>          <FONT ID="SingleLineComment">//then intersects on horiz
<FONT ID="LN">1186</FONT><A NAME="1186"></A></FONT>          countx++;
<FONT ID="LN">1187</FONT><A NAME="1187"></A>        }
<FONT ID="LN">1188</FONT><A NAME="1188"></A>      }
<FONT ID="LN">1189</FONT><A NAME="1189"></A>    }
<FONT ID="LN">1190</FONT><A NAME="1190"></A>    
<FONT ID="LN">1191</FONT><A NAME="1191"></A>      }
<FONT ID="LN">1192</FONT><A NAME="1192"></A>      
<FONT ID="LN">1193</FONT><A NAME="1193"></A>      <FONT ID="SingleLineComment">//now check for intersection with the infinity line
<FONT ID="LN">1194</FONT><A NAME="1194"></A></FONT>      y1 = ((Double)ob.elementAt(ob.size() - <FONT ID="IntegerLiteral">2</FONT>)).doubleValue();
<FONT ID="LN">1195</FONT><A NAME="1195"></A>      y2 = ((Double)ob.elementAt(ob.size() - <FONT ID="IntegerLiteral">1</FONT>)).doubleValue();
<FONT ID="LN">1196</FONT><A NAME="1196"></A>      
<FONT ID="LN">1197</FONT><A NAME="1197"></A>      <FONT ID="If">if</FONT> (y1 &gt; y2) {
<FONT ID="LN">1198</FONT><A NAME="1198"></A>    <FONT ID="SingleLineComment">//then normal line
<FONT ID="LN">1199</FONT><A NAME="1199"></A></FONT>    <FONT ID="If">if</FONT> (y1 &gt;= y &amp;&amp; y &gt; y2) {
<FONT ID="LN">1200</FONT><A NAME="1200"></A>      countx++;
<FONT ID="LN">1201</FONT><A NAME="1201"></A>    }
<FONT ID="LN">1202</FONT><A NAME="1202"></A>      }
<FONT ID="LN">1203</FONT><A NAME="1203"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1204</FONT><A NAME="1204"></A>    <FONT ID="SingleLineComment">//then the line segment is inverted
<FONT ID="LN">1205</FONT><A NAME="1205"></A></FONT>    <FONT ID="If">if</FONT> (y1 &gt;= y || y &gt; y2) {
<FONT ID="LN">1206</FONT><A NAME="1206"></A>      countx++;
<FONT ID="LN">1207</FONT><A NAME="1207"></A>    }
<FONT ID="LN">1208</FONT><A NAME="1208"></A>      }
<FONT ID="LN">1209</FONT><A NAME="1209"></A>      
<FONT ID="LN">1210</FONT><A NAME="1210"></A>      <FONT ID="If">if</FONT> ((countx % <FONT ID="IntegerLiteral">2</FONT>) == <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1211</FONT><A NAME="1211"></A>    <FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;
<FONT ID="LN">1212</FONT><A NAME="1212"></A>      }
<FONT ID="LN">1213</FONT><A NAME="1213"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1214</FONT><A NAME="1214"></A>    <FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;
<FONT ID="LN">1215</FONT><A NAME="1215"></A>      }
<FONT ID="LN">1216</FONT><A NAME="1216"></A>    }
<FONT ID="LN">1217</FONT><A NAME="1217"></A>    
<FONT ID="LN">1218</FONT><A NAME="1218"></A>    <FONT ID="FormalComment">/** 
<FONT ID="LN">1219</FONT><A NAME="1219"></A>     * Call this to determine if an instance is in a polygon.
<FONT ID="LN">1220</FONT><A NAME="1220"></A>     * @param ob The polygon.
<FONT ID="LN">1221</FONT><A NAME="1221"></A>     * @param x The value of attribute 1.
<FONT ID="LN">1222</FONT><A NAME="1222"></A>     * @param y The value of attribute 2.
<FONT ID="LN">1223</FONT><A NAME="1223"></A>     * @return True if in polygon, false if not.
<FONT ID="LN">1224</FONT><A NAME="1224"></A>     */</FONT>
<FONT ID="LN">1225</FONT><A NAME="1225"></A>    <FONT ID="Private">private</FONT> <FONT ID="Boolean">boolean</FONT> inPoly(<A HREF="../../../weka/core/FastVector.java.html">FastVector</A> ob, <FONT ID="Double">double</FONT> x, <FONT ID="Double">double</FONT> y) {
<FONT ID="LN">1226</FONT><A NAME="1226"></A>      <FONT ID="Int">int</FONT> count = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1227</FONT><A NAME="1227"></A>      <FONT ID="Double">double</FONT> vecx, vecy;
<FONT ID="LN">1228</FONT><A NAME="1228"></A>      <FONT ID="Double">double</FONT> change;
<FONT ID="LN">1229</FONT><A NAME="1229"></A>      <FONT ID="Double">double</FONT> x1, y1, x2, y2;
<FONT ID="LN">1230</FONT><A NAME="1230"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">1</FONT>; noa &lt; ob.size() - <FONT ID="IntegerLiteral">2</FONT>; noa += <FONT ID="IntegerLiteral">2</FONT>) {
<FONT ID="LN">1231</FONT><A NAME="1231"></A>    y1 = ((Double)ob.elementAt(noa+<FONT ID="IntegerLiteral">1</FONT>)).doubleValue();
<FONT ID="LN">1232</FONT><A NAME="1232"></A>    y2 = ((Double)ob.elementAt(noa+<FONT ID="IntegerLiteral">3</FONT>)).doubleValue();
<FONT ID="LN">1233</FONT><A NAME="1233"></A>    <FONT ID="If">if</FONT> ((y1 &lt;= y &amp;&amp; y &lt; y2) || (y2 &lt; y &amp;&amp; y &lt;= y1)) {
<FONT ID="LN">1234</FONT><A NAME="1234"></A>      <FONT ID="SingleLineComment">//then continue tests.
<FONT ID="LN">1235</FONT><A NAME="1235"></A></FONT>      vecy = y2 - y1;
<FONT ID="LN">1236</FONT><A NAME="1236"></A>      <FONT ID="If">if</FONT> (vecy == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1237</FONT><A NAME="1237"></A>        <FONT ID="SingleLineComment">//then lines are parallel stop tests for this line
<FONT ID="LN">1238</FONT><A NAME="1238"></A></FONT>      }
<FONT ID="LN">1239</FONT><A NAME="1239"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1240</FONT><A NAME="1240"></A>        x1 = ((Double)ob.elementAt(noa)).doubleValue();
<FONT ID="LN">1241</FONT><A NAME="1241"></A>        x2 = ((Double)ob.elementAt(noa+<FONT ID="IntegerLiteral">2</FONT>)).doubleValue();
<FONT ID="LN">1242</FONT><A NAME="1242"></A>        vecx = x2 - x1;
<FONT ID="LN">1243</FONT><A NAME="1243"></A>        change = (y - y1) / vecy;
<FONT ID="LN">1244</FONT><A NAME="1244"></A>        <FONT ID="If">if</FONT> (vecx * change + x1 &gt;= x) {
<FONT ID="LN">1245</FONT><A NAME="1245"></A>          <FONT ID="SingleLineComment">//then add to count as an intersected line
<FONT ID="LN">1246</FONT><A NAME="1246"></A></FONT>          count++;
<FONT ID="LN">1247</FONT><A NAME="1247"></A>        }
<FONT ID="LN">1248</FONT><A NAME="1248"></A>      }
<FONT ID="LN">1249</FONT><A NAME="1249"></A>      
<FONT ID="LN">1250</FONT><A NAME="1250"></A>    }
<FONT ID="LN">1251</FONT><A NAME="1251"></A>      }
<FONT ID="LN">1252</FONT><A NAME="1252"></A>      <FONT ID="If">if</FONT> ((count % <FONT ID="IntegerLiteral">2</FONT>) == <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1253</FONT><A NAME="1253"></A>    <FONT ID="SingleLineComment">//then lies inside polygon
<FONT ID="LN">1254</FONT><A NAME="1254"></A></FONT>    <FONT ID="SingleLineComment">//System.out.println("in");
<FONT ID="LN">1255</FONT><A NAME="1255"></A></FONT>    <FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;
<FONT ID="LN">1256</FONT><A NAME="1256"></A>      }
<FONT ID="LN">1257</FONT><A NAME="1257"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1258</FONT><A NAME="1258"></A>    <FONT ID="SingleLineComment">//System.out.println("out");
<FONT ID="LN">1259</FONT><A NAME="1259"></A></FONT>    <FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;
<FONT ID="LN">1260</FONT><A NAME="1260"></A>      }
<FONT ID="LN">1261</FONT><A NAME="1261"></A>      <FONT ID="SingleLineComment">//System.out.println("WHAT?!?!?!?!!?!??!?!");
<FONT ID="LN">1262</FONT><A NAME="1262"></A></FONT>      <FONT ID="SingleLineComment">//return false;
<FONT ID="LN">1263</FONT><A NAME="1263"></A></FONT>    }
<FONT ID="LN">1264</FONT><A NAME="1264"></A>
<FONT ID="LN">1265</FONT><A NAME="1265"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1266</FONT><A NAME="1266"></A>     * Goes through the tree structure recursively and returns the node that
<FONT ID="LN">1267</FONT><A NAME="1267"></A>     * has the id.
<FONT ID="LN">1268</FONT><A NAME="1268"></A>     * @param id The node to find.
<FONT ID="LN">1269</FONT><A NAME="1269"></A>     * @return The node that matches the id.
<FONT ID="LN">1270</FONT><A NAME="1270"></A>     */</FONT>
<FONT ID="LN">1271</FONT><A NAME="1271"></A>    <FONT ID="Public">public</FONT> TreeClass getNode(String id) {
<FONT ID="LN">1272</FONT><A NAME="1272"></A>      <FONT ID="SingleLineComment">//returns the treeclass object with the particular ident
<FONT ID="LN">1273</FONT><A NAME="1273"></A></FONT>      <FONT ID="If">if</FONT> (id.equals(m_identity)) {
<FONT ID="LN">1274</FONT><A NAME="1274"></A>    <FONT ID="Return">return</FONT> <FONT ID="This">this</FONT>;
<FONT ID="LN">1275</FONT><A NAME="1275"></A>      }
<FONT ID="LN">1276</FONT><A NAME="1276"></A>      
<FONT ID="LN">1277</FONT><A NAME="1277"></A>      <FONT ID="If">if</FONT> (m_set1 != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1278</FONT><A NAME="1278"></A>    TreeClass tmp = m_set1.getNode(id);
<FONT ID="LN">1279</FONT><A NAME="1279"></A>    <FONT ID="If">if</FONT> (tmp != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1280</FONT><A NAME="1280"></A>      <FONT ID="Return">return</FONT> tmp;
<FONT ID="LN">1281</FONT><A NAME="1281"></A>    }
<FONT ID="LN">1282</FONT><A NAME="1282"></A>      }
<FONT ID="LN">1283</FONT><A NAME="1283"></A>      <FONT ID="If">if</FONT> (m_set2 != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1284</FONT><A NAME="1284"></A>    TreeClass tmp = m_set2.getNode(id);
<FONT ID="LN">1285</FONT><A NAME="1285"></A>    <FONT ID="If">if</FONT> (tmp != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1286</FONT><A NAME="1286"></A>      <FONT ID="Return">return</FONT> tmp;
<FONT ID="LN">1287</FONT><A NAME="1287"></A>    }
<FONT ID="LN">1288</FONT><A NAME="1288"></A>      }
<FONT ID="LN">1289</FONT><A NAME="1289"></A>      <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;
<FONT ID="LN">1290</FONT><A NAME="1290"></A>    }
<FONT ID="LN">1291</FONT><A NAME="1291"></A>    
<FONT ID="LN">1292</FONT><A NAME="1292"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1293</FONT><A NAME="1293"></A>     * Returns a string containing a bit of information about this node, in 
<FONT ID="LN">1294</FONT><A NAME="1294"></A>     * alternate form.
<FONT ID="LN">1295</FONT><A NAME="1295"></A>     * @param s The string buffer to fill.
<FONT ID="LN">1296</FONT><A NAME="1296"></A>     * @throws Exception if can't create label.
<FONT ID="LN">1297</FONT><A NAME="1297"></A>     */</FONT>
<FONT ID="LN">1298</FONT><A NAME="1298"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> getAlternateLabel(StringBuffer s) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1299</FONT><A NAME="1299"></A>      
<FONT ID="LN">1300</FONT><A NAME="1300"></A>      <FONT ID="SingleLineComment">//StringBuffer s = new StringBuffer();
<FONT ID="LN">1301</FONT><A NAME="1301"></A></FONT>      
<FONT ID="LN">1302</FONT><A NAME="1302"></A>      <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> tmp = (<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">1303</FONT><A NAME="1303"></A>      
<FONT ID="LN">1304</FONT><A NAME="1304"></A>      <FONT ID="If">if</FONT> (m_classObject != <FONT ID="Null">null</FONT> &amp;&amp; m_training.classAttribute().isNominal()) {
<FONT ID="LN">1305</FONT><A NAME="1305"></A>    s.append(<FONT ID="StringLiteral">"Classified by "</FONT> + m_classObject.getClass().getName());
<FONT ID="LN">1306</FONT><A NAME="1306"></A>      }
<FONT ID="LN">1307</FONT><A NAME="1307"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (((Double)tmp.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() == LEAF) {
<FONT ID="LN">1308</FONT><A NAME="1308"></A>    <FONT ID="If">if</FONT> (m_training.classAttribute().isNominal()) {
<FONT ID="LN">1309</FONT><A NAME="1309"></A>      <FONT ID="Double">double</FONT> high = -<FONT ID="IntegerLiteral">1000</FONT>;
<FONT ID="LN">1310</FONT><A NAME="1310"></A>      <FONT ID="Int">int</FONT> num = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1311</FONT><A NAME="1311"></A>      <FONT ID="Double">double</FONT> count = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">1312</FONT><A NAME="1312"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.classAttribute().numValues();
<FONT ID="LN">1313</FONT><A NAME="1313"></A>           noa++) {
<FONT ID="LN">1314</FONT><A NAME="1314"></A>        <FONT ID="If">if</FONT> (((Double)tmp.elementAt(noa + <FONT ID="IntegerLiteral">1</FONT>)).doubleValue() &gt; high) {
<FONT ID="LN">1315</FONT><A NAME="1315"></A>          high = ((Double)tmp.elementAt(noa + <FONT ID="IntegerLiteral">1</FONT>)).doubleValue();
<FONT ID="LN">1316</FONT><A NAME="1316"></A>          num  = noa + <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">1317</FONT><A NAME="1317"></A>        }
<FONT ID="LN">1318</FONT><A NAME="1318"></A>        count += ((Double)tmp.elementAt(noa + <FONT ID="IntegerLiteral">1</FONT>)).doubleValue();
<FONT ID="LN">1319</FONT><A NAME="1319"></A>      }
<FONT ID="LN">1320</FONT><A NAME="1320"></A>      s.append(m_training.classAttribute().value(num-<FONT ID="IntegerLiteral">1</FONT>) + <FONT ID="StringLiteral">"("</FONT> + count);
<FONT ID="LN">1321</FONT><A NAME="1321"></A>      <FONT ID="If">if</FONT> (count &gt; high) {
<FONT ID="LN">1322</FONT><A NAME="1322"></A>        s.append(<FONT ID="StringLiteral">"/"</FONT> + (count - high));
<FONT ID="LN">1323</FONT><A NAME="1323"></A>      }
<FONT ID="LN">1324</FONT><A NAME="1324"></A>      s.append(<FONT ID="StringLiteral">")"</FONT>);
<FONT ID="LN">1325</FONT><A NAME="1325"></A>    }
<FONT ID="LN">1326</FONT><A NAME="1326"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">1327</FONT><A NAME="1327"></A>      <FONT ID="If">if</FONT> (m_classObject == <FONT ID="Null">null</FONT> 
<FONT ID="LN">1328</FONT><A NAME="1328"></A>          &amp;&amp; ((Double)tmp.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() == LEAF) {
<FONT ID="LN">1329</FONT><A NAME="1329"></A>        setLinear();
<FONT ID="LN">1330</FONT><A NAME="1330"></A>      }
<FONT ID="LN">1331</FONT><A NAME="1331"></A>      s.append(<FONT ID="StringLiteral">"Standard Deviation = "</FONT> 
<FONT ID="LN">1332</FONT><A NAME="1332"></A>           + Utils.doubleToString(((Double)tmp.elementAt(<FONT ID="IntegerLiteral">1</FONT>))
<FONT ID="LN">1333</FONT><A NAME="1333"></A>                      .doubleValue(), <FONT ID="IntegerLiteral">6</FONT>));
<FONT ID="LN">1334</FONT><A NAME="1334"></A>      
<FONT ID="LN">1335</FONT><A NAME="1335"></A>    }
<FONT ID="LN">1336</FONT><A NAME="1336"></A>      }
<FONT ID="LN">1337</FONT><A NAME="1337"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1338</FONT><A NAME="1338"></A>    s.append(<FONT ID="StringLiteral">"Split on "</FONT>);
<FONT ID="LN">1339</FONT><A NAME="1339"></A>    s.append(m_training.attribute(m_attrib1).name() + <FONT ID="StringLiteral">" AND "</FONT>);
<FONT ID="LN">1340</FONT><A NAME="1340"></A>    s.append(m_training.attribute(m_attrib2).name());
<FONT ID="LN">1341</FONT><A NAME="1341"></A>    
<FONT ID="LN">1342</FONT><A NAME="1342"></A>    
<FONT ID="LN">1343</FONT><A NAME="1343"></A>      }
<FONT ID="LN">1344</FONT><A NAME="1344"></A>      
<FONT ID="LN">1345</FONT><A NAME="1345"></A>      <FONT ID="SingleLineComment">//return s.toString();
<FONT ID="LN">1346</FONT><A NAME="1346"></A></FONT>    }
<FONT ID="LN">1347</FONT><A NAME="1347"></A>    
<FONT ID="LN">1348</FONT><A NAME="1348"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1349</FONT><A NAME="1349"></A>     * Returns a string containing a bit of information about this node.
<FONT ID="LN">1350</FONT><A NAME="1350"></A>     * @param s The stringbuffer to fill.
<FONT ID="LN">1351</FONT><A NAME="1351"></A>     * @throws Exception if can't create label.
<FONT ID="LN">1352</FONT><A NAME="1352"></A>     */</FONT>
<FONT ID="LN">1353</FONT><A NAME="1353"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> getLabel(StringBuffer s) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1354</FONT><A NAME="1354"></A>      <FONT ID="SingleLineComment">//for now just return identity
<FONT ID="LN">1355</FONT><A NAME="1355"></A></FONT>      <FONT ID="SingleLineComment">//StringBuffer s = new StringBuffer();
<FONT ID="LN">1356</FONT><A NAME="1356"></A></FONT>      
<FONT ID="LN">1357</FONT><A NAME="1357"></A>      <A HREF="../../../weka/core/FastVector.java.html">FastVector</A> tmp = (<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">1358</FONT><A NAME="1358"></A>      
<FONT ID="LN">1359</FONT><A NAME="1359"></A>      
<FONT ID="LN">1360</FONT><A NAME="1360"></A>      <FONT ID="If">if</FONT> (m_classObject != <FONT ID="Null">null</FONT> &amp;&amp; m_training.classAttribute().isNominal()) {
<FONT ID="LN">1361</FONT><A NAME="1361"></A>    s.append(<FONT ID="StringLiteral">"Classified by\\n"</FONT> + m_classObject.getClass().getName());
<FONT ID="LN">1362</FONT><A NAME="1362"></A>      }
<FONT ID="LN">1363</FONT><A NAME="1363"></A>      <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (((Double)tmp.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() == LEAF) {
<FONT ID="LN">1364</FONT><A NAME="1364"></A>    
<FONT ID="LN">1365</FONT><A NAME="1365"></A>    <FONT ID="If">if</FONT> (m_training.classAttribute().isNominal()) {
<FONT ID="LN">1366</FONT><A NAME="1366"></A>      <FONT ID="Boolean">boolean</FONT> first = <FONT ID="True">true</FONT>;
<FONT ID="LN">1367</FONT><A NAME="1367"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; m_training.classAttribute().numValues(); 
<FONT ID="LN">1368</FONT><A NAME="1368"></A>           noa++) {
<FONT ID="LN">1369</FONT><A NAME="1369"></A>        <FONT ID="If">if</FONT> (((Double)tmp.elementAt(noa + <FONT ID="IntegerLiteral">1</FONT>)).doubleValue() &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">1370</FONT><A NAME="1370"></A>          <FONT ID="If">if</FONT> (first)
<FONT ID="LN">1371</FONT><A NAME="1371"></A>        {
<FONT ID="LN">1372</FONT><A NAME="1372"></A>          s.append(<FONT ID="StringLiteral">"["</FONT> + m_training.classAttribute().value(noa));
<FONT ID="LN">1373</FONT><A NAME="1373"></A>          first = <FONT ID="False">false</FONT>;
<FONT ID="LN">1374</FONT><A NAME="1374"></A>        }
<FONT ID="LN">1375</FONT><A NAME="1375"></A>          <FONT ID="Else">else</FONT>
<FONT ID="LN">1376</FONT><A NAME="1376"></A>        {
<FONT ID="LN">1377</FONT><A NAME="1377"></A>          s.append(<FONT ID="StringLiteral">"\\n["</FONT> + m_training.classAttribute().value(noa));
<FONT ID="LN">1378</FONT><A NAME="1378"></A>        }
<FONT ID="LN">1379</FONT><A NAME="1379"></A>          s.append(<FONT ID="StringLiteral">", "</FONT> + ((Double)tmp.elementAt(noa + <FONT ID="IntegerLiteral">1</FONT>)).doubleValue() 
<FONT ID="LN">1380</FONT><A NAME="1380"></A>               + <FONT ID="StringLiteral">"]"</FONT>);
<FONT ID="LN">1381</FONT><A NAME="1381"></A>        }      
<FONT ID="LN">1382</FONT><A NAME="1382"></A>      }
<FONT ID="LN">1383</FONT><A NAME="1383"></A>    }
<FONT ID="LN">1384</FONT><A NAME="1384"></A>    <FONT ID="Else">else</FONT> {
<FONT ID="LN">1385</FONT><A NAME="1385"></A>      <FONT ID="If">if</FONT> (m_classObject == <FONT ID="Null">null</FONT> 
<FONT ID="LN">1386</FONT><A NAME="1386"></A>          &amp;&amp; ((Double)tmp.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue() == LEAF) {
<FONT ID="LN">1387</FONT><A NAME="1387"></A>        setLinear();
<FONT ID="LN">1388</FONT><A NAME="1388"></A>      }
<FONT ID="LN">1389</FONT><A NAME="1389"></A>      s.append(<FONT ID="StringLiteral">"Standard Deviation = "</FONT> 
<FONT ID="LN">1390</FONT><A NAME="1390"></A>           + Utils.doubleToString(((Double)tmp.elementAt(<FONT ID="IntegerLiteral">1</FONT>))
<FONT ID="LN">1391</FONT><A NAME="1391"></A>           .doubleValue(), <FONT ID="IntegerLiteral">6</FONT>));
<FONT ID="LN">1392</FONT><A NAME="1392"></A>    }
<FONT ID="LN">1393</FONT><A NAME="1393"></A>      }
<FONT ID="LN">1394</FONT><A NAME="1394"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1395</FONT><A NAME="1395"></A>    s.append(<FONT ID="StringLiteral">"Split on\\n"</FONT>);
<FONT ID="LN">1396</FONT><A NAME="1396"></A>    s.append(m_training.attribute(m_attrib1).name() + <FONT ID="StringLiteral">" AND\\n"</FONT>);
<FONT ID="LN">1397</FONT><A NAME="1397"></A>    s.append(m_training.attribute(m_attrib2).name());
<FONT ID="LN">1398</FONT><A NAME="1398"></A>      }
<FONT ID="LN">1399</FONT><A NAME="1399"></A>      <FONT ID="SingleLineComment">//return s.toString();
<FONT ID="LN">1400</FONT><A NAME="1400"></A></FONT>    }
<FONT ID="LN">1401</FONT><A NAME="1401"></A>
<FONT ID="LN">1402</FONT><A NAME="1402"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1403</FONT><A NAME="1403"></A>     * Converts The tree structure to a dotty string.
<FONT ID="LN">1404</FONT><A NAME="1404"></A>     * @param t The stringbuffer to fill with the dotty structure.
<FONT ID="LN">1405</FONT><A NAME="1405"></A>     * @throws Exception if can't convert structure to dotty.
<FONT ID="LN">1406</FONT><A NAME="1406"></A>     */</FONT>
<FONT ID="LN">1407</FONT><A NAME="1407"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> toDotty(StringBuffer t) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1408</FONT><A NAME="1408"></A>      <FONT ID="SingleLineComment">//this will recursively create all the dotty info for the structure
<FONT ID="LN">1409</FONT><A NAME="1409"></A></FONT>      t.append(m_identity + <FONT ID="StringLiteral">" [label=\""</FONT>);
<FONT ID="LN">1410</FONT><A NAME="1410"></A>      getLabel(t);
<FONT ID="LN">1411</FONT><A NAME="1411"></A>      t.append(<FONT ID="StringLiteral">"\" "</FONT>);
<FONT ID="LN">1412</FONT><A NAME="1412"></A>      <FONT ID="SingleLineComment">//System.out.println(((Double)((FastVector)ranges.elementAt(0)).
<FONT ID="LN">1413</FONT><A NAME="1413"></A></FONT>      <FONT ID="SingleLineComment">//elementAt(0)).intValue() + " A num ");
<FONT ID="LN">1414</FONT><A NAME="1414"></A></FONT>      <FONT ID="If">if</FONT> (((Double)((<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue()
<FONT ID="LN">1415</FONT><A NAME="1415"></A>      == LEAF) {
<FONT ID="LN">1416</FONT><A NAME="1416"></A>    t.append(<FONT ID="StringLiteral">"shape=box "</FONT>);
<FONT ID="LN">1417</FONT><A NAME="1417"></A>      }
<FONT ID="LN">1418</FONT><A NAME="1418"></A>      <FONT ID="Else">else</FONT> {
<FONT ID="LN">1419</FONT><A NAME="1419"></A>    t.append(<FONT ID="StringLiteral">"shape=ellipse "</FONT>);
<FONT ID="LN">1420</FONT><A NAME="1420"></A>      }
<FONT ID="LN">1421</FONT><A NAME="1421"></A>      t.append(<FONT ID="StringLiteral">"style=filled color=gray95]\n"</FONT>);
<FONT ID="LN">1422</FONT><A NAME="1422"></A>      
<FONT ID="LN">1423</FONT><A NAME="1423"></A>      <FONT ID="If">if</FONT> (m_set1 != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1424</FONT><A NAME="1424"></A>    t.append(m_identity + <FONT ID="StringLiteral">"-&gt;"</FONT>);
<FONT ID="LN">1425</FONT><A NAME="1425"></A>    t.append(m_set1.m_identity + <FONT ID="StringLiteral">" [label=\"True\"]\n"</FONT>);<FONT ID="SingleLineComment">//the edge for 
<FONT ID="LN">1426</FONT><A NAME="1426"></A></FONT>    <FONT ID="SingleLineComment">//the left
<FONT ID="LN">1427</FONT><A NAME="1427"></A></FONT>    m_set1.toDotty(t);
<FONT ID="LN">1428</FONT><A NAME="1428"></A>      }
<FONT ID="LN">1429</FONT><A NAME="1429"></A>      <FONT ID="If">if</FONT> (m_set2 != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1430</FONT><A NAME="1430"></A>    t.append(m_identity + <FONT ID="StringLiteral">"-&gt;"</FONT>);
<FONT ID="LN">1431</FONT><A NAME="1431"></A>    t.append(m_set2.m_identity + <FONT ID="StringLiteral">" [label=\"False\"]\n"</FONT>); <FONT ID="SingleLineComment">//the edge for 
<FONT ID="LN">1432</FONT><A NAME="1432"></A></FONT>    <FONT ID="SingleLineComment">//the 
<FONT ID="LN">1433</FONT><A NAME="1433"></A></FONT>    <FONT ID="SingleLineComment">//right
<FONT ID="LN">1434</FONT><A NAME="1434"></A></FONT>    m_set2.toDotty(t);
<FONT ID="LN">1435</FONT><A NAME="1435"></A>      }
<FONT ID="LN">1436</FONT><A NAME="1436"></A>      
<FONT ID="LN">1437</FONT><A NAME="1437"></A>    }
<FONT ID="LN">1438</FONT><A NAME="1438"></A>    
<FONT ID="LN">1439</FONT><A NAME="1439"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1440</FONT><A NAME="1440"></A>     * This will append the class Object in the tree to the string buffer.
<FONT ID="LN">1441</FONT><A NAME="1441"></A>     * @param t The stringbuffer.
<FONT ID="LN">1442</FONT><A NAME="1442"></A>     */</FONT>
<FONT ID="LN">1443</FONT><A NAME="1443"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> objectStrings(StringBuffer t) {
<FONT ID="LN">1444</FONT><A NAME="1444"></A>      
<FONT ID="LN">1445</FONT><A NAME="1445"></A>      <FONT ID="If">if</FONT> (m_classObject != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1446</FONT><A NAME="1446"></A>    t.append(<FONT ID="StringLiteral">"\n\n"</FONT> + m_identity +<FONT ID="StringLiteral">" {\n"</FONT> + m_classObject.toString()+<FONT ID="StringLiteral">"\n}"</FONT>);
<FONT ID="LN">1447</FONT><A NAME="1447"></A>      }
<FONT ID="LN">1448</FONT><A NAME="1448"></A>      <FONT ID="If">if</FONT> (m_set1 != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1449</FONT><A NAME="1449"></A>    m_set1.objectStrings(t);
<FONT ID="LN">1450</FONT><A NAME="1450"></A>      }
<FONT ID="LN">1451</FONT><A NAME="1451"></A>      <FONT ID="If">if</FONT> (m_set2 != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1452</FONT><A NAME="1452"></A>    m_set2.objectStrings(t);
<FONT ID="LN">1453</FONT><A NAME="1453"></A>      }
<FONT ID="LN">1454</FONT><A NAME="1454"></A>    }
<FONT ID="LN">1455</FONT><A NAME="1455"></A>    
<FONT ID="LN">1456</FONT><A NAME="1456"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1457</FONT><A NAME="1457"></A>     * Converts the tree structure to a string. for people to read.
<FONT ID="LN">1458</FONT><A NAME="1458"></A>     * @param l How deep this node is in the tree.
<FONT ID="LN">1459</FONT><A NAME="1459"></A>     * @param t The stringbuffer to fill with the string.
<FONT ID="LN">1460</FONT><A NAME="1460"></A>     * @throws Exception if can't convert th string.
<FONT ID="LN">1461</FONT><A NAME="1461"></A>     */</FONT>
<FONT ID="LN">1462</FONT><A NAME="1462"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> toString(<FONT ID="Int">int</FONT> l, StringBuffer t) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1463</FONT><A NAME="1463"></A>      
<FONT ID="LN">1464</FONT><A NAME="1464"></A>      <FONT ID="If">if</FONT> (((Double)((<A HREF="../../../weka/core/FastVector.java.html">FastVector</A>)m_ranges.elementAt(<FONT ID="IntegerLiteral">0</FONT>)).elementAt(<FONT ID="IntegerLiteral">0</FONT>)).intValue()
<FONT ID="LN">1465</FONT><A NAME="1465"></A>      == LEAF) {
<FONT ID="LN">1466</FONT><A NAME="1466"></A>    t.append(<FONT ID="StringLiteral">": "</FONT> + m_identity + <FONT ID="StringLiteral">" "</FONT>);
<FONT ID="LN">1467</FONT><A NAME="1467"></A>    getAlternateLabel(t);
<FONT ID="LN">1468</FONT><A NAME="1468"></A>      }
<FONT ID="LN">1469</FONT><A NAME="1469"></A>      <FONT ID="If">if</FONT> (m_set1 != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1470</FONT><A NAME="1470"></A>    t.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">1471</FONT><A NAME="1471"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; l; noa++) {
<FONT ID="LN">1472</FONT><A NAME="1472"></A>      t.append(<FONT ID="StringLiteral">"|   "</FONT>);
<FONT ID="LN">1473</FONT><A NAME="1473"></A>      
<FONT ID="LN">1474</FONT><A NAME="1474"></A>    }
<FONT ID="LN">1475</FONT><A NAME="1475"></A>    getAlternateLabel(t);
<FONT ID="LN">1476</FONT><A NAME="1476"></A>    t.append(<FONT ID="StringLiteral">" (In Set)"</FONT>);
<FONT ID="LN">1477</FONT><A NAME="1477"></A>    m_set1.toString(l+<FONT ID="IntegerLiteral">1</FONT>, t);
<FONT ID="LN">1478</FONT><A NAME="1478"></A>      }
<FONT ID="LN">1479</FONT><A NAME="1479"></A>      <FONT ID="If">if</FONT> (m_set2 != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1480</FONT><A NAME="1480"></A>    t.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">1481</FONT><A NAME="1481"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> noa = <FONT ID="IntegerLiteral">0</FONT>; noa &lt; l; noa++) {
<FONT ID="LN">1482</FONT><A NAME="1482"></A>      t.append(<FONT ID="StringLiteral">"|   "</FONT>);
<FONT ID="LN">1483</FONT><A NAME="1483"></A>    }
<FONT ID="LN">1484</FONT><A NAME="1484"></A>    getAlternateLabel(t);
<FONT ID="LN">1485</FONT><A NAME="1485"></A>    t.append(<FONT ID="StringLiteral">" (Not in Set)"</FONT>);
<FONT ID="LN">1486</FONT><A NAME="1486"></A>    m_set2.toString(l+<FONT ID="IntegerLiteral">1</FONT>, t);
<FONT ID="LN">1487</FONT><A NAME="1487"></A>      }
<FONT ID="LN">1488</FONT><A NAME="1488"></A>      <FONT ID="SingleLineComment">//return t.toString();
<FONT ID="LN">1489</FONT><A NAME="1489"></A></FONT>    }
<FONT ID="LN">1490</FONT><A NAME="1490"></A>    
<FONT ID="LN">1491</FONT><A NAME="1491"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1492</FONT><A NAME="1492"></A>     * Returns the revision string.
<FONT ID="LN">1493</FONT><A NAME="1493"></A>     * 
<FONT ID="LN">1494</FONT><A NAME="1494"></A>     * @return      the revision
<FONT ID="LN">1495</FONT><A NAME="1495"></A>     */</FONT>
<FONT ID="LN">1496</FONT><A NAME="1496"></A>    <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">1497</FONT><A NAME="1497"></A>      <FONT ID="Return">return</FONT> RevisionUtils.extract(<FONT ID="StringLiteral">"$Revision: 5987 $"</FONT>);
<FONT ID="LN">1498</FONT><A NAME="1498"></A>    }
<FONT ID="LN">1499</FONT><A NAME="1499"></A>  }
<FONT ID="LN">1500</FONT><A NAME="1500"></A>  
<FONT ID="LN">1501</FONT><A NAME="1501"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1502</FONT><A NAME="1502"></A>   * Returns the revision string.
<FONT ID="LN">1503</FONT><A NAME="1503"></A>   * 
<FONT ID="LN">1504</FONT><A NAME="1504"></A>   * @return        the revision
<FONT ID="LN">1505</FONT><A NAME="1505"></A>   */</FONT>
<FONT ID="LN">1506</FONT><A NAME="1506"></A>  <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">1507</FONT><A NAME="1507"></A>    <FONT ID="Return">return</FONT> RevisionUtils.extract(<FONT ID="StringLiteral">"$Revision: 5987 $"</FONT>);
<FONT ID="LN">1508</FONT><A NAME="1508"></A>  }
<FONT ID="LN">1509</FONT><A NAME="1509"></A>}
<FONT ID="LN">1510</FONT><A NAME="1510"></A></pre><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">UserClassifier.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>

</BODY>
</HTML>