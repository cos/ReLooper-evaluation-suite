<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD>
<LINK REL=STYLESHEET TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
<META NAME="GENERATOR" CONTENT="Java2HTML Version 1.5">
<TITLE>weka.associations.FPGrowth (Java2HTML)</TITLE>
</HEAD>
<BODY><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">FPGrowth.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>
<pre ID="Classes">
<FONT ID="LN">1   </FONT><A NAME="1"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">2   </FONT><A NAME="2"></A> *    This program is free software; you can redistribute it and/or modify
<FONT ID="LN">3   </FONT><A NAME="3"></A> *    it under the terms of the GNU General Public License as published by
<FONT ID="LN">4   </FONT><A NAME="4"></A> *    the Free Software Foundation; either version 2 of the License, or
<FONT ID="LN">5   </FONT><A NAME="5"></A> *    (at your option) any later version.
<FONT ID="LN">6   </FONT><A NAME="6"></A> *
<FONT ID="LN">7   </FONT><A NAME="7"></A> *    This program is distributed in the hope that it will be useful,
<FONT ID="LN">8   </FONT><A NAME="8"></A> *    but WITHOUT ANY WARRANTY; without even the implied warranty of
<FONT ID="LN">9   </FONT><A NAME="9"></A> *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
<FONT ID="LN">10  </FONT><A NAME="10"></A> *    GNU General Public License for more details.
<FONT ID="LN">11  </FONT><A NAME="11"></A> *
<FONT ID="LN">12  </FONT><A NAME="12"></A> *    You should have received a copy of the GNU General Public License
<FONT ID="LN">13  </FONT><A NAME="13"></A> *    along with this program; if not, write to the Free Software
<FONT ID="LN">14  </FONT><A NAME="14"></A> *    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
<FONT ID="LN">15  </FONT><A NAME="15"></A> */</FONT>
<FONT ID="LN">16  </FONT><A NAME="16"></A>
<FONT ID="LN">17  </FONT><A NAME="17"></A><FONT ID="MultiLineComment">/*
<FONT ID="LN">18  </FONT><A NAME="18"></A> *    FPGrowth.java
<FONT ID="LN">19  </FONT><A NAME="19"></A> *    Copyright (C) 2009 University of Waikato, Hamilton, New Zealand
<FONT ID="LN">20  </FONT><A NAME="20"></A> *
<FONT ID="LN">21  </FONT><A NAME="21"></A> */</FONT>
<FONT ID="LN">22  </FONT><A NAME="22"></A>
<FONT ID="LN">23  </FONT><A NAME="23"></A><FONT ID="Package">package</FONT> weka.associations;
<FONT ID="LN">24  </FONT><A NAME="24"></A>
<FONT ID="LN">25  </FONT><A NAME="25"></A><FONT ID="Import">import</FONT> java.io.Serializable;
<FONT ID="LN">26  </FONT><A NAME="26"></A><FONT ID="Import">import</FONT> java.util.ArrayList;
<FONT ID="LN">27  </FONT><A NAME="27"></A><FONT ID="Import">import</FONT> java.util.Collection;
<FONT ID="LN">28  </FONT><A NAME="28"></A><FONT ID="Import">import</FONT> java.util.Collections;
<FONT ID="LN">29  </FONT><A NAME="29"></A><FONT ID="Import">import</FONT> java.util.Comparator;
<FONT ID="LN">30  </FONT><A NAME="30"></A><FONT ID="Import">import</FONT> java.util.Enumeration;
<FONT ID="LN">31  </FONT><A NAME="31"></A><FONT ID="Import">import</FONT> java.util.HashMap;
<FONT ID="LN">32  </FONT><A NAME="32"></A><FONT ID="Import">import</FONT> java.util.Iterator;
<FONT ID="LN">33  </FONT><A NAME="33"></A><FONT ID="Import">import</FONT> java.util.LinkedList;
<FONT ID="LN">34  </FONT><A NAME="34"></A><FONT ID="Import">import</FONT> java.util.List;
<FONT ID="LN">35  </FONT><A NAME="35"></A><FONT ID="Import">import</FONT> java.util.Map;
<FONT ID="LN">36  </FONT><A NAME="36"></A><FONT ID="Import">import</FONT> java.util.Set;
<FONT ID="LN">37  </FONT><A NAME="37"></A><FONT ID="Import">import</FONT> java.util.Vector;
<FONT ID="LN">38  </FONT><A NAME="38"></A>
<FONT ID="LN">39  </FONT><A NAME="39"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Attribute.java.html">weka.core.Attribute</A>;
<FONT ID="LN">40  </FONT><A NAME="40"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Capabilities.java.html">weka.core.Capabilities</A>;
<FONT ID="LN">41  </FONT><A NAME="41"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Instance.java.html">weka.core.Instance</A>;
<FONT ID="LN">42  </FONT><A NAME="42"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Instances.java.html">weka.core.Instances</A>;
<FONT ID="LN">43  </FONT><A NAME="43"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Option.java.html">weka.core.Option</A>;
<FONT ID="LN">44  </FONT><A NAME="44"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/OptionHandler.java.html">weka.core.OptionHandler</A>;
<FONT ID="LN">45  </FONT><A NAME="45"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/RevisionUtils.java.html">weka.core.RevisionUtils</A>;
<FONT ID="LN">46  </FONT><A NAME="46"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/SelectedTag.java.html">weka.core.SelectedTag</A>;
<FONT ID="LN">47  </FONT><A NAME="47"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/SparseInstance.java.html">weka.core.SparseInstance</A>;
<FONT ID="LN">48  </FONT><A NAME="48"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Tag.java.html">weka.core.Tag</A>;
<FONT ID="LN">49  </FONT><A NAME="49"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation</A>;
<FONT ID="LN">50  </FONT><A NAME="50"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/TechnicalInformationHandler.java.html">weka.core.TechnicalInformationHandler</A>;
<FONT ID="LN">51  </FONT><A NAME="51"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Utils.java.html">weka.core.Utils</A>;
<FONT ID="LN">52  </FONT><A NAME="52"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/Capabilities.java.html">weka.core.Capabilities.Capability</A>;
<FONT ID="LN">53  </FONT><A NAME="53"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation.Field</A>;
<FONT ID="LN">54  </FONT><A NAME="54"></A><FONT ID="Import">import</FONT> <A HREF="../../weka/core/TechnicalInformation.java.html">weka.core.TechnicalInformation.Type</A>;
<FONT ID="LN">55  </FONT><A NAME="55"></A>
<FONT ID="LN">56  </FONT><A NAME="56"></A><FONT ID="FormalComment">/**
<FONT ID="LN">57  </FONT><A NAME="57"></A> &lt;!-- globalinfo-start --&gt;
<FONT ID="LN">58  </FONT><A NAME="58"></A> * Class implementing the FP-growth algorithm for finding large item sets without candidate generation. Iteratively reduces the minimum support until it finds the required number of rules with the given minimum metric. For more information see:&lt;br/&gt;
<FONT ID="LN">59  </FONT><A NAME="59"></A> * &lt;br/&gt;
<FONT ID="LN">60  </FONT><A NAME="60"></A> * J. Han, J.Pei, Y. Yin: Mining frequent patterns without candidate generation. In: Proceedings of the 2000 ACM-SIGMID International Conference on Management of Data, 1-12, 2000.
<FONT ID="LN">61  </FONT><A NAME="61"></A> * &lt;p/&gt;
<FONT ID="LN">62  </FONT><A NAME="62"></A> &lt;!-- globalinfo-end --&gt;
<FONT ID="LN">63  </FONT><A NAME="63"></A> * 
<FONT ID="LN">64  </FONT><A NAME="64"></A> &lt;!-- technical-bibtex-start --&gt;
<FONT ID="LN">65  </FONT><A NAME="65"></A> * BibTeX:
<FONT ID="LN">66  </FONT><A NAME="66"></A> * &lt;pre&gt;
<FONT ID="LN">67  </FONT><A NAME="67"></A> * &amp;#64;inproceedings{Han2000,
<FONT ID="LN">68  </FONT><A NAME="68"></A> *    author = {J. Han and J.Pei and Y. Yin},
<FONT ID="LN">69  </FONT><A NAME="69"></A> *    booktitle = {Proceedings of the 2000 ACM-SIGMID International Conference on Management of Data},
<FONT ID="LN">70  </FONT><A NAME="70"></A> *    pages = {1-12},
<FONT ID="LN">71  </FONT><A NAME="71"></A> *    title = {Mining frequent patterns without candidate generation},
<FONT ID="LN">72  </FONT><A NAME="72"></A> *    year = {2000}
<FONT ID="LN">73  </FONT><A NAME="73"></A> * }
<FONT ID="LN">74  </FONT><A NAME="74"></A> * &lt;/pre&gt;
<FONT ID="LN">75  </FONT><A NAME="75"></A> * &lt;p/&gt;
<FONT ID="LN">76  </FONT><A NAME="76"></A> &lt;!-- technical-bibtex-end --&gt;
<FONT ID="LN">77  </FONT><A NAME="77"></A> *
<FONT ID="LN">78  </FONT><A NAME="78"></A> &lt;!-- options-start --&gt;
<FONT ID="LN">79  </FONT><A NAME="79"></A> * Valid options are: &lt;p/&gt;
<FONT ID="LN">80  </FONT><A NAME="80"></A> * 
<FONT ID="LN">81  </FONT><A NAME="81"></A> * &lt;pre&gt; -P &amp;lt;attribute index of positive value&amp;gt;
<FONT ID="LN">82  </FONT><A NAME="82"></A> *  Set the index of the attribute value to consider as 'positive'
<FONT ID="LN">83  </FONT><A NAME="83"></A> *  for binary attributes in normal dense instances. Index 2 is always
<FONT ID="LN">84  </FONT><A NAME="84"></A> *  used for sparse instances. (default = 2)&lt;/pre&gt;
<FONT ID="LN">85  </FONT><A NAME="85"></A> * 
<FONT ID="LN">86  </FONT><A NAME="86"></A> * &lt;pre&gt; -I &amp;lt;max items&amp;gt;
<FONT ID="LN">87  </FONT><A NAME="87"></A> *  The maximum number of items to include in large items sets (and rules). (default = -1, i.e. no limit.)&lt;/pre&gt;
<FONT ID="LN">88  </FONT><A NAME="88"></A> * 
<FONT ID="LN">89  </FONT><A NAME="89"></A> * &lt;pre&gt; -N &amp;lt;require number of rules&amp;gt;
<FONT ID="LN">90  </FONT><A NAME="90"></A> *  The required number of rules. (default = 10)&lt;/pre&gt;
<FONT ID="LN">91  </FONT><A NAME="91"></A> * 
<FONT ID="LN">92  </FONT><A NAME="92"></A> * &lt;pre&gt; -T &amp;lt;0=confidence | 1=lift | 2=leverage | 3=Conviction&amp;gt;
<FONT ID="LN">93  </FONT><A NAME="93"></A> *  The metric by which to rank rules. (default = confidence)&lt;/pre&gt;
<FONT ID="LN">94  </FONT><A NAME="94"></A> * 
<FONT ID="LN">95  </FONT><A NAME="95"></A> * &lt;pre&gt; -C &amp;lt;minimum metric score of a rule&amp;gt;
<FONT ID="LN">96  </FONT><A NAME="96"></A> *  The minimum metric score of a rule. (default = 0.9)&lt;/pre&gt;
<FONT ID="LN">97  </FONT><A NAME="97"></A> * 
<FONT ID="LN">98  </FONT><A NAME="98"></A> * &lt;pre&gt; -U &amp;lt;upper bound for minimum support&amp;gt;
<FONT ID="LN">99  </FONT><A NAME="99"></A> *  Upper bound for minimum support. (default = 1.0)&lt;/pre&gt;
<FONT ID="LN">100 </FONT><A NAME="100"></A> * 
<FONT ID="LN">101 </FONT><A NAME="101"></A> * &lt;pre&gt; -M &amp;lt;lower bound for minimum support&amp;gt;
<FONT ID="LN">102 </FONT><A NAME="102"></A> *  The lower bound for the minimum support. (default = 0.1)&lt;/pre&gt;
<FONT ID="LN">103 </FONT><A NAME="103"></A> * 
<FONT ID="LN">104 </FONT><A NAME="104"></A> * &lt;pre&gt; -D &amp;lt;delta for minimum support&amp;gt;
<FONT ID="LN">105 </FONT><A NAME="105"></A> *  The delta by which the minimum support is decreased in
<FONT ID="LN">106 </FONT><A NAME="106"></A> *  each iteration. (default = 0.05)&lt;/pre&gt;
<FONT ID="LN">107 </FONT><A NAME="107"></A> * 
<FONT ID="LN">108 </FONT><A NAME="108"></A> * &lt;pre&gt; -S
<FONT ID="LN">109 </FONT><A NAME="109"></A> *  Find all rules that meet the lower bound on
<FONT ID="LN">110 </FONT><A NAME="110"></A> *  minimum support and the minimum metric constraint.
<FONT ID="LN">111 </FONT><A NAME="111"></A> *  Turning this mode on will disable the iterative support reduction
<FONT ID="LN">112 </FONT><A NAME="112"></A> *  procedure to find the specified number of rules.&lt;/pre&gt;
<FONT ID="LN">113 </FONT><A NAME="113"></A> * 
<FONT ID="LN">114 </FONT><A NAME="114"></A> &lt;!-- options-end --&gt;
<FONT ID="LN">115 </FONT><A NAME="115"></A> *
<FONT ID="LN">116 </FONT><A NAME="116"></A> * @author Mark Hall (mhall{[at]}pentaho{[dot]}com)
<FONT ID="LN">117 </FONT><A NAME="117"></A> * @version $Revision: 6158 $
<FONT ID="LN">118 </FONT><A NAME="118"></A> */</FONT>
<FONT ID="LN">119 </FONT><A NAME="119"></A><FONT ID="Public">public</FONT> <FONT ID="Class">class</FONT> FPGrowth <FONT ID="Extends">extends</FONT> <A HREF="../../weka/associations/AbstractAssociator.java.html">AbstractAssociator</A> 
<FONT ID="LN">120 </FONT><A NAME="120"></A>  <FONT ID="Implements">implements</FONT> <A HREF="../../weka/core/OptionHandler.java.html">OptionHandler</A>, <A HREF="../../weka/core/TechnicalInformationHandler.java.html">TechnicalInformationHandler</A> {
<FONT ID="LN">121 </FONT><A NAME="121"></A>  
<FONT ID="LN">122 </FONT><A NAME="122"></A>  <FONT ID="FormalComment">/** For serialization */</FONT>
<FONT ID="LN">123 </FONT><A NAME="123"></A>  <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">3620717108603442911L</FONT>;
<FONT ID="LN">124 </FONT><A NAME="124"></A>
<FONT ID="LN">125 </FONT><A NAME="125"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">126 </FONT><A NAME="126"></A>   * Inner class that handles a single binary item
<FONT ID="LN">127 </FONT><A NAME="127"></A>   */</FONT>
<FONT ID="LN">128 </FONT><A NAME="128"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> BinaryItem <FONT ID="Implements">implements</FONT> Serializable, Comparable&lt;BinaryItem&gt; {
<FONT ID="LN">129 </FONT><A NAME="129"></A>    
<FONT ID="LN">130 </FONT><A NAME="130"></A>    <FONT ID="FormalComment">/** For serialization */</FONT>
<FONT ID="LN">131 </FONT><A NAME="131"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = -<FONT ID="IntegerLiteral">3372941834914147669L</FONT>;
<FONT ID="LN">132 </FONT><A NAME="132"></A>    
<FONT ID="LN">133 </FONT><A NAME="133"></A>    <FONT ID="FormalComment">/** The frequency of the item */</FONT>
<FONT ID="LN">134 </FONT><A NAME="134"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_frequency;
<FONT ID="LN">135 </FONT><A NAME="135"></A>    
<FONT ID="LN">136 </FONT><A NAME="136"></A>    <FONT ID="FormalComment">/** The attribute that the item corresponds to */</FONT>
<FONT ID="LN">137 </FONT><A NAME="137"></A>    <FONT ID="Protected">protected</FONT> <A HREF="../../weka/core/Attribute.java.html">Attribute</A> m_attribute;
<FONT ID="LN">138 </FONT><A NAME="138"></A>    
<FONT ID="LN">139 </FONT><A NAME="139"></A>    <FONT ID="FormalComment">/** The index of the value considered to be positive */</FONT>
<FONT ID="LN">140 </FONT><A NAME="140"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_valueIndex;
<FONT ID="LN">141 </FONT><A NAME="141"></A>    
<FONT ID="LN">142 </FONT><A NAME="142"></A>    <FONT ID="Public">public</FONT> BinaryItem(<A HREF="../../weka/core/Attribute.java.html">Attribute</A> att, <FONT ID="Int">int</FONT> valueIndex) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">143 </FONT><A NAME="143"></A>      <FONT ID="If">if</FONT> (att.isNumeric() || (att.isNominal() &amp;&amp; att.numValues() &gt; <FONT ID="IntegerLiteral">2</FONT>)) {
<FONT ID="LN">144 </FONT><A NAME="144"></A>        <FONT ID="Throw">throw</FONT> <FONT ID="New">new</FONT> Exception(<FONT ID="StringLiteral">"BinaryItem must be constructed using a nominal attribute"</FONT> +
<FONT ID="LN">145 </FONT><A NAME="145"></A>                <FONT ID="StringLiteral">" with at most 2 values!"</FONT>);
<FONT ID="LN">146 </FONT><A NAME="146"></A>      }
<FONT ID="LN">147 </FONT><A NAME="147"></A>      m_attribute = att;
<FONT ID="LN">148 </FONT><A NAME="148"></A>      <FONT ID="If">if</FONT> (m_attribute.numValues() == <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">149 </FONT><A NAME="149"></A>        m_valueIndex = <FONT ID="IntegerLiteral">0</FONT>; <FONT ID="SingleLineComment">// unary attribute (? used to indicate absence from a basket)
<FONT ID="LN">150 </FONT><A NAME="150"></A></FONT>      } <FONT ID="Else">else</FONT> {
<FONT ID="LN">151 </FONT><A NAME="151"></A>        m_valueIndex = valueIndex;
<FONT ID="LN">152 </FONT><A NAME="152"></A>      }
<FONT ID="LN">153 </FONT><A NAME="153"></A>    }
<FONT ID="LN">154 </FONT><A NAME="154"></A>    
<FONT ID="LN">155 </FONT><A NAME="155"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">156 </FONT><A NAME="156"></A>     * Increase the frequency of this item.
<FONT ID="LN">157 </FONT><A NAME="157"></A>     * 
<FONT ID="LN">158 </FONT><A NAME="158"></A>     * @param f the amount to increase the frequency by.
<FONT ID="LN">159 </FONT><A NAME="159"></A>     */</FONT>
<FONT ID="LN">160 </FONT><A NAME="160"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> increaseFrequency(<FONT ID="Int">int</FONT> f) {
<FONT ID="LN">161 </FONT><A NAME="161"></A>      m_frequency += f;
<FONT ID="LN">162 </FONT><A NAME="162"></A>    }
<FONT ID="LN">163 </FONT><A NAME="163"></A>    
<FONT ID="LN">164 </FONT><A NAME="164"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">165 </FONT><A NAME="165"></A>     * Decrease the frequency of this item.
<FONT ID="LN">166 </FONT><A NAME="166"></A>     * 
<FONT ID="LN">167 </FONT><A NAME="167"></A>     * @param f the amount by which to decrease the frequency.
<FONT ID="LN">168 </FONT><A NAME="168"></A>     */</FONT>
<FONT ID="LN">169 </FONT><A NAME="169"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> decreaseFrequency(<FONT ID="Int">int</FONT> f) {
<FONT ID="LN">170 </FONT><A NAME="170"></A>      m_frequency -= f;
<FONT ID="LN">171 </FONT><A NAME="171"></A>    }
<FONT ID="LN">172 </FONT><A NAME="172"></A>    
<FONT ID="LN">173 </FONT><A NAME="173"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">174 </FONT><A NAME="174"></A>     * Increment the frequency of this item.
<FONT ID="LN">175 </FONT><A NAME="175"></A>     */</FONT>
<FONT ID="LN">176 </FONT><A NAME="176"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> increaseFrequency() {
<FONT ID="LN">177 </FONT><A NAME="177"></A>      m_frequency++;
<FONT ID="LN">178 </FONT><A NAME="178"></A>    }
<FONT ID="LN">179 </FONT><A NAME="179"></A>    
<FONT ID="LN">180 </FONT><A NAME="180"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">181 </FONT><A NAME="181"></A>     * Decrement the frequency of this item.
<FONT ID="LN">182 </FONT><A NAME="182"></A>     */</FONT>
<FONT ID="LN">183 </FONT><A NAME="183"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> decreaseFrequency() {
<FONT ID="LN">184 </FONT><A NAME="184"></A>      m_frequency--;
<FONT ID="LN">185 </FONT><A NAME="185"></A>    }
<FONT ID="LN">186 </FONT><A NAME="186"></A>    
<FONT ID="LN">187 </FONT><A NAME="187"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">188 </FONT><A NAME="188"></A>     * Get the frequency of this item.
<FONT ID="LN">189 </FONT><A NAME="189"></A>     * 
<FONT ID="LN">190 </FONT><A NAME="190"></A>     * @return the frequency.
<FONT ID="LN">191 </FONT><A NAME="191"></A>     */</FONT>
<FONT ID="LN">192 </FONT><A NAME="192"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getFrequency() {
<FONT ID="LN">193 </FONT><A NAME="193"></A>      <FONT ID="Return">return</FONT> m_frequency;
<FONT ID="LN">194 </FONT><A NAME="194"></A>    }
<FONT ID="LN">195 </FONT><A NAME="195"></A>    
<FONT ID="LN">196 </FONT><A NAME="196"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">197 </FONT><A NAME="197"></A>     * Get the attribute that this item corresponds to.
<FONT ID="LN">198 </FONT><A NAME="198"></A>     * 
<FONT ID="LN">199 </FONT><A NAME="199"></A>     * @return the corresponding attribute.
<FONT ID="LN">200 </FONT><A NAME="200"></A>     */</FONT>
<FONT ID="LN">201 </FONT><A NAME="201"></A>    <FONT ID="Public">public</FONT> <A HREF="../../weka/core/Attribute.java.html">Attribute</A> getAttribute() {
<FONT ID="LN">202 </FONT><A NAME="202"></A>      <FONT ID="Return">return</FONT> m_attribute;
<FONT ID="LN">203 </FONT><A NAME="203"></A>    }
<FONT ID="LN">204 </FONT><A NAME="204"></A>    
<FONT ID="LN">205 </FONT><A NAME="205"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">206 </FONT><A NAME="206"></A>     * Get the value index for this item.
<FONT ID="LN">207 </FONT><A NAME="207"></A>     * 
<FONT ID="LN">208 </FONT><A NAME="208"></A>     * @return the value index.
<FONT ID="LN">209 </FONT><A NAME="209"></A>     */</FONT>
<FONT ID="LN">210 </FONT><A NAME="210"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getValueIndex() {
<FONT ID="LN">211 </FONT><A NAME="211"></A>      <FONT ID="Return">return</FONT> m_valueIndex;
<FONT ID="LN">212 </FONT><A NAME="212"></A>    }
<FONT ID="LN">213 </FONT><A NAME="213"></A>    
<FONT ID="LN">214 </FONT><A NAME="214"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">215 </FONT><A NAME="215"></A>     * A string representation of this item.
<FONT ID="LN">216 </FONT><A NAME="216"></A>     * 
<FONT ID="LN">217 </FONT><A NAME="217"></A>     * @return a string representation of this item.
<FONT ID="LN">218 </FONT><A NAME="218"></A>     */</FONT>
<FONT ID="LN">219 </FONT><A NAME="219"></A>    <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">220 </FONT><A NAME="220"></A>      <FONT ID="Return">return</FONT> toString(<FONT ID="False">false</FONT>);
<FONT ID="LN">221 </FONT><A NAME="221"></A>    }
<FONT ID="LN">222 </FONT><A NAME="222"></A>    
<FONT ID="LN">223 </FONT><A NAME="223"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">224 </FONT><A NAME="224"></A>     * A string representation of this item.
<FONT ID="LN">225 </FONT><A NAME="225"></A>     * 
<FONT ID="LN">226 </FONT><A NAME="226"></A>     * @param freq true if the frequency should be included.
<FONT ID="LN">227 </FONT><A NAME="227"></A>     * @return a string representation of this item. 
<FONT ID="LN">228 </FONT><A NAME="228"></A>     */</FONT>
<FONT ID="LN">229 </FONT><A NAME="229"></A>    <FONT ID="Public">public</FONT> String toString(<FONT ID="Boolean">boolean</FONT> freq) {
<FONT ID="LN">230 </FONT><A NAME="230"></A>      String result = m_attribute.name() + <FONT ID="StringLiteral">"="</FONT> + m_attribute.value(m_valueIndex);
<FONT ID="LN">231 </FONT><A NAME="231"></A>      <FONT ID="If">if</FONT> (freq) {
<FONT ID="LN">232 </FONT><A NAME="232"></A>        result += <FONT ID="StringLiteral">":"</FONT> + m_frequency;
<FONT ID="LN">233 </FONT><A NAME="233"></A>      }
<FONT ID="LN">234 </FONT><A NAME="234"></A>      <FONT ID="Return">return</FONT> result;
<FONT ID="LN">235 </FONT><A NAME="235"></A>    }
<FONT ID="LN">236 </FONT><A NAME="236"></A>    
<FONT ID="LN">237 </FONT><A NAME="237"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">238 </FONT><A NAME="238"></A>     * Ensures that items will be sorted in descending order of frequency.
<FONT ID="LN">239 </FONT><A NAME="239"></A>     * Ties are ordered by attribute name.
<FONT ID="LN">240 </FONT><A NAME="240"></A>     * 
<FONT ID="LN">241 </FONT><A NAME="241"></A>     * @param comp the BinaryItem to compare against.
<FONT ID="LN">242 </FONT><A NAME="242"></A>     */</FONT>
<FONT ID="LN">243 </FONT><A NAME="243"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> compareTo(BinaryItem comp) {
<FONT ID="LN">244 </FONT><A NAME="244"></A>      <FONT ID="If">if</FONT> (m_frequency == comp.getFrequency()) {
<FONT ID="LN">245 </FONT><A NAME="245"></A>        <FONT ID="SingleLineComment">// sort by name
<FONT ID="LN">246 </FONT><A NAME="246"></A></FONT>        <FONT ID="Return">return</FONT> -<FONT ID="IntegerLiteral">1</FONT> * m_attribute.name().compareTo(comp.getAttribute().name());
<FONT ID="LN">247 </FONT><A NAME="247"></A>      }
<FONT ID="LN">248 </FONT><A NAME="248"></A>      <FONT ID="If">if</FONT> (comp.getFrequency() &lt; m_frequency) {
<FONT ID="LN">249 </FONT><A NAME="249"></A>        <FONT ID="Return">return</FONT> -<FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">250 </FONT><A NAME="250"></A>      }
<FONT ID="LN">251 </FONT><A NAME="251"></A>      <FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">252 </FONT><A NAME="252"></A>    }
<FONT ID="LN">253 </FONT><A NAME="253"></A>    
<FONT ID="LN">254 </FONT><A NAME="254"></A>    <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> equals(Object compareTo) {
<FONT ID="LN">255 </FONT><A NAME="255"></A>      <FONT ID="If">if</FONT> (!(compareTo <FONT ID="InstanceOf">instanceof</FONT> BinaryItem)) {
<FONT ID="LN">256 </FONT><A NAME="256"></A>        <FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;
<FONT ID="LN">257 </FONT><A NAME="257"></A>      }
<FONT ID="LN">258 </FONT><A NAME="258"></A>      
<FONT ID="LN">259 </FONT><A NAME="259"></A>      BinaryItem b = (BinaryItem)compareTo;
<FONT ID="LN">260 </FONT><A NAME="260"></A>      <FONT ID="If">if</FONT> (m_attribute.equals(b.getAttribute()) &amp;&amp; m_frequency == b.getFrequency()) {
<FONT ID="LN">261 </FONT><A NAME="261"></A>        <FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;
<FONT ID="LN">262 </FONT><A NAME="262"></A>      }
<FONT ID="LN">263 </FONT><A NAME="263"></A>      
<FONT ID="LN">264 </FONT><A NAME="264"></A>      <FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;
<FONT ID="LN">265 </FONT><A NAME="265"></A>    }
<FONT ID="LN">266 </FONT><A NAME="266"></A>    
<FONT ID="LN">267 </FONT><A NAME="267"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> hashCode() {
<FONT ID="LN">268 </FONT><A NAME="268"></A>      <FONT ID="Return">return</FONT> (m_attribute.name().hashCode() ^ 
<FONT ID="LN">269 </FONT><A NAME="269"></A>          m_attribute.numValues()) * m_frequency;
<FONT ID="LN">270 </FONT><A NAME="270"></A>    }
<FONT ID="LN">271 </FONT><A NAME="271"></A>  }
<FONT ID="LN">272 </FONT><A NAME="272"></A>  
<FONT ID="LN">273 </FONT><A NAME="273"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">274 </FONT><A NAME="274"></A>   * Class for maintaining a frequent item set.
<FONT ID="LN">275 </FONT><A NAME="275"></A>   */</FONT>
<FONT ID="LN">276 </FONT><A NAME="276"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> FrequentBinaryItemSet 
<FONT ID="LN">277 </FONT><A NAME="277"></A>    <FONT ID="Implements">implements</FONT> Serializable, Cloneable {
<FONT ID="LN">278 </FONT><A NAME="278"></A>    
<FONT ID="LN">279 </FONT><A NAME="279"></A>    <FONT ID="FormalComment">/** For serialization */</FONT>
<FONT ID="LN">280 </FONT><A NAME="280"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = -<FONT ID="IntegerLiteral">6543815873565829448L</FONT>;
<FONT ID="LN">281 </FONT><A NAME="281"></A>
<FONT ID="LN">282 </FONT><A NAME="282"></A>    <FONT ID="FormalComment">/** The list of items in the item set */</FONT>
<FONT ID="LN">283 </FONT><A NAME="283"></A>    <FONT ID="Protected">protected</FONT> ArrayList&lt;BinaryItem&gt; m_items = <FONT ID="New">new</FONT> ArrayList&lt;BinaryItem&gt;();
<FONT ID="LN">284 </FONT><A NAME="284"></A>    
<FONT ID="LN">285 </FONT><A NAME="285"></A>    <FONT ID="FormalComment">/** the support of this item set **/</FONT>
<FONT ID="LN">286 </FONT><A NAME="286"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_support;
<FONT ID="LN">287 </FONT><A NAME="287"></A>    
<FONT ID="LN">288 </FONT><A NAME="288"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">289 </FONT><A NAME="289"></A>     * Constructor
<FONT ID="LN">290 </FONT><A NAME="290"></A>     * 
<FONT ID="LN">291 </FONT><A NAME="291"></A>     * @param items the items that make up the frequent item set.
<FONT ID="LN">292 </FONT><A NAME="292"></A>     * @param support the support of this item set.
<FONT ID="LN">293 </FONT><A NAME="293"></A>     */</FONT>
<FONT ID="LN">294 </FONT><A NAME="294"></A>    <FONT ID="Public">public</FONT> FrequentBinaryItemSet(ArrayList&lt;BinaryItem&gt; items, <FONT ID="Int">int</FONT> support) {
<FONT ID="LN">295 </FONT><A NAME="295"></A>      m_items = items;
<FONT ID="LN">296 </FONT><A NAME="296"></A>      m_support = support;
<FONT ID="LN">297 </FONT><A NAME="297"></A>      Collections.sort(m_items);
<FONT ID="LN">298 </FONT><A NAME="298"></A>    }
<FONT ID="LN">299 </FONT><A NAME="299"></A>    
<FONT ID="LN">300 </FONT><A NAME="300"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">301 </FONT><A NAME="301"></A>     * Add an item to this item set.
<FONT ID="LN">302 </FONT><A NAME="302"></A>     * 
<FONT ID="LN">303 </FONT><A NAME="303"></A>     * @param i the item to add.
<FONT ID="LN">304 </FONT><A NAME="304"></A>     */</FONT>
<FONT ID="LN">305 </FONT><A NAME="305"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> addItem(BinaryItem i) {
<FONT ID="LN">306 </FONT><A NAME="306"></A>      m_items.add(i);
<FONT ID="LN">307 </FONT><A NAME="307"></A>      Collections.sort(m_items);
<FONT ID="LN">308 </FONT><A NAME="308"></A>    }
<FONT ID="LN">309 </FONT><A NAME="309"></A>    
<FONT ID="LN">310 </FONT><A NAME="310"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">311 </FONT><A NAME="311"></A>     * Set the support for this item set.
<FONT ID="LN">312 </FONT><A NAME="312"></A>     * 
<FONT ID="LN">313 </FONT><A NAME="313"></A>     * @param support the support for this item set.
<FONT ID="LN">314 </FONT><A NAME="314"></A>     */</FONT>
<FONT ID="LN">315 </FONT><A NAME="315"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setSupport(<FONT ID="Int">int</FONT> support) {
<FONT ID="LN">316 </FONT><A NAME="316"></A>      m_support = support;
<FONT ID="LN">317 </FONT><A NAME="317"></A>    }
<FONT ID="LN">318 </FONT><A NAME="318"></A>    
<FONT ID="LN">319 </FONT><A NAME="319"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">320 </FONT><A NAME="320"></A>     * Get the support of this item set.
<FONT ID="LN">321 </FONT><A NAME="321"></A>     * 
<FONT ID="LN">322 </FONT><A NAME="322"></A>     * @return the support of this item set.
<FONT ID="LN">323 </FONT><A NAME="323"></A>     */</FONT>
<FONT ID="LN">324 </FONT><A NAME="324"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getSupport() {
<FONT ID="LN">325 </FONT><A NAME="325"></A>      <FONT ID="Return">return</FONT> m_support;
<FONT ID="LN">326 </FONT><A NAME="326"></A>    }
<FONT ID="LN">327 </FONT><A NAME="327"></A>    
<FONT ID="LN">328 </FONT><A NAME="328"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">329 </FONT><A NAME="329"></A>     * Get the items in this item set.
<FONT ID="LN">330 </FONT><A NAME="330"></A>     * 
<FONT ID="LN">331 </FONT><A NAME="331"></A>     * @return the items in this item set.
<FONT ID="LN">332 </FONT><A NAME="332"></A>     */</FONT>
<FONT ID="LN">333 </FONT><A NAME="333"></A>    <FONT ID="Public">public</FONT> Collection&lt;BinaryItem&gt; getItems() {
<FONT ID="LN">334 </FONT><A NAME="334"></A>      <FONT ID="Return">return</FONT> m_items;
<FONT ID="LN">335 </FONT><A NAME="335"></A>    }
<FONT ID="LN">336 </FONT><A NAME="336"></A>    
<FONT ID="LN">337 </FONT><A NAME="337"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">338 </FONT><A NAME="338"></A>     * Get a particular item from this item set.
<FONT ID="LN">339 </FONT><A NAME="339"></A>     * 
<FONT ID="LN">340 </FONT><A NAME="340"></A>     * @param index the index of the item to get.
<FONT ID="LN">341 </FONT><A NAME="341"></A>     * @return the item.
<FONT ID="LN">342 </FONT><A NAME="342"></A>     */</FONT>
<FONT ID="LN">343 </FONT><A NAME="343"></A>    <FONT ID="Public">public</FONT> BinaryItem getItem(<FONT ID="Int">int</FONT> index) {
<FONT ID="LN">344 </FONT><A NAME="344"></A>      <FONT ID="Return">return</FONT> m_items.get(index);
<FONT ID="LN">345 </FONT><A NAME="345"></A>    }
<FONT ID="LN">346 </FONT><A NAME="346"></A>    
<FONT ID="LN">347 </FONT><A NAME="347"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">348 </FONT><A NAME="348"></A>     * Get the number of items in this item set.
<FONT ID="LN">349 </FONT><A NAME="349"></A>     * 
<FONT ID="LN">350 </FONT><A NAME="350"></A>     * @return the number of items in this item set.
<FONT ID="LN">351 </FONT><A NAME="351"></A>     */</FONT>
<FONT ID="LN">352 </FONT><A NAME="352"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> numberOfItems() {
<FONT ID="LN">353 </FONT><A NAME="353"></A>      <FONT ID="Return">return</FONT> m_items.size();
<FONT ID="LN">354 </FONT><A NAME="354"></A>    }
<FONT ID="LN">355 </FONT><A NAME="355"></A>    
<FONT ID="LN">356 </FONT><A NAME="356"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">357 </FONT><A NAME="357"></A>     * Get a textual description of this item set.
<FONT ID="LN">358 </FONT><A NAME="358"></A>     * 
<FONT ID="LN">359 </FONT><A NAME="359"></A>     * @return a textual description of this item set.
<FONT ID="LN">360 </FONT><A NAME="360"></A>     */</FONT>
<FONT ID="LN">361 </FONT><A NAME="361"></A>    <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">362 </FONT><A NAME="362"></A>      StringBuffer buff = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">363 </FONT><A NAME="363"></A>      Iterator&lt;BinaryItem&gt; i = m_items.iterator();
<FONT ID="LN">364 </FONT><A NAME="364"></A>      
<FONT ID="LN">365 </FONT><A NAME="365"></A>      <FONT ID="While">while</FONT> (i.hasNext()) {
<FONT ID="LN">366 </FONT><A NAME="366"></A>        buff.append(i.next().toString() + <FONT ID="StringLiteral">" "</FONT>);        
<FONT ID="LN">367 </FONT><A NAME="367"></A>      }
<FONT ID="LN">368 </FONT><A NAME="368"></A>      buff.append(<FONT ID="StringLiteral">": "</FONT> + m_support);
<FONT ID="LN">369 </FONT><A NAME="369"></A>      <FONT ID="Return">return</FONT> buff.toString();
<FONT ID="LN">370 </FONT><A NAME="370"></A>    }
<FONT ID="LN">371 </FONT><A NAME="371"></A>    
<FONT ID="LN">372 </FONT><A NAME="372"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">373 </FONT><A NAME="373"></A>     * Make a copy of this item set.
<FONT ID="LN">374 </FONT><A NAME="374"></A>     * 
<FONT ID="LN">375 </FONT><A NAME="375"></A>     * @return a copy of this item set.
<FONT ID="LN">376 </FONT><A NAME="376"></A>     */</FONT>
<FONT ID="LN">377 </FONT><A NAME="377"></A>    <FONT ID="Public">public</FONT> Object clone() {
<FONT ID="LN">378 </FONT><A NAME="378"></A>      ArrayList&lt;BinaryItem&gt; items = <FONT ID="New">new</FONT> ArrayList&lt;BinaryItem&gt;(m_items);
<FONT ID="LN">379 </FONT><A NAME="379"></A>      <FONT ID="Return">return</FONT> <FONT ID="New">new</FONT> FrequentBinaryItemSet(items, m_support);
<FONT ID="LN">380 </FONT><A NAME="380"></A>    }
<FONT ID="LN">381 </FONT><A NAME="381"></A>  }
<FONT ID="LN">382 </FONT><A NAME="382"></A>  
<FONT ID="LN">383 </FONT><A NAME="383"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">384 </FONT><A NAME="384"></A>   * Maintains a list of frequent item sets.
<FONT ID="LN">385 </FONT><A NAME="385"></A>   */</FONT>
<FONT ID="LN">386 </FONT><A NAME="386"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> FrequentItemSets <FONT ID="Implements">implements</FONT> Serializable {
<FONT ID="LN">387 </FONT><A NAME="387"></A>    
<FONT ID="LN">388 </FONT><A NAME="388"></A>    <FONT ID="FormalComment">/** For serialization */</FONT>
<FONT ID="LN">389 </FONT><A NAME="389"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">4173606872363973588L</FONT>;
<FONT ID="LN">390 </FONT><A NAME="390"></A>
<FONT ID="LN">391 </FONT><A NAME="391"></A>    <FONT ID="FormalComment">/** The list of frequent item sets */</FONT>
<FONT ID="LN">392 </FONT><A NAME="392"></A>    <FONT ID="Protected">protected</FONT> ArrayList&lt;FrequentBinaryItemSet&gt; m_sets = 
<FONT ID="LN">393 </FONT><A NAME="393"></A>      <FONT ID="New">new</FONT> ArrayList&lt;FrequentBinaryItemSet&gt;();
<FONT ID="LN">394 </FONT><A NAME="394"></A>    
<FONT ID="LN">395 </FONT><A NAME="395"></A>    <FONT ID="FormalComment">/** The total number of transactions in the data */</FONT>
<FONT ID="LN">396 </FONT><A NAME="396"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_numberOfTransactions;
<FONT ID="LN">397 </FONT><A NAME="397"></A>    
<FONT ID="LN">398 </FONT><A NAME="398"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">399 </FONT><A NAME="399"></A>     * Constructor.
<FONT ID="LN">400 </FONT><A NAME="400"></A>     * 
<FONT ID="LN">401 </FONT><A NAME="401"></A>     * @param numTransactions the total number of transactions in the data.
<FONT ID="LN">402 </FONT><A NAME="402"></A>     */</FONT>
<FONT ID="LN">403 </FONT><A NAME="403"></A>    <FONT ID="Public">public</FONT> FrequentItemSets(<FONT ID="Int">int</FONT> numTransactions) {
<FONT ID="LN">404 </FONT><A NAME="404"></A>      m_numberOfTransactions = numTransactions;
<FONT ID="LN">405 </FONT><A NAME="405"></A>    }
<FONT ID="LN">406 </FONT><A NAME="406"></A>    
<FONT ID="LN">407 </FONT><A NAME="407"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">408 </FONT><A NAME="408"></A>     * Get an item set.
<FONT ID="LN">409 </FONT><A NAME="409"></A>     * 
<FONT ID="LN">410 </FONT><A NAME="410"></A>     * @param index the index of the item set to get.
<FONT ID="LN">411 </FONT><A NAME="411"></A>     * @return an item set.
<FONT ID="LN">412 </FONT><A NAME="412"></A>     */</FONT>
<FONT ID="LN">413 </FONT><A NAME="413"></A>    <FONT ID="Public">public</FONT> FrequentBinaryItemSet getItemSet(<FONT ID="Int">int</FONT> index) {
<FONT ID="LN">414 </FONT><A NAME="414"></A>      <FONT ID="Return">return</FONT> m_sets.get(index);
<FONT ID="LN">415 </FONT><A NAME="415"></A>    }
<FONT ID="LN">416 </FONT><A NAME="416"></A>    
<FONT ID="LN">417 </FONT><A NAME="417"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">418 </FONT><A NAME="418"></A>     * Get an iterator that can be used to access all the item sets.
<FONT ID="LN">419 </FONT><A NAME="419"></A>     * 
<FONT ID="LN">420 </FONT><A NAME="420"></A>     * @return an iterator.
<FONT ID="LN">421 </FONT><A NAME="421"></A>     */</FONT>
<FONT ID="LN">422 </FONT><A NAME="422"></A>    <FONT ID="Public">public</FONT> Iterator&lt;FrequentBinaryItemSet&gt; iterator() {
<FONT ID="LN">423 </FONT><A NAME="423"></A>      <FONT ID="Return">return</FONT> m_sets.iterator();
<FONT ID="LN">424 </FONT><A NAME="424"></A>    }
<FONT ID="LN">425 </FONT><A NAME="425"></A>    
<FONT ID="LN">426 </FONT><A NAME="426"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">427 </FONT><A NAME="427"></A>     * Get the total number of transactions in the data that the item
<FONT ID="LN">428 </FONT><A NAME="428"></A>     * sets were derived from.
<FONT ID="LN">429 </FONT><A NAME="429"></A>     * 
<FONT ID="LN">430 </FONT><A NAME="430"></A>     * @return the total number of transactions in the data.
<FONT ID="LN">431 </FONT><A NAME="431"></A>     */</FONT>
<FONT ID="LN">432 </FONT><A NAME="432"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getNumberOfTransactions() {
<FONT ID="LN">433 </FONT><A NAME="433"></A>      <FONT ID="Return">return</FONT> m_numberOfTransactions;
<FONT ID="LN">434 </FONT><A NAME="434"></A>    }
<FONT ID="LN">435 </FONT><A NAME="435"></A>    
<FONT ID="LN">436 </FONT><A NAME="436"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">437 </FONT><A NAME="437"></A>     * Add an item set.
<FONT ID="LN">438 </FONT><A NAME="438"></A>     * 
<FONT ID="LN">439 </FONT><A NAME="439"></A>     * @param setToAdd the item set to add.
<FONT ID="LN">440 </FONT><A NAME="440"></A>     */</FONT>
<FONT ID="LN">441 </FONT><A NAME="441"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> addItemSet(FrequentBinaryItemSet setToAdd) {
<FONT ID="LN">442 </FONT><A NAME="442"></A>      m_sets.add(setToAdd);
<FONT ID="LN">443 </FONT><A NAME="443"></A>    }
<FONT ID="LN">444 </FONT><A NAME="444"></A>    
<FONT ID="LN">445 </FONT><A NAME="445"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">446 </FONT><A NAME="446"></A>     * Sort the item sets according to the supplied comparator.
<FONT ID="LN">447 </FONT><A NAME="447"></A>     * 
<FONT ID="LN">448 </FONT><A NAME="448"></A>     * @param comp the comparator to use.
<FONT ID="LN">449 </FONT><A NAME="449"></A>     */</FONT>
<FONT ID="LN">450 </FONT><A NAME="450"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> sort(Comparator&lt;FrequentBinaryItemSet&gt; comp) {
<FONT ID="LN">451 </FONT><A NAME="451"></A>      Collections.sort(m_sets, comp);
<FONT ID="LN">452 </FONT><A NAME="452"></A>    }
<FONT ID="LN">453 </FONT><A NAME="453"></A>    
<FONT ID="LN">454 </FONT><A NAME="454"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">455 </FONT><A NAME="455"></A>     * Get the number of item sets.
<FONT ID="LN">456 </FONT><A NAME="456"></A>     * 
<FONT ID="LN">457 </FONT><A NAME="457"></A>     * @return the number of item sets.
<FONT ID="LN">458 </FONT><A NAME="458"></A>     */</FONT>
<FONT ID="LN">459 </FONT><A NAME="459"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> size() {
<FONT ID="LN">460 </FONT><A NAME="460"></A>      <FONT ID="Return">return</FONT> m_sets.size();
<FONT ID="LN">461 </FONT><A NAME="461"></A>    }
<FONT ID="LN">462 </FONT><A NAME="462"></A>    
<FONT ID="LN">463 </FONT><A NAME="463"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">464 </FONT><A NAME="464"></A>     * Sort the item sets. Sorts by item set length. Ties are broken by comparing
<FONT ID="LN">465 </FONT><A NAME="465"></A>     * the items in the two item sets.
<FONT ID="LN">466 </FONT><A NAME="466"></A>     */</FONT>
<FONT ID="LN">467 </FONT><A NAME="467"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> sort() {
<FONT ID="LN">468 </FONT><A NAME="468"></A>      Comparator&lt;FrequentBinaryItemSet&gt; compF = <FONT ID="New">new</FONT> Comparator&lt;FrequentBinaryItemSet&gt;() {
<FONT ID="LN">469 </FONT><A NAME="469"></A>        <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> compare(FrequentBinaryItemSet one, FrequentBinaryItemSet two) {
<FONT ID="LN">470 </FONT><A NAME="470"></A>          Collection&lt;BinaryItem&gt; compOne = one.getItems();
<FONT ID="LN">471 </FONT><A NAME="471"></A>          Collection&lt;BinaryItem&gt; compTwo = two.getItems();
<FONT ID="LN">472 </FONT><A NAME="472"></A>          
<FONT ID="LN">473 </FONT><A NAME="473"></A><FONT ID="SingleLineComment">//          if (one.getSupport() == two.getSupport()) {
<FONT ID="LN">474 </FONT><A NAME="474"></A></FONT>            <FONT ID="SingleLineComment">// if supports are equal then list shorter item sets before longer ones
<FONT ID="LN">475 </FONT><A NAME="475"></A></FONT>            <FONT ID="If">if</FONT> (compOne.size() &lt; compTwo.size()) {
<FONT ID="LN">476 </FONT><A NAME="476"></A>              <FONT ID="Return">return</FONT> -<FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">477 </FONT><A NAME="477"></A>            } <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (compOne.size() &gt; compTwo.size()) {
<FONT ID="LN">478 </FONT><A NAME="478"></A>              <FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">479 </FONT><A NAME="479"></A>            } <FONT ID="Else">else</FONT> {
<FONT ID="LN">480 </FONT><A NAME="480"></A>              <FONT ID="SingleLineComment">// compare items
<FONT ID="LN">481 </FONT><A NAME="481"></A></FONT>              Iterator&lt;BinaryItem&gt; twoIterator = compTwo.iterator();
<FONT ID="LN">482 </FONT><A NAME="482"></A>              <FONT ID="For">for</FONT> (BinaryItem oneI : compOne) {
<FONT ID="LN">483 </FONT><A NAME="483"></A>                BinaryItem twoI = twoIterator.next();
<FONT ID="LN">484 </FONT><A NAME="484"></A>                <FONT ID="Int">int</FONT> result = oneI.compareTo(twoI);
<FONT ID="LN">485 </FONT><A NAME="485"></A>                <FONT ID="If">if</FONT> (result != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">486 </FONT><A NAME="486"></A>                  <FONT ID="Return">return</FONT> result;
<FONT ID="LN">487 </FONT><A NAME="487"></A>                }
<FONT ID="LN">488 </FONT><A NAME="488"></A>              }
<FONT ID="LN">489 </FONT><A NAME="489"></A>              <FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">0</FONT>; <FONT ID="SingleLineComment">// equal
<FONT ID="LN">490 </FONT><A NAME="490"></A></FONT>            }
<FONT ID="LN">491 </FONT><A NAME="491"></A>            
<FONT ID="LN">492 </FONT><A NAME="492"></A><FONT ID="SingleLineComment">//            return 0;
<FONT ID="LN">493 </FONT><A NAME="493"></A></FONT>    <FONT ID="MultiLineComment">/*      } else if (one.getSupport() &gt; two.getSupport()) {
<FONT ID="LN">494 </FONT><A NAME="494"></A>            // reverse ordering (i.e. descending by support)
<FONT ID="LN">495 </FONT><A NAME="495"></A>            return -1;
<FONT ID="LN">496 </FONT><A NAME="496"></A>          } */</FONT>
<FONT ID="LN">497 </FONT><A NAME="497"></A>          
<FONT ID="LN">498 </FONT><A NAME="498"></A>    <FONT ID="SingleLineComment">//      return 1;
<FONT ID="LN">499 </FONT><A NAME="499"></A></FONT>        }
<FONT ID="LN">500 </FONT><A NAME="500"></A>      };
<FONT ID="LN">501 </FONT><A NAME="501"></A>      
<FONT ID="LN">502 </FONT><A NAME="502"></A>      sort(compF);
<FONT ID="LN">503 </FONT><A NAME="503"></A>    }
<FONT ID="LN">504 </FONT><A NAME="504"></A>    
<FONT ID="LN">505 </FONT><A NAME="505"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">506 </FONT><A NAME="506"></A>     * Get a textual description of this list of item sets.
<FONT ID="LN">507 </FONT><A NAME="507"></A>     * 
<FONT ID="LN">508 </FONT><A NAME="508"></A>     * @param numSets the number of item sets to display.
<FONT ID="LN">509 </FONT><A NAME="509"></A>     * @return a textual description of the item sets.
<FONT ID="LN">510 </FONT><A NAME="510"></A>     */</FONT>
<FONT ID="LN">511 </FONT><A NAME="511"></A>    <FONT ID="Public">public</FONT> String toString(<FONT ID="Int">int</FONT> numSets) {
<FONT ID="LN">512 </FONT><A NAME="512"></A>      <FONT ID="If">if</FONT> (m_sets.size() == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">513 </FONT><A NAME="513"></A>        <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"No frequent items sets found!"</FONT>;
<FONT ID="LN">514 </FONT><A NAME="514"></A>      }
<FONT ID="LN">515 </FONT><A NAME="515"></A>      
<FONT ID="LN">516 </FONT><A NAME="516"></A>      StringBuffer result = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">517 </FONT><A NAME="517"></A>      result.append(<FONT ID="StringLiteral">""</FONT> + m_sets.size() + <FONT ID="StringLiteral">" frequent item sets found"</FONT>);
<FONT ID="LN">518 </FONT><A NAME="518"></A>      <FONT ID="If">if</FONT> (numSets &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">519 </FONT><A NAME="519"></A>        result.append(<FONT ID="StringLiteral">" , displaying "</FONT> + numSets);
<FONT ID="LN">520 </FONT><A NAME="520"></A>      }
<FONT ID="LN">521 </FONT><A NAME="521"></A>      result.append(<FONT ID="StringLiteral">":\n\n"</FONT>);
<FONT ID="LN">522 </FONT><A NAME="522"></A>      
<FONT ID="LN">523 </FONT><A NAME="523"></A>      <FONT ID="Int">int</FONT> count = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">524 </FONT><A NAME="524"></A>      <FONT ID="For">for</FONT> (FrequentBinaryItemSet i : m_sets) {
<FONT ID="LN">525 </FONT><A NAME="525"></A>        <FONT ID="If">if</FONT> (numSets &gt; <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; count &gt; numSets) {
<FONT ID="LN">526 </FONT><A NAME="526"></A>          <FONT ID="Break">break</FONT>;
<FONT ID="LN">527 </FONT><A NAME="527"></A>        }
<FONT ID="LN">528 </FONT><A NAME="528"></A>        result.append(i.toString() + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">529 </FONT><A NAME="529"></A>        count++;
<FONT ID="LN">530 </FONT><A NAME="530"></A>      }
<FONT ID="LN">531 </FONT><A NAME="531"></A>      
<FONT ID="LN">532 </FONT><A NAME="532"></A>      <FONT ID="Return">return</FONT> result.toString();
<FONT ID="LN">533 </FONT><A NAME="533"></A>    }
<FONT ID="LN">534 </FONT><A NAME="534"></A>  }
<FONT ID="LN">535 </FONT><A NAME="535"></A>  
<FONT ID="LN">536 </FONT><A NAME="536"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">537 </FONT><A NAME="537"></A>   * This class holds the counts for projected tree nodes
<FONT ID="LN">538 </FONT><A NAME="538"></A>   * and header lists.
<FONT ID="LN">539 </FONT><A NAME="539"></A>   */</FONT>
<FONT ID="LN">540 </FONT><A NAME="540"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> ShadowCounts <FONT ID="Implements">implements</FONT> Serializable {
<FONT ID="LN">541 </FONT><A NAME="541"></A>    
<FONT ID="LN">542 </FONT><A NAME="542"></A>    <FONT ID="FormalComment">/** For serialization */</FONT>
<FONT ID="LN">543 </FONT><A NAME="543"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">4435433714185969155L</FONT>;
<FONT ID="LN">544 </FONT><A NAME="544"></A>    
<FONT ID="LN">545 </FONT><A NAME="545"></A>    <FONT ID="FormalComment">/** Holds the counts at different recursion levels */</FONT>
<FONT ID="LN">546 </FONT><A NAME="546"></A>    <FONT ID="Private">private</FONT> ArrayList&lt;Integer&gt; m_counts = <FONT ID="New">new</FONT> ArrayList&lt;Integer&gt;();
<FONT ID="LN">547 </FONT><A NAME="547"></A>    
<FONT ID="LN">548 </FONT><A NAME="548"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">549 </FONT><A NAME="549"></A>     * Get the count at the specified recursion depth.
<FONT ID="LN">550 </FONT><A NAME="550"></A>     * 
<FONT ID="LN">551 </FONT><A NAME="551"></A>     * @param recursionLevel the depth of the recursion.
<FONT ID="LN">552 </FONT><A NAME="552"></A>     * @return the count.
<FONT ID="LN">553 </FONT><A NAME="553"></A>     */</FONT>
<FONT ID="LN">554 </FONT><A NAME="554"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getCount(<FONT ID="Int">int</FONT> recursionLevel) {
<FONT ID="LN">555 </FONT><A NAME="555"></A>      <FONT ID="If">if</FONT> (recursionLevel &gt;= m_counts.size()) {
<FONT ID="LN">556 </FONT><A NAME="556"></A>        <FONT ID="Return">return</FONT> <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">557 </FONT><A NAME="557"></A>      } <FONT ID="Else">else</FONT> {
<FONT ID="LN">558 </FONT><A NAME="558"></A>        <FONT ID="Return">return</FONT> m_counts.get(recursionLevel);
<FONT ID="LN">559 </FONT><A NAME="559"></A>      }
<FONT ID="LN">560 </FONT><A NAME="560"></A>    }
<FONT ID="LN">561 </FONT><A NAME="561"></A>    
<FONT ID="LN">562 </FONT><A NAME="562"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">563 </FONT><A NAME="563"></A>     * Increase the count at a given recursion level.
<FONT ID="LN">564 </FONT><A NAME="564"></A>     * 
<FONT ID="LN">565 </FONT><A NAME="565"></A>     * @param recursionLevel the level at which to increase the count.
<FONT ID="LN">566 </FONT><A NAME="566"></A>     * @param incr the amount by which to increase the count.
<FONT ID="LN">567 </FONT><A NAME="567"></A>     */</FONT>
<FONT ID="LN">568 </FONT><A NAME="568"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> increaseCount(<FONT ID="Int">int</FONT> recursionLevel, <FONT ID="Int">int</FONT> incr) {
<FONT ID="LN">569 </FONT><A NAME="569"></A>      <FONT ID="SingleLineComment">// basically treat the list like a stack where we
<FONT ID="LN">570 </FONT><A NAME="570"></A></FONT>      <FONT ID="SingleLineComment">// can add a new element, or increment the element
<FONT ID="LN">571 </FONT><A NAME="571"></A></FONT>      <FONT ID="SingleLineComment">// at the top
<FONT ID="LN">572 </FONT><A NAME="572"></A></FONT>      
<FONT ID="LN">573 </FONT><A NAME="573"></A>      <FONT ID="If">if</FONT> (recursionLevel == m_counts.size()) {
<FONT ID="LN">574 </FONT><A NAME="574"></A>        <FONT ID="SingleLineComment">// new element
<FONT ID="LN">575 </FONT><A NAME="575"></A></FONT>        m_counts.add(incr);
<FONT ID="LN">576 </FONT><A NAME="576"></A>      } <FONT ID="Else">else</FONT> <FONT ID="If">if</FONT> (recursionLevel == m_counts.size() - <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">577 </FONT><A NAME="577"></A>        <FONT ID="SingleLineComment">// otherwise increment the top
<FONT ID="LN">578 </FONT><A NAME="578"></A></FONT>        <FONT ID="Int">int</FONT> n = m_counts.get(recursionLevel).intValue();
<FONT ID="LN">579 </FONT><A NAME="579"></A>        m_counts.set(recursionLevel, (n + incr));
<FONT ID="LN">580 </FONT><A NAME="580"></A>      }
<FONT ID="LN">581 </FONT><A NAME="581"></A>    }
<FONT ID="LN">582 </FONT><A NAME="582"></A>    
<FONT ID="LN">583 </FONT><A NAME="583"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">584 </FONT><A NAME="584"></A>     * Remove the count at the given recursion level.
<FONT ID="LN">585 </FONT><A NAME="585"></A>     * 
<FONT ID="LN">586 </FONT><A NAME="586"></A>     * @param recursionLevel the level at which to remove the count.
<FONT ID="LN">587 </FONT><A NAME="587"></A>     */</FONT>
<FONT ID="LN">588 </FONT><A NAME="588"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> removeCount(<FONT ID="Int">int</FONT> recursionLevel) {
<FONT ID="LN">589 </FONT><A NAME="589"></A>      <FONT ID="If">if</FONT> (recursionLevel &lt; m_counts.size()) {
<FONT ID="LN">590 </FONT><A NAME="590"></A>        m_counts.remove(recursionLevel);
<FONT ID="LN">591 </FONT><A NAME="591"></A>      }
<FONT ID="LN">592 </FONT><A NAME="592"></A>    }
<FONT ID="LN">593 </FONT><A NAME="593"></A>  }
<FONT ID="LN">594 </FONT><A NAME="594"></A>  
<FONT ID="LN">595 </FONT><A NAME="595"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">596 </FONT><A NAME="596"></A>   * A node in the FP-tree.
<FONT ID="LN">597 </FONT><A NAME="597"></A>   */</FONT>
<FONT ID="LN">598 </FONT><A NAME="598"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> FPTreeNode <FONT ID="Implements">implements</FONT> Serializable {
<FONT ID="LN">599 </FONT><A NAME="599"></A>                
<FONT ID="LN">600 </FONT><A NAME="600"></A>    <FONT ID="FormalComment">/** For serialization */</FONT>
<FONT ID="LN">601 </FONT><A NAME="601"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">4396315323673737660L</FONT>;
<FONT ID="LN">602 </FONT><A NAME="602"></A>
<FONT ID="LN">603 </FONT><A NAME="603"></A>    <FONT ID="FormalComment">/** link to another sibling at this level in the tree */</FONT>
<FONT ID="LN">604 </FONT><A NAME="604"></A>    <FONT ID="Protected">protected</FONT> FPTreeNode m_levelSibling;
<FONT ID="LN">605 </FONT><A NAME="605"></A>    
<FONT ID="LN">606 </FONT><A NAME="606"></A>    <FONT ID="FormalComment">/** link to the parent node */</FONT>
<FONT ID="LN">607 </FONT><A NAME="607"></A>    <FONT ID="Protected">protected</FONT> FPTreeNode m_parent;
<FONT ID="LN">608 </FONT><A NAME="608"></A>    
<FONT ID="LN">609 </FONT><A NAME="609"></A>    <FONT ID="FormalComment">/** item at this node */</FONT>
<FONT ID="LN">610 </FONT><A NAME="610"></A>    <FONT ID="Protected">protected</FONT> BinaryItem m_item;
<FONT ID="LN">611 </FONT><A NAME="611"></A>    
<FONT ID="LN">612 </FONT><A NAME="612"></A>    <FONT ID="FormalComment">/** ID (for graphing the tree) */</FONT>
<FONT ID="LN">613 </FONT><A NAME="613"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_ID;
<FONT ID="LN">614 </FONT><A NAME="614"></A>    
<FONT ID="LN">615 </FONT><A NAME="615"></A>    <FONT ID="FormalComment">/** the children of this node */</FONT>
<FONT ID="LN">616 </FONT><A NAME="616"></A>    <FONT ID="Protected">protected</FONT> Map&lt;BinaryItem, FPTreeNode&gt; m_children = 
<FONT ID="LN">617 </FONT><A NAME="617"></A>      <FONT ID="New">new</FONT> HashMap&lt;BinaryItem, FPTreeNode&gt;();
<FONT ID="LN">618 </FONT><A NAME="618"></A>    
<FONT ID="LN">619 </FONT><A NAME="619"></A>    <FONT ID="FormalComment">/** counts associated with projected versions of this node */</FONT>
<FONT ID="LN">620 </FONT><A NAME="620"></A>    <FONT ID="Protected">protected</FONT> ShadowCounts m_projectedCounts = <FONT ID="New">new</FONT> ShadowCounts();
<FONT ID="LN">621 </FONT><A NAME="621"></A>    
<FONT ID="LN">622 </FONT><A NAME="622"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">623 </FONT><A NAME="623"></A>     * Construct a new node with the given parent link and item.
<FONT ID="LN">624 </FONT><A NAME="624"></A>     * 
<FONT ID="LN">625 </FONT><A NAME="625"></A>     * @param parent a pointer to the parent of this node.
<FONT ID="LN">626 </FONT><A NAME="626"></A>     * @param item the item at this node.
<FONT ID="LN">627 </FONT><A NAME="627"></A>     */</FONT>
<FONT ID="LN">628 </FONT><A NAME="628"></A>    <FONT ID="Public">public</FONT> FPTreeNode(FPTreeNode parent, BinaryItem item) {
<FONT ID="LN">629 </FONT><A NAME="629"></A>      m_parent = parent;
<FONT ID="LN">630 </FONT><A NAME="630"></A>      m_item = item;
<FONT ID="LN">631 </FONT><A NAME="631"></A>    }
<FONT ID="LN">632 </FONT><A NAME="632"></A>    
<FONT ID="LN">633 </FONT><A NAME="633"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">634 </FONT><A NAME="634"></A>     * Insert an item set into the tree at this node. Removes the first item
<FONT ID="LN">635 </FONT><A NAME="635"></A>     * from the supplied item set and makes a recursive call to insert the
<FONT ID="LN">636 </FONT><A NAME="636"></A>     * remaining items.
<FONT ID="LN">637 </FONT><A NAME="637"></A>     * 
<FONT ID="LN">638 </FONT><A NAME="638"></A>     * @param itemSet the item set to insert.
<FONT ID="LN">639 </FONT><A NAME="639"></A>     * @param headerTable the header table for the tree.
<FONT ID="LN">640 </FONT><A NAME="640"></A>     * @param incr the amount by which to increase counts.
<FONT ID="LN">641 </FONT><A NAME="641"></A>     */</FONT>
<FONT ID="LN">642 </FONT><A NAME="642"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> addItemSet(Collection&lt;BinaryItem&gt; itemSet, 
<FONT ID="LN">643 </FONT><A NAME="643"></A>        Map&lt;BinaryItem, FPTreeRoot.Header&gt; headerTable, <FONT ID="Int">int</FONT> incr) {
<FONT ID="LN">644 </FONT><A NAME="644"></A>     
<FONT ID="LN">645 </FONT><A NAME="645"></A>      Iterator&lt;BinaryItem&gt; i = itemSet.iterator();
<FONT ID="LN">646 </FONT><A NAME="646"></A>      
<FONT ID="LN">647 </FONT><A NAME="647"></A>      <FONT ID="If">if</FONT> (i.hasNext()) {
<FONT ID="LN">648 </FONT><A NAME="648"></A>        BinaryItem first = i.next();
<FONT ID="LN">649 </FONT><A NAME="649"></A>        
<FONT ID="LN">650 </FONT><A NAME="650"></A>        FPTreeNode aChild;
<FONT ID="LN">651 </FONT><A NAME="651"></A>        <FONT ID="If">if</FONT> (!m_children.containsKey(first)) {
<FONT ID="LN">652 </FONT><A NAME="652"></A>          <FONT ID="SingleLineComment">// not in the tree, so add it.
<FONT ID="LN">653 </FONT><A NAME="653"></A></FONT>          aChild = <FONT ID="New">new</FONT> FPTreeNode(<FONT ID="This">this</FONT>, first);
<FONT ID="LN">654 </FONT><A NAME="654"></A>          m_children.put(first, aChild);
<FONT ID="LN">655 </FONT><A NAME="655"></A>          
<FONT ID="LN">656 </FONT><A NAME="656"></A>          <FONT ID="SingleLineComment">// update the header
<FONT ID="LN">657 </FONT><A NAME="657"></A></FONT>          <FONT ID="If">if</FONT> (!headerTable.containsKey(first)) {
<FONT ID="LN">658 </FONT><A NAME="658"></A>            headerTable.put(first, <FONT ID="New">new</FONT> FPTreeRoot.Header());
<FONT ID="LN">659 </FONT><A NAME="659"></A>          }
<FONT ID="LN">660 </FONT><A NAME="660"></A>          
<FONT ID="LN">661 </FONT><A NAME="661"></A>          <FONT ID="SingleLineComment">// append new node to header list
<FONT ID="LN">662 </FONT><A NAME="662"></A></FONT>          headerTable.get(first).addToList(aChild);
<FONT ID="LN">663 </FONT><A NAME="663"></A>        } <FONT ID="Else">else</FONT> {
<FONT ID="LN">664 </FONT><A NAME="664"></A>          <FONT ID="SingleLineComment">// get the appropriate child node
<FONT ID="LN">665 </FONT><A NAME="665"></A></FONT>          aChild = m_children.get(first);
<FONT ID="LN">666 </FONT><A NAME="666"></A>        }
<FONT ID="LN">667 </FONT><A NAME="667"></A>        
<FONT ID="LN">668 </FONT><A NAME="668"></A>        <FONT ID="SingleLineComment">// update counts in header table
<FONT ID="LN">669 </FONT><A NAME="669"></A></FONT>        headerTable.get(first).getProjectedCounts().increaseCount(<FONT ID="IntegerLiteral">0</FONT>, incr);
<FONT ID="LN">670 </FONT><A NAME="670"></A>        
<FONT ID="LN">671 </FONT><A NAME="671"></A>        <FONT ID="SingleLineComment">// increase the child's count
<FONT ID="LN">672 </FONT><A NAME="672"></A></FONT>        aChild.increaseProjectedCount(<FONT ID="IntegerLiteral">0</FONT>, incr);
<FONT ID="LN">673 </FONT><A NAME="673"></A>        
<FONT ID="LN">674 </FONT><A NAME="674"></A>        <FONT ID="SingleLineComment">// proceed recursively
<FONT ID="LN">675 </FONT><A NAME="675"></A></FONT>        itemSet.remove(first);        
<FONT ID="LN">676 </FONT><A NAME="676"></A>        aChild.addItemSet(itemSet, headerTable, incr);
<FONT ID="LN">677 </FONT><A NAME="677"></A>      }
<FONT ID="LN">678 </FONT><A NAME="678"></A>    }
<FONT ID="LN">679 </FONT><A NAME="679"></A>    
<FONT ID="LN">680 </FONT><A NAME="680"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">681 </FONT><A NAME="681"></A>     * Increase the projected count at the given recursion level at this
<FONT ID="LN">682 </FONT><A NAME="682"></A>     * node
<FONT ID="LN">683 </FONT><A NAME="683"></A>     * 
<FONT ID="LN">684 </FONT><A NAME="684"></A>     * @param recursionLevel the recursion level to increase the node count
<FONT ID="LN">685 </FONT><A NAME="685"></A>     * at.
<FONT ID="LN">686 </FONT><A NAME="686"></A>     * @param incr the amount by which to increase the count.
<FONT ID="LN">687 </FONT><A NAME="687"></A>     */</FONT>
<FONT ID="LN">688 </FONT><A NAME="688"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> increaseProjectedCount(<FONT ID="Int">int</FONT> recursionLevel, <FONT ID="Int">int</FONT> incr) {
<FONT ID="LN">689 </FONT><A NAME="689"></A>      m_projectedCounts.increaseCount(recursionLevel, incr);
<FONT ID="LN">690 </FONT><A NAME="690"></A>    }
<FONT ID="LN">691 </FONT><A NAME="691"></A>    
<FONT ID="LN">692 </FONT><A NAME="692"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">693 </FONT><A NAME="693"></A>     * Remove the projected count at the given recursion level for this
<FONT ID="LN">694 </FONT><A NAME="694"></A>     * node.
<FONT ID="LN">695 </FONT><A NAME="695"></A>     * 
<FONT ID="LN">696 </FONT><A NAME="696"></A>     * @param recursionLevel the recursion level at which to remove the count.
<FONT ID="LN">697 </FONT><A NAME="697"></A>     */</FONT>
<FONT ID="LN">698 </FONT><A NAME="698"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> removeProjectedCount(<FONT ID="Int">int</FONT> recursionLevel) {
<FONT ID="LN">699 </FONT><A NAME="699"></A>      m_projectedCounts.removeCount(recursionLevel);
<FONT ID="LN">700 </FONT><A NAME="700"></A>    }
<FONT ID="LN">701 </FONT><A NAME="701"></A>    
<FONT ID="LN">702 </FONT><A NAME="702"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">703 </FONT><A NAME="703"></A>     * Get the projected count at the given recursion level for this node.
<FONT ID="LN">704 </FONT><A NAME="704"></A>     * 
<FONT ID="LN">705 </FONT><A NAME="705"></A>     * @param recursionLevel the recursion level at which to get the count.
<FONT ID="LN">706 </FONT><A NAME="706"></A>     * @return the count.
<FONT ID="LN">707 </FONT><A NAME="707"></A>     */</FONT>
<FONT ID="LN">708 </FONT><A NAME="708"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getProjectedCount(<FONT ID="Int">int</FONT> recursionLevel) {
<FONT ID="LN">709 </FONT><A NAME="709"></A>      <FONT ID="Return">return</FONT> m_projectedCounts.getCount(recursionLevel);
<FONT ID="LN">710 </FONT><A NAME="710"></A>    }
<FONT ID="LN">711 </FONT><A NAME="711"></A>    
<FONT ID="LN">712 </FONT><A NAME="712"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">713 </FONT><A NAME="713"></A>     * Get the parent node.
<FONT ID="LN">714 </FONT><A NAME="714"></A>     * 
<FONT ID="LN">715 </FONT><A NAME="715"></A>     * @return the parent node.
<FONT ID="LN">716 </FONT><A NAME="716"></A>     */</FONT>
<FONT ID="LN">717 </FONT><A NAME="717"></A>    <FONT ID="Public">public</FONT> FPTreeNode getParent() {
<FONT ID="LN">718 </FONT><A NAME="718"></A>      <FONT ID="Return">return</FONT> m_parent;
<FONT ID="LN">719 </FONT><A NAME="719"></A>    }
<FONT ID="LN">720 </FONT><A NAME="720"></A>    
<FONT ID="LN">721 </FONT><A NAME="721"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">722 </FONT><A NAME="722"></A>     * Get the item at this node.
<FONT ID="LN">723 </FONT><A NAME="723"></A>     * 
<FONT ID="LN">724 </FONT><A NAME="724"></A>     * @return the item at this node.
<FONT ID="LN">725 </FONT><A NAME="725"></A>     */</FONT>
<FONT ID="LN">726 </FONT><A NAME="726"></A>    <FONT ID="Public">public</FONT> BinaryItem getItem() {
<FONT ID="LN">727 </FONT><A NAME="727"></A>      <FONT ID="Return">return</FONT> m_item;
<FONT ID="LN">728 </FONT><A NAME="728"></A>    }    
<FONT ID="LN">729 </FONT><A NAME="729"></A>    
<FONT ID="LN">730 </FONT><A NAME="730"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">731 </FONT><A NAME="731"></A>     * Return a textual description of this node for a given recursion
<FONT ID="LN">732 </FONT><A NAME="732"></A>     * level.
<FONT ID="LN">733 </FONT><A NAME="733"></A>     * 
<FONT ID="LN">734 </FONT><A NAME="734"></A>     * @param recursionLevel the recursion depth to use.
<FONT ID="LN">735 </FONT><A NAME="735"></A>     * @return a textual description of this node.
<FONT ID="LN">736 </FONT><A NAME="736"></A>     */</FONT>
<FONT ID="LN">737 </FONT><A NAME="737"></A>    <FONT ID="Public">public</FONT> String toString(<FONT ID="Int">int</FONT> recursionLevel) {
<FONT ID="LN">738 </FONT><A NAME="738"></A>      <FONT ID="Return">return</FONT> toString(<FONT ID="StringLiteral">""</FONT>, recursionLevel);
<FONT ID="LN">739 </FONT><A NAME="739"></A>    }
<FONT ID="LN">740 </FONT><A NAME="740"></A>
<FONT ID="LN">741 </FONT><A NAME="741"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">742 </FONT><A NAME="742"></A>     * Return a textual description of this node for a given recursion
<FONT ID="LN">743 </FONT><A NAME="743"></A>     * level.
<FONT ID="LN">744 </FONT><A NAME="744"></A>     * 
<FONT ID="LN">745 </FONT><A NAME="745"></A>     * @param prefix a prefix string to prepend.
<FONT ID="LN">746 </FONT><A NAME="746"></A>     * @param recursionLevel the recursion level to use.
<FONT ID="LN">747 </FONT><A NAME="747"></A>     * @return a textual description of this node. 
<FONT ID="LN">748 </FONT><A NAME="748"></A>     */</FONT>
<FONT ID="LN">749 </FONT><A NAME="749"></A>    <FONT ID="Public">public</FONT> String toString(String prefix, <FONT ID="Int">int</FONT> recursionLevel) {
<FONT ID="LN">750 </FONT><A NAME="750"></A>      StringBuffer buffer = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">751 </FONT><A NAME="751"></A>      buffer.append(prefix);
<FONT ID="LN">752 </FONT><A NAME="752"></A>      buffer.append(<FONT ID="StringLiteral">"|  "</FONT>);
<FONT ID="LN">753 </FONT><A NAME="753"></A>      buffer.append(m_item.toString());
<FONT ID="LN">754 </FONT><A NAME="754"></A>      buffer.append(<FONT ID="StringLiteral">" ("</FONT>);
<FONT ID="LN">755 </FONT><A NAME="755"></A>      buffer.append(m_projectedCounts.getCount(recursionLevel));
<FONT ID="LN">756 </FONT><A NAME="756"></A>      buffer.append(<FONT ID="StringLiteral">")\n"</FONT>);
<FONT ID="LN">757 </FONT><A NAME="757"></A>      
<FONT ID="LN">758 </FONT><A NAME="758"></A>      <FONT ID="For">for</FONT> (FPTreeNode node : m_children.values()) {
<FONT ID="LN">759 </FONT><A NAME="759"></A>        buffer.append(node.toString(prefix + <FONT ID="StringLiteral">"|  "</FONT>, recursionLevel));
<FONT ID="LN">760 </FONT><A NAME="760"></A>      }
<FONT ID="LN">761 </FONT><A NAME="761"></A>      <FONT ID="Return">return</FONT> buffer.toString();
<FONT ID="LN">762 </FONT><A NAME="762"></A>    }
<FONT ID="LN">763 </FONT><A NAME="763"></A>    
<FONT ID="LN">764 </FONT><A NAME="764"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> assignIDs(<FONT ID="Int">int</FONT> lastID) {
<FONT ID="LN">765 </FONT><A NAME="765"></A>      <FONT ID="Int">int</FONT> currentLastID = lastID + <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">766 </FONT><A NAME="766"></A>      m_ID = currentLastID;
<FONT ID="LN">767 </FONT><A NAME="767"></A>      <FONT ID="If">if</FONT> (m_children != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">768 </FONT><A NAME="768"></A>        Collection&lt;FPTreeNode&gt; kids = m_children.values();
<FONT ID="LN">769 </FONT><A NAME="769"></A>        <FONT ID="For">for</FONT> (FPTreeNode n : kids) {
<FONT ID="LN">770 </FONT><A NAME="770"></A>          currentLastID = n.assignIDs(currentLastID);
<FONT ID="LN">771 </FONT><A NAME="771"></A>        }
<FONT ID="LN">772 </FONT><A NAME="772"></A>      }
<FONT ID="LN">773 </FONT><A NAME="773"></A>      <FONT ID="Return">return</FONT> currentLastID;
<FONT ID="LN">774 </FONT><A NAME="774"></A>    }
<FONT ID="LN">775 </FONT><A NAME="775"></A>    
<FONT ID="LN">776 </FONT><A NAME="776"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">777 </FONT><A NAME="777"></A>     * Generate a dot graph description string for the tree.
<FONT ID="LN">778 </FONT><A NAME="778"></A>     * 
<FONT ID="LN">779 </FONT><A NAME="779"></A>     * @param text a StringBuffer to store the graph description
<FONT ID="LN">780 </FONT><A NAME="780"></A>     * in.
<FONT ID="LN">781 </FONT><A NAME="781"></A>     */</FONT>
<FONT ID="LN">782 </FONT><A NAME="782"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> graphFPTree(StringBuffer text) {
<FONT ID="LN">783 </FONT><A NAME="783"></A>      <FONT ID="If">if</FONT> (m_children != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">784 </FONT><A NAME="784"></A>        Collection&lt;FPTreeNode&gt; kids = m_children.values();
<FONT ID="LN">785 </FONT><A NAME="785"></A>        <FONT ID="For">for</FONT> (FPTreeNode n : kids) {
<FONT ID="LN">786 </FONT><A NAME="786"></A>          text.append(<FONT ID="StringLiteral">"N"</FONT> + n.m_ID);
<FONT ID="LN">787 </FONT><A NAME="787"></A>          text.append(<FONT ID="StringLiteral">" [label=\""</FONT>);
<FONT ID="LN">788 </FONT><A NAME="788"></A>          text.append(n.getItem().toString() + <FONT ID="StringLiteral">" ("</FONT> + n.getProjectedCount(<FONT ID="IntegerLiteral">0</FONT>) + <FONT ID="StringLiteral">")\\n"</FONT>);
<FONT ID="LN">789 </FONT><A NAME="789"></A>          text.append(<FONT ID="StringLiteral">"\"]\n"</FONT>);
<FONT ID="LN">790 </FONT><A NAME="790"></A>          n.graphFPTree(text);
<FONT ID="LN">791 </FONT><A NAME="791"></A>          text.append(<FONT ID="StringLiteral">"N"</FONT> + m_ID + <FONT ID="StringLiteral">"-&gt;"</FONT> + <FONT ID="StringLiteral">"N"</FONT> + n.m_ID + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">792 </FONT><A NAME="792"></A>        }
<FONT ID="LN">793 </FONT><A NAME="793"></A>      }
<FONT ID="LN">794 </FONT><A NAME="794"></A>    }
<FONT ID="LN">795 </FONT><A NAME="795"></A>  }
<FONT ID="LN">796 </FONT><A NAME="796"></A>  
<FONT ID="LN">797 </FONT><A NAME="797"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">798 </FONT><A NAME="798"></A>   * Root of the FPTree
<FONT ID="LN">799 </FONT><A NAME="799"></A>   */</FONT>
<FONT ID="LN">800 </FONT><A NAME="800"></A>  <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> FPTreeRoot <FONT ID="Extends">extends</FONT> FPTreeNode {
<FONT ID="LN">801 </FONT><A NAME="801"></A>    
<FONT ID="LN">802 </FONT><A NAME="802"></A>    <FONT ID="FormalComment">/** For serialization */</FONT>
<FONT ID="LN">803 </FONT><A NAME="803"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = <FONT ID="IntegerLiteral">632150939785333297L</FONT>;
<FONT ID="LN">804 </FONT><A NAME="804"></A>
<FONT ID="LN">805 </FONT><A NAME="805"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">806 </FONT><A NAME="806"></A>     * Stores a header entry for an FPTree 
<FONT ID="LN">807 </FONT><A NAME="807"></A>     */</FONT>
<FONT ID="LN">808 </FONT><A NAME="808"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> Header <FONT ID="Implements">implements</FONT> Serializable {
<FONT ID="LN">809 </FONT><A NAME="809"></A>      
<FONT ID="LN">810 </FONT><A NAME="810"></A>      <FONT ID="FormalComment">/** For serialization */</FONT>
<FONT ID="LN">811 </FONT><A NAME="811"></A>      <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = -<FONT ID="IntegerLiteral">6583156284891368909L</FONT>;
<FONT ID="LN">812 </FONT><A NAME="812"></A>      
<FONT ID="LN">813 </FONT><A NAME="813"></A>      <FONT ID="FormalComment">/** The list of pointers into the tree structure */</FONT>
<FONT ID="LN">814 </FONT><A NAME="814"></A>      <FONT ID="Protected">protected</FONT> List&lt;FPTreeNode&gt; m_headerList = <FONT ID="New">new</FONT> LinkedList&lt;FPTreeNode&gt;();
<FONT ID="LN">815 </FONT><A NAME="815"></A>      
<FONT ID="LN">816 </FONT><A NAME="816"></A>      <FONT ID="FormalComment">/** Projected header counts for this entry */</FONT>
<FONT ID="LN">817 </FONT><A NAME="817"></A>      <FONT ID="Protected">protected</FONT> ShadowCounts m_projectedHeaderCounts = <FONT ID="New">new</FONT> ShadowCounts();
<FONT ID="LN">818 </FONT><A NAME="818"></A>      
<FONT ID="LN">819 </FONT><A NAME="819"></A>      <FONT ID="FormalComment">/**
<FONT ID="LN">820 </FONT><A NAME="820"></A>       * Add a tree node into the list for this header entry.
<FONT ID="LN">821 </FONT><A NAME="821"></A>       * 
<FONT ID="LN">822 </FONT><A NAME="822"></A>       * @param toAdd the node to add.
<FONT ID="LN">823 </FONT><A NAME="823"></A>       */</FONT>
<FONT ID="LN">824 </FONT><A NAME="824"></A>      <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> addToList(FPTreeNode toAdd) {
<FONT ID="LN">825 </FONT><A NAME="825"></A>        m_headerList.add(toAdd);
<FONT ID="LN">826 </FONT><A NAME="826"></A>      }
<FONT ID="LN">827 </FONT><A NAME="827"></A>      
<FONT ID="LN">828 </FONT><A NAME="828"></A>      <FONT ID="FormalComment">/**
<FONT ID="LN">829 </FONT><A NAME="829"></A>       * Get the list of nodes for this header entry.
<FONT ID="LN">830 </FONT><A NAME="830"></A>       * 
<FONT ID="LN">831 </FONT><A NAME="831"></A>       * @return the list of nodes for this header entry.
<FONT ID="LN">832 </FONT><A NAME="832"></A>       */</FONT>
<FONT ID="LN">833 </FONT><A NAME="833"></A>      <FONT ID="Public">public</FONT> List&lt;FPTreeNode&gt; getHeaderList() {
<FONT ID="LN">834 </FONT><A NAME="834"></A>        <FONT ID="Return">return</FONT> m_headerList;
<FONT ID="LN">835 </FONT><A NAME="835"></A>      }
<FONT ID="LN">836 </FONT><A NAME="836"></A>      
<FONT ID="LN">837 </FONT><A NAME="837"></A>      <FONT ID="FormalComment">/**
<FONT ID="LN">838 </FONT><A NAME="838"></A>       * Get the projected counts for this header entry.
<FONT ID="LN">839 </FONT><A NAME="839"></A>       * 
<FONT ID="LN">840 </FONT><A NAME="840"></A>       * @return the projected counts for this header entry.
<FONT ID="LN">841 </FONT><A NAME="841"></A>       */</FONT>
<FONT ID="LN">842 </FONT><A NAME="842"></A>      <FONT ID="Public">public</FONT> ShadowCounts getProjectedCounts() {
<FONT ID="LN">843 </FONT><A NAME="843"></A>        <FONT ID="Return">return</FONT> m_projectedHeaderCounts;
<FONT ID="LN">844 </FONT><A NAME="844"></A>      }
<FONT ID="LN">845 </FONT><A NAME="845"></A>    }
<FONT ID="LN">846 </FONT><A NAME="846"></A>    
<FONT ID="LN">847 </FONT><A NAME="847"></A>    <FONT ID="FormalComment">/** Stores the header table as mapped Header entries */</FONT>
<FONT ID="LN">848 </FONT><A NAME="848"></A>    <FONT ID="Protected">protected</FONT> Map&lt;BinaryItem, Header&gt; m_headerTable = 
<FONT ID="LN">849 </FONT><A NAME="849"></A>      <FONT ID="New">new</FONT> HashMap&lt;BinaryItem, Header&gt;();
<FONT ID="LN">850 </FONT><A NAME="850"></A>    
<FONT ID="LN">851 </FONT><A NAME="851"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">852 </FONT><A NAME="852"></A>     * Create a new FPTreeRoot.
<FONT ID="LN">853 </FONT><A NAME="853"></A>     */</FONT>
<FONT ID="LN">854 </FONT><A NAME="854"></A>    <FONT ID="Public">public</FONT> FPTreeRoot() {
<FONT ID="LN">855 </FONT><A NAME="855"></A>      <FONT ID="Super">super</FONT>(<FONT ID="Null">null</FONT>, <FONT ID="Null">null</FONT>);
<FONT ID="LN">856 </FONT><A NAME="856"></A>    }
<FONT ID="LN">857 </FONT><A NAME="857"></A>    
<FONT ID="LN">858 </FONT><A NAME="858"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">859 </FONT><A NAME="859"></A>     * Insert an item set into the tree.
<FONT ID="LN">860 </FONT><A NAME="860"></A>     * 
<FONT ID="LN">861 </FONT><A NAME="861"></A>     * @param itemSet the item set to insert into the tree.
<FONT ID="LN">862 </FONT><A NAME="862"></A>     * @param incr the increment by which to increase counters.
<FONT ID="LN">863 </FONT><A NAME="863"></A>     */</FONT>
<FONT ID="LN">864 </FONT><A NAME="864"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> addItemSet(Collection&lt;BinaryItem&gt; itemSet, <FONT ID="Int">int</FONT> incr) {
<FONT ID="LN">865 </FONT><A NAME="865"></A>      <FONT ID="Super">super</FONT>.addItemSet(itemSet, m_headerTable, incr);
<FONT ID="LN">866 </FONT><A NAME="866"></A>    }
<FONT ID="LN">867 </FONT><A NAME="867"></A>    
<FONT ID="LN">868 </FONT><A NAME="868"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">869 </FONT><A NAME="869"></A>     * Get the header table for this tree.
<FONT ID="LN">870 </FONT><A NAME="870"></A>     * 
<FONT ID="LN">871 </FONT><A NAME="871"></A>     * @return the header table for this tree.
<FONT ID="LN">872 </FONT><A NAME="872"></A>     */</FONT>
<FONT ID="LN">873 </FONT><A NAME="873"></A>    <FONT ID="Public">public</FONT> Map&lt;BinaryItem, Header&gt; getHeaderTable() {
<FONT ID="LN">874 </FONT><A NAME="874"></A>      <FONT ID="Return">return</FONT> m_headerTable;
<FONT ID="LN">875 </FONT><A NAME="875"></A>    }
<FONT ID="LN">876 </FONT><A NAME="876"></A>    
<FONT ID="LN">877 </FONT><A NAME="877"></A>    <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> isEmpty(<FONT ID="Int">int</FONT> recursionLevel) {
<FONT ID="LN">878 </FONT><A NAME="878"></A>      <FONT ID="For">for</FONT> (FPTreeNode c : m_children.values()) {
<FONT ID="LN">879 </FONT><A NAME="879"></A>        <FONT ID="If">if</FONT> (c.getProjectedCount(recursionLevel) &gt; <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">880 </FONT><A NAME="880"></A>          <FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;
<FONT ID="LN">881 </FONT><A NAME="881"></A>        }
<FONT ID="LN">882 </FONT><A NAME="882"></A>      }
<FONT ID="LN">883 </FONT><A NAME="883"></A>      <FONT ID="Return">return</FONT> <FONT ID="True">true</FONT>;
<FONT ID="LN">884 </FONT><A NAME="884"></A>    }
<FONT ID="LN">885 </FONT><A NAME="885"></A>    
<FONT ID="LN">886 </FONT><A NAME="886"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">887 </FONT><A NAME="887"></A>     * Get a textual description of the tree at a given recursion
<FONT ID="LN">888 </FONT><A NAME="888"></A>     * (projection) level.
<FONT ID="LN">889 </FONT><A NAME="889"></A>     * 
<FONT ID="LN">890 </FONT><A NAME="890"></A>     * @param pad the string to use as a prefix for indenting nodes.
<FONT ID="LN">891 </FONT><A NAME="891"></A>     * @param recursionLevel the recursion level (projection) to use.
<FONT ID="LN">892 </FONT><A NAME="892"></A>     * @return the textual description of the tree.
<FONT ID="LN">893 </FONT><A NAME="893"></A>     */</FONT>
<FONT ID="LN">894 </FONT><A NAME="894"></A>    <FONT ID="Public">public</FONT> String toString(String pad, <FONT ID="Int">int</FONT> recursionLevel) {
<FONT ID="LN">895 </FONT><A NAME="895"></A>      StringBuffer result = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">896 </FONT><A NAME="896"></A>      result.append(pad);
<FONT ID="LN">897 </FONT><A NAME="897"></A>      result.append(<FONT ID="StringLiteral">"+ ROOT\n"</FONT>);
<FONT ID="LN">898 </FONT><A NAME="898"></A>
<FONT ID="LN">899 </FONT><A NAME="899"></A>      <FONT ID="For">for</FONT> (FPTreeNode node : m_children.values()) {
<FONT ID="LN">900 </FONT><A NAME="900"></A>        result.append(node.toString(pad + <FONT ID="StringLiteral">"|  "</FONT>, recursionLevel));
<FONT ID="LN">901 </FONT><A NAME="901"></A>      }
<FONT ID="LN">902 </FONT><A NAME="902"></A>      <FONT ID="Return">return</FONT> result.toString();
<FONT ID="LN">903 </FONT><A NAME="903"></A>    }
<FONT ID="LN">904 </FONT><A NAME="904"></A>
<FONT ID="LN">905 </FONT><A NAME="905"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">906 </FONT><A NAME="906"></A>     * Get a textual description of the header table for this tree.
<FONT ID="LN">907 </FONT><A NAME="907"></A>     * 
<FONT ID="LN">908 </FONT><A NAME="908"></A>     * @param recursionLevel the recursion level to use.
<FONT ID="LN">909 </FONT><A NAME="909"></A>     * @return a textual description of the header table for this
<FONT ID="LN">910 </FONT><A NAME="910"></A>     * tree at a given recursion level.
<FONT ID="LN">911 </FONT><A NAME="911"></A>     */</FONT>
<FONT ID="LN">912 </FONT><A NAME="912"></A>    <FONT ID="Public">public</FONT> String printHeaderTable(<FONT ID="Int">int</FONT> recursionLevel) {
<FONT ID="LN">913 </FONT><A NAME="913"></A>      StringBuffer buffer = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">914 </FONT><A NAME="914"></A>      <FONT ID="For">for</FONT> (BinaryItem item : m_headerTable.keySet()) {
<FONT ID="LN">915 </FONT><A NAME="915"></A>        buffer.append(item.toString());
<FONT ID="LN">916 </FONT><A NAME="916"></A>        buffer.append(<FONT ID="StringLiteral">" : "</FONT>);
<FONT ID="LN">917 </FONT><A NAME="917"></A>        buffer.append(m_headerTable.get(item).getProjectedCounts().getCount(recursionLevel));
<FONT ID="LN">918 </FONT><A NAME="918"></A>        buffer.append(<FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">919 </FONT><A NAME="919"></A>      }
<FONT ID="LN">920 </FONT><A NAME="920"></A>      <FONT ID="Return">return</FONT> buffer.toString();
<FONT ID="LN">921 </FONT><A NAME="921"></A>    }
<FONT ID="LN">922 </FONT><A NAME="922"></A>    
<FONT ID="LN">923 </FONT><A NAME="923"></A>    <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> graphHeaderTable(StringBuffer text, <FONT ID="Int">int</FONT> maxID) {
<FONT ID="LN">924 </FONT><A NAME="924"></A>
<FONT ID="LN">925 </FONT><A NAME="925"></A>      <FONT ID="For">for</FONT> (BinaryItem item : m_headerTable.keySet()) {
<FONT ID="LN">926 </FONT><A NAME="926"></A>        Header h = m_headerTable.get(item);
<FONT ID="LN">927 </FONT><A NAME="927"></A>        List&lt;FPTreeNode&gt; headerList = h.getHeaderList();
<FONT ID="LN">928 </FONT><A NAME="928"></A>        <FONT ID="If">if</FONT> (headerList.size() &gt; <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">929 </FONT><A NAME="929"></A>          text.append(<FONT ID="StringLiteral">"N"</FONT> + maxID + <FONT ID="StringLiteral">" [label=\""</FONT> + headerList.get(<FONT ID="IntegerLiteral">0</FONT>).getItem().toString() 
<FONT ID="LN">930 </FONT><A NAME="930"></A>              + <FONT ID="StringLiteral">" ("</FONT> + h.getProjectedCounts().getCount(<FONT ID="IntegerLiteral">0</FONT>) + <FONT ID="StringLiteral">")"</FONT>
<FONT ID="LN">931 </FONT><A NAME="931"></A>              + <FONT ID="StringLiteral">"\" shape=plaintext]\n"</FONT>);
<FONT ID="LN">932 </FONT><A NAME="932"></A>
<FONT ID="LN">933 </FONT><A NAME="933"></A>          text.append(<FONT ID="StringLiteral">"N"</FONT> + maxID + <FONT ID="StringLiteral">"-&gt;"</FONT> + <FONT ID="StringLiteral">"N"</FONT> + headerList.get(<FONT ID="IntegerLiteral">1</FONT>).m_ID + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">934 </FONT><A NAME="934"></A>          <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">1</FONT>; i &lt; headerList.size() - <FONT ID="IntegerLiteral">1</FONT>; i++) {
<FONT ID="LN">935 </FONT><A NAME="935"></A>            text.append(<FONT ID="StringLiteral">"N"</FONT> + headerList.get(i).m_ID + <FONT ID="StringLiteral">"-&gt;"</FONT> + <FONT ID="StringLiteral">"N"</FONT> + headerList.get(i+<FONT ID="IntegerLiteral">1</FONT>).m_ID + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">936 </FONT><A NAME="936"></A>          }
<FONT ID="LN">937 </FONT><A NAME="937"></A>          maxID++;
<FONT ID="LN">938 </FONT><A NAME="938"></A>        }
<FONT ID="LN">939 </FONT><A NAME="939"></A>      }
<FONT ID="LN">940 </FONT><A NAME="940"></A>    }
<FONT ID="LN">941 </FONT><A NAME="941"></A>  }
<FONT ID="LN">942 </FONT><A NAME="942"></A>  
<FONT ID="LN">943 </FONT><A NAME="943"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">944 </FONT><A NAME="944"></A>   * Class for storing and manipulating an association rule. Also has a utility
<FONT ID="LN">945 </FONT><A NAME="945"></A>   * routine for generating (by brute force) all the association rules that meet
<FONT ID="LN">946 </FONT><A NAME="946"></A>   * a given metric threshold from a list of large item sets.
<FONT ID="LN">947 </FONT><A NAME="947"></A>   * 
<FONT ID="LN">948 </FONT><A NAME="948"></A>   * @author Mark Hall (mhall{[at]}pentaho{[dot]}com).
<FONT ID="LN">949 </FONT><A NAME="949"></A>   */</FONT>
<FONT ID="LN">950 </FONT><A NAME="950"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">951 </FONT><A NAME="951"></A>   * @author mhall
<FONT ID="LN">952 </FONT><A NAME="952"></A>   *
<FONT ID="LN">953 </FONT><A NAME="953"></A>   */</FONT>
<FONT ID="LN">954 </FONT><A NAME="954"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Class">class</FONT> AssociationRule <FONT ID="Implements">implements</FONT> Serializable, Comparable&lt;AssociationRule&gt; {
<FONT ID="LN">955 </FONT><A NAME="955"></A>    
<FONT ID="LN">956 </FONT><A NAME="956"></A>    <FONT ID="FormalComment">/** For serialization */</FONT>
<FONT ID="LN">957 </FONT><A NAME="957"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <FONT ID="Long">long</FONT> serialVersionUID = -<FONT ID="IntegerLiteral">661269018702294489L</FONT>;
<FONT ID="LN">958 </FONT><A NAME="958"></A>
<FONT ID="LN">959 </FONT><A NAME="959"></A>    <FONT ID="FormalComment">/** Enum for holding different metric types */</FONT>
<FONT ID="LN">960 </FONT><A NAME="960"></A>    <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> enum METRIC_TYPE {
<FONT ID="LN">961 </FONT><A NAME="961"></A>      CONFIDENCE(<FONT ID="StringLiteral">"conf"</FONT>) {
<FONT ID="LN">962 </FONT><A NAME="962"></A>        <FONT ID="Double">double</FONT> compute(<FONT ID="Int">int</FONT> premiseSupport, <FONT ID="Int">int</FONT> consequenceSupport, 
<FONT ID="LN">963 </FONT><A NAME="963"></A>            <FONT ID="Int">int</FONT> totalSupport, <FONT ID="Int">int</FONT> totalTransactions) {
<FONT ID="LN">964 </FONT><A NAME="964"></A>          
<FONT ID="LN">965 </FONT><A NAME="965"></A>          <FONT ID="Return">return</FONT> (<FONT ID="Double">double</FONT>)totalSupport / (<FONT ID="Double">double</FONT>)premiseSupport;
<FONT ID="LN">966 </FONT><A NAME="966"></A>        }
<FONT ID="LN">967 </FONT><A NAME="967"></A>      },
<FONT ID="LN">968 </FONT><A NAME="968"></A>      LIFT(<FONT ID="StringLiteral">"lift"</FONT>) {
<FONT ID="LN">969 </FONT><A NAME="969"></A>        <FONT ID="Double">double</FONT> compute(<FONT ID="Int">int</FONT> premiseSupport, <FONT ID="Int">int</FONT> consequenceSupport, 
<FONT ID="LN">970 </FONT><A NAME="970"></A>            <FONT ID="Int">int</FONT> totalSupport, <FONT ID="Int">int</FONT> totalTransactions) {
<FONT ID="LN">971 </FONT><A NAME="971"></A>          
<FONT ID="LN">972 </FONT><A NAME="972"></A>          <FONT ID="Double">double</FONT> confidence = 
<FONT ID="LN">973 </FONT><A NAME="973"></A>            METRIC_TYPE.CONFIDENCE.compute(premiseSupport, consequenceSupport, 
<FONT ID="LN">974 </FONT><A NAME="974"></A>                totalSupport, totalTransactions);
<FONT ID="LN">975 </FONT><A NAME="975"></A>          <FONT ID="Return">return</FONT> confidence / ((<FONT ID="Double">double</FONT>)consequenceSupport /
<FONT ID="LN">976 </FONT><A NAME="976"></A>              (<FONT ID="Double">double</FONT>)totalTransactions);
<FONT ID="LN">977 </FONT><A NAME="977"></A>        }
<FONT ID="LN">978 </FONT><A NAME="978"></A>      },
<FONT ID="LN">979 </FONT><A NAME="979"></A>      LEVERAGE(<FONT ID="StringLiteral">"lev"</FONT>) {
<FONT ID="LN">980 </FONT><A NAME="980"></A>        <FONT ID="Double">double</FONT> compute(<FONT ID="Int">int</FONT> premiseSupport, <FONT ID="Int">int</FONT> consequenceSupport, 
<FONT ID="LN">981 </FONT><A NAME="981"></A>            <FONT ID="Int">int</FONT> totalSupport, <FONT ID="Int">int</FONT> totalTransactions) {
<FONT ID="LN">982 </FONT><A NAME="982"></A>          
<FONT ID="LN">983 </FONT><A NAME="983"></A>          <FONT ID="Double">double</FONT> coverageForItemSet = (<FONT ID="Double">double</FONT>)totalSupport /
<FONT ID="LN">984 </FONT><A NAME="984"></A>            (<FONT ID="Double">double</FONT>)totalTransactions;
<FONT ID="LN">985 </FONT><A NAME="985"></A>          <FONT ID="Double">double</FONT> expectedCoverageIfIndependent = 
<FONT ID="LN">986 </FONT><A NAME="986"></A>            ((<FONT ID="Double">double</FONT>)premiseSupport / (<FONT ID="Double">double</FONT>)totalTransactions) *
<FONT ID="LN">987 </FONT><A NAME="987"></A>            ((<FONT ID="Double">double</FONT>)consequenceSupport / (<FONT ID="Double">double</FONT>)totalTransactions);
<FONT ID="LN">988 </FONT><A NAME="988"></A>          <FONT ID="Return">return</FONT> coverageForItemSet - expectedCoverageIfIndependent;
<FONT ID="LN">989 </FONT><A NAME="989"></A>        }
<FONT ID="LN">990 </FONT><A NAME="990"></A>      },
<FONT ID="LN">991 </FONT><A NAME="991"></A>      CONVICTION(<FONT ID="StringLiteral">"conv"</FONT>) {
<FONT ID="LN">992 </FONT><A NAME="992"></A>        <FONT ID="Double">double</FONT> compute(<FONT ID="Int">int</FONT> premiseSupport, <FONT ID="Int">int</FONT> consequenceSupport, 
<FONT ID="LN">993 </FONT><A NAME="993"></A>            <FONT ID="Int">int</FONT> totalSupport, <FONT ID="Int">int</FONT> totalTransactions) {
<FONT ID="LN">994 </FONT><A NAME="994"></A>          
<FONT ID="LN">995 </FONT><A NAME="995"></A>          <FONT ID="Double">double</FONT> num = 
<FONT ID="LN">996 </FONT><A NAME="996"></A>            (<FONT ID="Double">double</FONT>)premiseSupport * (<FONT ID="Double">double</FONT>)(totalTransactions - consequenceSupport) /
<FONT ID="LN">997 </FONT><A NAME="997"></A>            (<FONT ID="Double">double</FONT>)totalTransactions;
<FONT ID="LN">998 </FONT><A NAME="998"></A>          <FONT ID="Double">double</FONT> denom = premiseSupport - totalSupport + <FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">999 </FONT><A NAME="999"></A>          <FONT ID="Return">return</FONT> num / denom;
<FONT ID="LN">1000</FONT><A NAME="1000"></A>        }
<FONT ID="LN">1001</FONT><A NAME="1001"></A>      };
<FONT ID="LN">1002</FONT><A NAME="1002"></A>      
<FONT ID="LN">1003</FONT><A NAME="1003"></A>      <FONT ID="Private">private</FONT> <FONT ID="Final">final</FONT> String m_stringVal;
<FONT ID="LN">1004</FONT><A NAME="1004"></A>      METRIC_TYPE(String name) {
<FONT ID="LN">1005</FONT><A NAME="1005"></A>        m_stringVal = name;
<FONT ID="LN">1006</FONT><A NAME="1006"></A>      }
<FONT ID="LN">1007</FONT><A NAME="1007"></A>      
<FONT ID="LN">1008</FONT><A NAME="1008"></A>      <FONT ID="Abstract">abstract</FONT> <FONT ID="Double">double</FONT> compute(<FONT ID="Int">int</FONT> premiseSupport, <FONT ID="Int">int</FONT> consequenceSupport, 
<FONT ID="LN">1009</FONT><A NAME="1009"></A>          <FONT ID="Int">int</FONT> totalSupport, <FONT ID="Int">int</FONT> totalTransactions);
<FONT ID="LN">1010</FONT><A NAME="1010"></A>      
<FONT ID="LN">1011</FONT><A NAME="1011"></A>      <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">1012</FONT><A NAME="1012"></A>        <FONT ID="Return">return</FONT> m_stringVal;
<FONT ID="LN">1013</FONT><A NAME="1013"></A>      }
<FONT ID="LN">1014</FONT><A NAME="1014"></A>      
<FONT ID="LN">1015</FONT><A NAME="1015"></A>      <FONT ID="Public">public</FONT> String toStringMetric(<FONT ID="Int">int</FONT> premiseSupport, <FONT ID="Int">int</FONT> consequenceSupport,
<FONT ID="LN">1016</FONT><A NAME="1016"></A>          <FONT ID="Int">int</FONT> totalSupport, <FONT ID="Int">int</FONT> totalTransactions) {
<FONT ID="LN">1017</FONT><A NAME="1017"></A>        <FONT ID="Return">return</FONT> m_stringVal + <FONT ID="StringLiteral">":("</FONT> + Utils.doubleToString(compute(premiseSupport, consequenceSupport,
<FONT ID="LN">1018</FONT><A NAME="1018"></A>            totalSupport, totalTransactions), <FONT ID="IntegerLiteral">2</FONT>) + <FONT ID="StringLiteral">")"</FONT>;
<FONT ID="LN">1019</FONT><A NAME="1019"></A>      }
<FONT ID="LN">1020</FONT><A NAME="1020"></A>    }
<FONT ID="LN">1021</FONT><A NAME="1021"></A>    
<FONT ID="LN">1022</FONT><A NAME="1022"></A>    <FONT ID="FormalComment">/** Tags for display in the GUI */</FONT>
<FONT ID="LN">1023</FONT><A NAME="1023"></A>    <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Final">final</FONT> <A HREF="../../weka/core/SelectedTag.java.html">Tag</A>[] TAGS_SELECTION = {
<FONT ID="LN">1024</FONT><A NAME="1024"></A>      <FONT ID="New">new</FONT> <A HREF="../../weka/core/SelectedTag.java.html">Tag</A>(METRIC_TYPE.CONFIDENCE.ordinal(), <FONT ID="StringLiteral">"Confidence"</FONT>),
<FONT ID="LN">1025</FONT><A NAME="1025"></A>      <FONT ID="New">new</FONT> <A HREF="../../weka/core/SelectedTag.java.html">Tag</A>(METRIC_TYPE.LIFT.ordinal(), <FONT ID="StringLiteral">"Lift"</FONT>),
<FONT ID="LN">1026</FONT><A NAME="1026"></A>      <FONT ID="New">new</FONT> <A HREF="../../weka/core/SelectedTag.java.html">Tag</A>(METRIC_TYPE.LEVERAGE.ordinal(), <FONT ID="StringLiteral">"Leverage"</FONT>),
<FONT ID="LN">1027</FONT><A NAME="1027"></A>      <FONT ID="New">new</FONT> <A HREF="../../weka/core/SelectedTag.java.html">Tag</A>(METRIC_TYPE.CONVICTION.ordinal(), <FONT ID="StringLiteral">"Conviction"</FONT>)
<FONT ID="LN">1028</FONT><A NAME="1028"></A>    };
<FONT ID="LN">1029</FONT><A NAME="1029"></A>    
<FONT ID="LN">1030</FONT><A NAME="1030"></A>    <FONT ID="FormalComment">/** The metric type for this rule */</FONT>
<FONT ID="LN">1031</FONT><A NAME="1031"></A>    <FONT ID="Protected">protected</FONT> METRIC_TYPE m_metricType = METRIC_TYPE.CONFIDENCE;
<FONT ID="LN">1032</FONT><A NAME="1032"></A>    
<FONT ID="LN">1033</FONT><A NAME="1033"></A>    <FONT ID="FormalComment">/** The premise of the rule */</FONT>
<FONT ID="LN">1034</FONT><A NAME="1034"></A>    <FONT ID="Protected">protected</FONT> Collection&lt;BinaryItem&gt; m_premise;
<FONT ID="LN">1035</FONT><A NAME="1035"></A>    
<FONT ID="LN">1036</FONT><A NAME="1036"></A>    <FONT ID="FormalComment">/** The consequence of the rule */</FONT>
<FONT ID="LN">1037</FONT><A NAME="1037"></A>    <FONT ID="Protected">protected</FONT> Collection&lt;BinaryItem&gt; m_consequence;
<FONT ID="LN">1038</FONT><A NAME="1038"></A>    
<FONT ID="LN">1039</FONT><A NAME="1039"></A>    <FONT ID="FormalComment">/** The support for the premise */</FONT>
<FONT ID="LN">1040</FONT><A NAME="1040"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_premiseSupport;
<FONT ID="LN">1041</FONT><A NAME="1041"></A>    
<FONT ID="LN">1042</FONT><A NAME="1042"></A>    <FONT ID="FormalComment">/** The support for the consequence */</FONT>
<FONT ID="LN">1043</FONT><A NAME="1043"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_consequenceSupport;
<FONT ID="LN">1044</FONT><A NAME="1044"></A>    
<FONT ID="LN">1045</FONT><A NAME="1045"></A>    <FONT ID="FormalComment">/** The total support for the item set (premise + consequence) */</FONT>
<FONT ID="LN">1046</FONT><A NAME="1046"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_totalSupport;
<FONT ID="LN">1047</FONT><A NAME="1047"></A>    
<FONT ID="LN">1048</FONT><A NAME="1048"></A>    <FONT ID="FormalComment">/** The total number of transactions in the data */</FONT>
<FONT ID="LN">1049</FONT><A NAME="1049"></A>    <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_totalTransactions;
<FONT ID="LN">1050</FONT><A NAME="1050"></A>    
<FONT ID="LN">1051</FONT><A NAME="1051"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1052</FONT><A NAME="1052"></A>     * Construct a new association rule.
<FONT ID="LN">1053</FONT><A NAME="1053"></A>     * 
<FONT ID="LN">1054</FONT><A NAME="1054"></A>     * @param premise the premise of the rule
<FONT ID="LN">1055</FONT><A NAME="1055"></A>     * @param consequence the consequence of the rule
<FONT ID="LN">1056</FONT><A NAME="1056"></A>     * @param metric the metric for the rule
<FONT ID="LN">1057</FONT><A NAME="1057"></A>     * @param premiseSupport the support of the premise
<FONT ID="LN">1058</FONT><A NAME="1058"></A>     * @param consequenceSupport the support of the consequence
<FONT ID="LN">1059</FONT><A NAME="1059"></A>     * @param totalSupport the total support of the rule
<FONT ID="LN">1060</FONT><A NAME="1060"></A>     * @param totalTransactions the number of transactions in the data
<FONT ID="LN">1061</FONT><A NAME="1061"></A>     */</FONT>
<FONT ID="LN">1062</FONT><A NAME="1062"></A>    <FONT ID="Public">public</FONT> AssociationRule(Collection&lt;BinaryItem&gt; premise, 
<FONT ID="LN">1063</FONT><A NAME="1063"></A>        Collection&lt;BinaryItem&gt; consequence, METRIC_TYPE metric,
<FONT ID="LN">1064</FONT><A NAME="1064"></A>        <FONT ID="Int">int</FONT> premiseSupport, <FONT ID="Int">int</FONT> consequenceSupport,
<FONT ID="LN">1065</FONT><A NAME="1065"></A>        <FONT ID="Int">int</FONT> totalSupport, <FONT ID="Int">int</FONT> totalTransactions) {
<FONT ID="LN">1066</FONT><A NAME="1066"></A>      m_premise = premise;
<FONT ID="LN">1067</FONT><A NAME="1067"></A>      m_consequence = consequence;
<FONT ID="LN">1068</FONT><A NAME="1068"></A>      m_metricType = metric;
<FONT ID="LN">1069</FONT><A NAME="1069"></A>      m_premiseSupport = premiseSupport;
<FONT ID="LN">1070</FONT><A NAME="1070"></A>      m_consequenceSupport = consequenceSupport;
<FONT ID="LN">1071</FONT><A NAME="1071"></A>      m_totalSupport = totalSupport;
<FONT ID="LN">1072</FONT><A NAME="1072"></A>      m_totalTransactions = totalTransactions;
<FONT ID="LN">1073</FONT><A NAME="1073"></A>    }
<FONT ID="LN">1074</FONT><A NAME="1074"></A>    
<FONT ID="LN">1075</FONT><A NAME="1075"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1076</FONT><A NAME="1076"></A>     * Get the premise of this rule.
<FONT ID="LN">1077</FONT><A NAME="1077"></A>     * 
<FONT ID="LN">1078</FONT><A NAME="1078"></A>     * @return the premise of this rule.
<FONT ID="LN">1079</FONT><A NAME="1079"></A>     */</FONT>
<FONT ID="LN">1080</FONT><A NAME="1080"></A>    <FONT ID="Public">public</FONT> Collection&lt;BinaryItem&gt; getPremise() {
<FONT ID="LN">1081</FONT><A NAME="1081"></A>      <FONT ID="Return">return</FONT> m_premise;
<FONT ID="LN">1082</FONT><A NAME="1082"></A>    }
<FONT ID="LN">1083</FONT><A NAME="1083"></A>    
<FONT ID="LN">1084</FONT><A NAME="1084"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1085</FONT><A NAME="1085"></A>     * Get the consequence of this rule.
<FONT ID="LN">1086</FONT><A NAME="1086"></A>     * 
<FONT ID="LN">1087</FONT><A NAME="1087"></A>     * @return the consequence of this rule.
<FONT ID="LN">1088</FONT><A NAME="1088"></A>     */</FONT>
<FONT ID="LN">1089</FONT><A NAME="1089"></A>    <FONT ID="Public">public</FONT> Collection&lt;BinaryItem&gt; getConsequence() {
<FONT ID="LN">1090</FONT><A NAME="1090"></A>      <FONT ID="Return">return</FONT> m_consequence;
<FONT ID="LN">1091</FONT><A NAME="1091"></A>    }
<FONT ID="LN">1092</FONT><A NAME="1092"></A>    
<FONT ID="LN">1093</FONT><A NAME="1093"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1094</FONT><A NAME="1094"></A>     * Get the metric type of this rule (e.g. confidence).
<FONT ID="LN">1095</FONT><A NAME="1095"></A>     * 
<FONT ID="LN">1096</FONT><A NAME="1096"></A>     * @return the metric type of this rule.
<FONT ID="LN">1097</FONT><A NAME="1097"></A>     */</FONT>
<FONT ID="LN">1098</FONT><A NAME="1098"></A>    <FONT ID="Public">public</FONT> METRIC_TYPE getMetricType() {
<FONT ID="LN">1099</FONT><A NAME="1099"></A>      <FONT ID="Return">return</FONT> m_metricType;
<FONT ID="LN">1100</FONT><A NAME="1100"></A>    }
<FONT ID="LN">1101</FONT><A NAME="1101"></A>    
<FONT ID="LN">1102</FONT><A NAME="1102"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1103</FONT><A NAME="1103"></A>     * Get the value of the metric for this rule. 
<FONT ID="LN">1104</FONT><A NAME="1104"></A>     * 
<FONT ID="LN">1105</FONT><A NAME="1105"></A>     * @return the value of the metric for this rule.
<FONT ID="LN">1106</FONT><A NAME="1106"></A>     */</FONT>
<FONT ID="LN">1107</FONT><A NAME="1107"></A>    <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getMetricValue() {
<FONT ID="LN">1108</FONT><A NAME="1108"></A>      <FONT ID="Return">return</FONT> m_metricType.compute(m_premiseSupport, m_consequenceSupport, 
<FONT ID="LN">1109</FONT><A NAME="1109"></A>          m_totalSupport, m_totalTransactions);
<FONT ID="LN">1110</FONT><A NAME="1110"></A>    }
<FONT ID="LN">1111</FONT><A NAME="1111"></A>    
<FONT ID="LN">1112</FONT><A NAME="1112"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1113</FONT><A NAME="1113"></A>     * Get the support for the premise.
<FONT ID="LN">1114</FONT><A NAME="1114"></A>     * 
<FONT ID="LN">1115</FONT><A NAME="1115"></A>     * @return the support for the premise.
<FONT ID="LN">1116</FONT><A NAME="1116"></A>     */</FONT>
<FONT ID="LN">1117</FONT><A NAME="1117"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getPremiseSupport() {
<FONT ID="LN">1118</FONT><A NAME="1118"></A>      <FONT ID="Return">return</FONT> m_premiseSupport;
<FONT ID="LN">1119</FONT><A NAME="1119"></A>    }
<FONT ID="LN">1120</FONT><A NAME="1120"></A>    
<FONT ID="LN">1121</FONT><A NAME="1121"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1122</FONT><A NAME="1122"></A>     * Get the support for the consequence.
<FONT ID="LN">1123</FONT><A NAME="1123"></A>     * 
<FONT ID="LN">1124</FONT><A NAME="1124"></A>     * @return the support for the consequence.
<FONT ID="LN">1125</FONT><A NAME="1125"></A>     */</FONT>
<FONT ID="LN">1126</FONT><A NAME="1126"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getConsequenceSupport() {
<FONT ID="LN">1127</FONT><A NAME="1127"></A>      <FONT ID="Return">return</FONT> m_consequenceSupport;
<FONT ID="LN">1128</FONT><A NAME="1128"></A>    }
<FONT ID="LN">1129</FONT><A NAME="1129"></A>    
<FONT ID="LN">1130</FONT><A NAME="1130"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1131</FONT><A NAME="1131"></A>     * Get the total support for this rule (premise + consequence).
<FONT ID="LN">1132</FONT><A NAME="1132"></A>     * 
<FONT ID="LN">1133</FONT><A NAME="1133"></A>     * @return the total support for this rule.
<FONT ID="LN">1134</FONT><A NAME="1134"></A>     */</FONT>
<FONT ID="LN">1135</FONT><A NAME="1135"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getTotalSupport() {
<FONT ID="LN">1136</FONT><A NAME="1136"></A>      <FONT ID="Return">return</FONT> m_totalSupport;
<FONT ID="LN">1137</FONT><A NAME="1137"></A>    }
<FONT ID="LN">1138</FONT><A NAME="1138"></A>    
<FONT ID="LN">1139</FONT><A NAME="1139"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1140</FONT><A NAME="1140"></A>     * Get the total number of transactions in the data.
<FONT ID="LN">1141</FONT><A NAME="1141"></A>     * 
<FONT ID="LN">1142</FONT><A NAME="1142"></A>     * @return the total number of transactions in the data.
<FONT ID="LN">1143</FONT><A NAME="1143"></A>     */</FONT>
<FONT ID="LN">1144</FONT><A NAME="1144"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getTotalTransactions() {
<FONT ID="LN">1145</FONT><A NAME="1145"></A>      <FONT ID="Return">return</FONT> m_totalTransactions;
<FONT ID="LN">1146</FONT><A NAME="1146"></A>    }
<FONT ID="LN">1147</FONT><A NAME="1147"></A>    
<FONT ID="LN">1148</FONT><A NAME="1148"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1149</FONT><A NAME="1149"></A>     * Compare this rule to the supplied rule.
<FONT ID="LN">1150</FONT><A NAME="1150"></A>     * 
<FONT ID="LN">1151</FONT><A NAME="1151"></A>     * @param other the rule to compare to.
<FONT ID="LN">1152</FONT><A NAME="1152"></A>     * @return the result of the comparison.
<FONT ID="LN">1153</FONT><A NAME="1153"></A>     */</FONT>
<FONT ID="LN">1154</FONT><A NAME="1154"></A>    <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> compareTo(AssociationRule other) {
<FONT ID="LN">1155</FONT><A NAME="1155"></A>      <FONT ID="Return">return</FONT> -Double.compare(getMetricValue(), other.getMetricValue());
<FONT ID="LN">1156</FONT><A NAME="1156"></A>    }
<FONT ID="LN">1157</FONT><A NAME="1157"></A>    
<FONT ID="LN">1158</FONT><A NAME="1158"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1159</FONT><A NAME="1159"></A>     * Return true if this rule is equal to the supplied one.
<FONT ID="LN">1160</FONT><A NAME="1160"></A>     * 
<FONT ID="LN">1161</FONT><A NAME="1161"></A>     * @return true if this rule is the same as the supplied rule.
<FONT ID="LN">1162</FONT><A NAME="1162"></A>     */</FONT>
<FONT ID="LN">1163</FONT><A NAME="1163"></A>    <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> equals(Object other) {
<FONT ID="LN">1164</FONT><A NAME="1164"></A>      <FONT ID="If">if</FONT> (!(other <FONT ID="InstanceOf">instanceof</FONT> AssociationRule)) {
<FONT ID="LN">1165</FONT><A NAME="1165"></A>        <FONT ID="Return">return</FONT> <FONT ID="False">false</FONT>;
<FONT ID="LN">1166</FONT><A NAME="1166"></A>      }
<FONT ID="LN">1167</FONT><A NAME="1167"></A>      
<FONT ID="LN">1168</FONT><A NAME="1168"></A>      AssociationRule otherRule = (AssociationRule)other;
<FONT ID="LN">1169</FONT><A NAME="1169"></A>      <FONT ID="Boolean">boolean</FONT> result = m_premise.equals(otherRule.getPremise()) &amp;&amp;
<FONT ID="LN">1170</FONT><A NAME="1170"></A>        m_consequence.equals(otherRule.getConsequence()) &amp;&amp; 
<FONT ID="LN">1171</FONT><A NAME="1171"></A>        (getMetricValue() == otherRule.getMetricValue());
<FONT ID="LN">1172</FONT><A NAME="1172"></A>      
<FONT ID="LN">1173</FONT><A NAME="1173"></A>      <FONT ID="Return">return</FONT> result;
<FONT ID="LN">1174</FONT><A NAME="1174"></A>    }
<FONT ID="LN">1175</FONT><A NAME="1175"></A>    
<FONT ID="LN">1176</FONT><A NAME="1176"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1177</FONT><A NAME="1177"></A>     * Get a textual description of this rule.
<FONT ID="LN">1178</FONT><A NAME="1178"></A>     * 
<FONT ID="LN">1179</FONT><A NAME="1179"></A>     * @return a textual description of this rule.
<FONT ID="LN">1180</FONT><A NAME="1180"></A>     */</FONT>
<FONT ID="LN">1181</FONT><A NAME="1181"></A>    <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">1182</FONT><A NAME="1182"></A>      StringBuffer result = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">1183</FONT><A NAME="1183"></A>      
<FONT ID="LN">1184</FONT><A NAME="1184"></A>      result.append(m_premise.toString() + <FONT ID="StringLiteral">": "</FONT> + m_premiseSupport 
<FONT ID="LN">1185</FONT><A NAME="1185"></A>          + <FONT ID="StringLiteral">" ==&gt; "</FONT> + m_consequence.toString() + <FONT ID="StringLiteral">": "</FONT> + m_totalSupport 
<FONT ID="LN">1186</FONT><A NAME="1186"></A>          + <FONT ID="StringLiteral">"   "</FONT>);
<FONT ID="LN">1187</FONT><A NAME="1187"></A>      <FONT ID="For">for</FONT> (METRIC_TYPE m : METRIC_TYPE.values()) {
<FONT ID="LN">1188</FONT><A NAME="1188"></A>        <FONT ID="If">if</FONT> (m.equals(m_metricType)) {
<FONT ID="LN">1189</FONT><A NAME="1189"></A>          result.append(<FONT ID="StringLiteral">"&lt;"</FONT> + 
<FONT ID="LN">1190</FONT><A NAME="1190"></A>              m.toStringMetric(m_premiseSupport, m_consequenceSupport, 
<FONT ID="LN">1191</FONT><A NAME="1191"></A>                  m_totalSupport, m_totalTransactions) + <FONT ID="StringLiteral">"&gt; "</FONT>);
<FONT ID="LN">1192</FONT><A NAME="1192"></A>        } <FONT ID="Else">else</FONT> {
<FONT ID="LN">1193</FONT><A NAME="1193"></A>          result.append(<FONT ID="StringLiteral">""</FONT> + 
<FONT ID="LN">1194</FONT><A NAME="1194"></A>              m.toStringMetric(m_premiseSupport, m_consequenceSupport, 
<FONT ID="LN">1195</FONT><A NAME="1195"></A>                  m_totalSupport, m_totalTransactions) + <FONT ID="StringLiteral">" "</FONT>);
<FONT ID="LN">1196</FONT><A NAME="1196"></A>        }
<FONT ID="LN">1197</FONT><A NAME="1197"></A>      }
<FONT ID="LN">1198</FONT><A NAME="1198"></A>      <FONT ID="Return">return</FONT> result.toString();
<FONT ID="LN">1199</FONT><A NAME="1199"></A>    }
<FONT ID="LN">1200</FONT><A NAME="1200"></A>    
<FONT ID="LN">1201</FONT><A NAME="1201"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> <FONT ID="Void">void</FONT> nextSubset(<FONT ID="Boolean">boolean</FONT>[] subset) {
<FONT ID="LN">1202</FONT><A NAME="1202"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; subset.length; i++) {
<FONT ID="LN">1203</FONT><A NAME="1203"></A>        <FONT ID="If">if</FONT> (!subset[i]) {
<FONT ID="LN">1204</FONT><A NAME="1204"></A>          subset[i] = <FONT ID="True">true</FONT>;
<FONT ID="LN">1205</FONT><A NAME="1205"></A>          <FONT ID="Break">break</FONT>;
<FONT ID="LN">1206</FONT><A NAME="1206"></A>        } <FONT ID="Else">else</FONT> {
<FONT ID="LN">1207</FONT><A NAME="1207"></A>          subset[i] = <FONT ID="False">false</FONT>;
<FONT ID="LN">1208</FONT><A NAME="1208"></A>        }
<FONT ID="LN">1209</FONT><A NAME="1209"></A>      }
<FONT ID="LN">1210</FONT><A NAME="1210"></A>    }
<FONT ID="LN">1211</FONT><A NAME="1211"></A>    
<FONT ID="LN">1212</FONT><A NAME="1212"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> Collection&lt;BinaryItem&gt; getPremise(FrequentBinaryItemSet fis, 
<FONT ID="LN">1213</FONT><A NAME="1213"></A>        <FONT ID="Boolean">boolean</FONT>[] subset) {
<FONT ID="LN">1214</FONT><A NAME="1214"></A>      <FONT ID="Boolean">boolean</FONT> ok = <FONT ID="False">false</FONT>;
<FONT ID="LN">1215</FONT><A NAME="1215"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; subset.length; i++){
<FONT ID="LN">1216</FONT><A NAME="1216"></A>        <FONT ID="If">if</FONT> (!subset[i]) {
<FONT ID="LN">1217</FONT><A NAME="1217"></A>          ok = <FONT ID="True">true</FONT>;
<FONT ID="LN">1218</FONT><A NAME="1218"></A>          <FONT ID="Break">break</FONT>;
<FONT ID="LN">1219</FONT><A NAME="1219"></A>        }
<FONT ID="LN">1220</FONT><A NAME="1220"></A>      }      
<FONT ID="LN">1221</FONT><A NAME="1221"></A>      
<FONT ID="LN">1222</FONT><A NAME="1222"></A>      <FONT ID="If">if</FONT> (!ok) {
<FONT ID="LN">1223</FONT><A NAME="1223"></A>        <FONT ID="Return">return</FONT> <FONT ID="Null">null</FONT>;
<FONT ID="LN">1224</FONT><A NAME="1224"></A>      }
<FONT ID="LN">1225</FONT><A NAME="1225"></A>      
<FONT ID="LN">1226</FONT><A NAME="1226"></A>      List&lt;BinaryItem&gt; premise = <FONT ID="New">new</FONT> ArrayList&lt;BinaryItem&gt;();
<FONT ID="LN">1227</FONT><A NAME="1227"></A>      ArrayList&lt;BinaryItem&gt; items = <FONT ID="New">new</FONT> ArrayList&lt;BinaryItem&gt;(fis.getItems());
<FONT ID="LN">1228</FONT><A NAME="1228"></A>
<FONT ID="LN">1229</FONT><A NAME="1229"></A>      
<FONT ID="LN">1230</FONT><A NAME="1230"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; subset.length; i++) {
<FONT ID="LN">1231</FONT><A NAME="1231"></A>        <FONT ID="If">if</FONT> (subset[i]) {
<FONT ID="LN">1232</FONT><A NAME="1232"></A>          premise.add(items.get(i));
<FONT ID="LN">1233</FONT><A NAME="1233"></A>        }
<FONT ID="LN">1234</FONT><A NAME="1234"></A>      }
<FONT ID="LN">1235</FONT><A NAME="1235"></A>      <FONT ID="Return">return</FONT> premise;
<FONT ID="LN">1236</FONT><A NAME="1236"></A>    }
<FONT ID="LN">1237</FONT><A NAME="1237"></A>    
<FONT ID="LN">1238</FONT><A NAME="1238"></A>    <FONT ID="Private">private</FONT> <FONT ID="Static">static</FONT> Collection&lt;BinaryItem&gt; getConsequence(FrequentBinaryItemSet fis,
<FONT ID="LN">1239</FONT><A NAME="1239"></A>        <FONT ID="Boolean">boolean</FONT>[] subset) {
<FONT ID="LN">1240</FONT><A NAME="1240"></A>      List&lt;BinaryItem&gt; consequence = <FONT ID="New">new</FONT> ArrayList&lt;BinaryItem&gt;();
<FONT ID="LN">1241</FONT><A NAME="1241"></A>      ArrayList&lt;BinaryItem&gt; items = <FONT ID="New">new</FONT> ArrayList&lt;BinaryItem&gt;(fis.getItems());
<FONT ID="LN">1242</FONT><A NAME="1242"></A>      
<FONT ID="LN">1243</FONT><A NAME="1243"></A>      <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; subset.length; i++) {
<FONT ID="LN">1244</FONT><A NAME="1244"></A>        <FONT ID="If">if</FONT> (!subset[i]) {
<FONT ID="LN">1245</FONT><A NAME="1245"></A>          consequence.add(items.get(i));
<FONT ID="LN">1246</FONT><A NAME="1246"></A>        }
<FONT ID="LN">1247</FONT><A NAME="1247"></A>      }
<FONT ID="LN">1248</FONT><A NAME="1248"></A>      <FONT ID="Return">return</FONT> consequence;
<FONT ID="LN">1249</FONT><A NAME="1249"></A>    }
<FONT ID="LN">1250</FONT><A NAME="1250"></A>    
<FONT ID="LN">1251</FONT><A NAME="1251"></A>    
<FONT ID="LN">1252</FONT><A NAME="1252"></A>    <FONT ID="FormalComment">/**
<FONT ID="LN">1253</FONT><A NAME="1253"></A>     * Generate all association rules, from the supplied frequet item sets,
<FONT ID="LN">1254</FONT><A NAME="1254"></A>     * that meet a given minimum metric threshold. Uses a brute force approach.
<FONT ID="LN">1255</FONT><A NAME="1255"></A>     * 
<FONT ID="LN">1256</FONT><A NAME="1256"></A>     * @param largeItemSets the set of frequent item sets
<FONT ID="LN">1257</FONT><A NAME="1257"></A>     * @param metricToUse the metric to use
<FONT ID="LN">1258</FONT><A NAME="1258"></A>     * @param metricThreshold the threshold value that a rule must meet
<FONT ID="LN">1259</FONT><A NAME="1259"></A>     * @param totalTransactions the total number of transactions in the data
<FONT ID="LN">1260</FONT><A NAME="1260"></A>     * @return a list of association rules
<FONT ID="LN">1261</FONT><A NAME="1261"></A>     */</FONT>
<FONT ID="LN">1262</FONT><A NAME="1262"></A>    <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> List&lt;AssociationRule&gt; 
<FONT ID="LN">1263</FONT><A NAME="1263"></A>      generateRulesBruteForce(FrequentItemSets largeItemSets, METRIC_TYPE metricToUse, 
<FONT ID="LN">1264</FONT><A NAME="1264"></A>          <FONT ID="Double">double</FONT> metricThreshold, <FONT ID="Int">int</FONT> totalTransactions) {
<FONT ID="LN">1265</FONT><A NAME="1265"></A>      
<FONT ID="LN">1266</FONT><A NAME="1266"></A>      List&lt;AssociationRule&gt; rules = <FONT ID="New">new</FONT> ArrayList&lt;AssociationRule&gt;();
<FONT ID="LN">1267</FONT><A NAME="1267"></A>      largeItemSets.sort();
<FONT ID="LN">1268</FONT><A NAME="1268"></A>      Map&lt;Collection&lt;BinaryItem&gt;, Integer&gt; frequencyLookup =
<FONT ID="LN">1269</FONT><A NAME="1269"></A>        <FONT ID="New">new</FONT> HashMap&lt;Collection&lt;BinaryItem&gt;, Integer&gt;();
<FONT ID="LN">1270</FONT><A NAME="1270"></A>      
<FONT ID="LN">1271</FONT><A NAME="1271"></A>      Iterator&lt;FrequentBinaryItemSet&gt; setI = largeItemSets.iterator();
<FONT ID="LN">1272</FONT><A NAME="1272"></A>      <FONT ID="SingleLineComment">// process each large item set
<FONT ID="LN">1273</FONT><A NAME="1273"></A></FONT>      <FONT ID="While">while</FONT> (setI.hasNext()) {
<FONT ID="LN">1274</FONT><A NAME="1274"></A>        FrequentBinaryItemSet fis = setI.next();
<FONT ID="LN">1275</FONT><A NAME="1275"></A>        frequencyLookup.put(fis.getItems(), fis.getSupport());
<FONT ID="LN">1276</FONT><A NAME="1276"></A>        <FONT ID="If">if</FONT> (fis.getItems().size() &gt; <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1277</FONT><A NAME="1277"></A>          <FONT ID="SingleLineComment">// generate all the possible subsets for the premise
<FONT ID="LN">1278</FONT><A NAME="1278"></A></FONT>          <FONT ID="Boolean">boolean</FONT>[] subset = <FONT ID="New">new</FONT> <FONT ID="Boolean">boolean</FONT>[fis.getItems().size()];
<FONT ID="LN">1279</FONT><A NAME="1279"></A>          Collection&lt;BinaryItem&gt; premise = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1280</FONT><A NAME="1280"></A>          Collection&lt;BinaryItem&gt; consequence = <FONT ID="Null">null</FONT>;
<FONT ID="LN">1281</FONT><A NAME="1281"></A>          <FONT ID="While">while</FONT> ((premise = getPremise(fis, subset)) != <FONT ID="Null">null</FONT>) {
<FONT ID="LN">1282</FONT><A NAME="1282"></A>            <FONT ID="If">if</FONT> (premise.size() &gt; <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; premise.size() &lt; fis.getItems().size()) {
<FONT ID="LN">1283</FONT><A NAME="1283"></A>              consequence = getConsequence(fis, subset);
<FONT ID="LN">1284</FONT><A NAME="1284"></A>              <FONT ID="Int">int</FONT> totalSupport = fis.getSupport();
<FONT ID="LN">1285</FONT><A NAME="1285"></A>              <FONT ID="Int">int</FONT> supportPremise = frequencyLookup.get(premise).intValue();
<FONT ID="LN">1286</FONT><A NAME="1286"></A>              <FONT ID="Int">int</FONT> supportConsequence = frequencyLookup.get(consequence).intValue();
<FONT ID="LN">1287</FONT><A NAME="1287"></A>              
<FONT ID="LN">1288</FONT><A NAME="1288"></A>              <FONT ID="SingleLineComment">// a candidate rule
<FONT ID="LN">1289</FONT><A NAME="1289"></A></FONT>              AssociationRule candidate = 
<FONT ID="LN">1290</FONT><A NAME="1290"></A>                <FONT ID="New">new</FONT> AssociationRule(premise, consequence, metricToUse, supportPremise,
<FONT ID="LN">1291</FONT><A NAME="1291"></A>                    supportConsequence, totalSupport, totalTransactions);
<FONT ID="LN">1292</FONT><A NAME="1292"></A>              <FONT ID="If">if</FONT> (candidate.getMetricValue() &gt; metricThreshold) {
<FONT ID="LN">1293</FONT><A NAME="1293"></A>                <FONT ID="SingleLineComment">// accept this rule
<FONT ID="LN">1294</FONT><A NAME="1294"></A></FONT>                rules.add(candidate);
<FONT ID="LN">1295</FONT><A NAME="1295"></A>              }              
<FONT ID="LN">1296</FONT><A NAME="1296"></A>            }
<FONT ID="LN">1297</FONT><A NAME="1297"></A>            nextSubset(subset);
<FONT ID="LN">1298</FONT><A NAME="1298"></A>          }
<FONT ID="LN">1299</FONT><A NAME="1299"></A>        }
<FONT ID="LN">1300</FONT><A NAME="1300"></A>      }
<FONT ID="LN">1301</FONT><A NAME="1301"></A>      
<FONT ID="LN">1302</FONT><A NAME="1302"></A>      <FONT ID="Return">return</FONT> rules;
<FONT ID="LN">1303</FONT><A NAME="1303"></A>    }
<FONT ID="LN">1304</FONT><A NAME="1304"></A>  }
<FONT ID="LN">1305</FONT><A NAME="1305"></A>  
<FONT ID="LN">1306</FONT><A NAME="1306"></A>  <FONT ID="FormalComment">/** The number of rules to find */</FONT>
<FONT ID="LN">1307</FONT><A NAME="1307"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_numRulesToFind = <FONT ID="IntegerLiteral">10</FONT>;
<FONT ID="LN">1308</FONT><A NAME="1308"></A>  <FONT ID="SingleLineComment">//protected double m_upperBoundMinSupport = 0.36;
<FONT ID="LN">1309</FONT><A NAME="1309"></A></FONT>  
<FONT ID="LN">1310</FONT><A NAME="1310"></A>  <FONT ID="FormalComment">/** The upper bound on the minimum support */</FONT>
<FONT ID="LN">1311</FONT><A NAME="1311"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Double">double</FONT> m_upperBoundMinSupport = <FONT ID="FloatPointLiteral">1.0</FONT>;
<FONT ID="LN">1312</FONT><A NAME="1312"></A>  
<FONT ID="LN">1313</FONT><A NAME="1313"></A>  <FONT ID="FormalComment">/** The lower bound on minimum support */</FONT>
<FONT ID="LN">1314</FONT><A NAME="1314"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Double">double</FONT> m_lowerBoundMinSupport = <FONT ID="FloatPointLiteral">0.1</FONT>;
<FONT ID="LN">1315</FONT><A NAME="1315"></A>  
<FONT ID="LN">1316</FONT><A NAME="1316"></A>  <FONT ID="FormalComment">/** The amount by which to decrease the support in each iteration */</FONT>
<FONT ID="LN">1317</FONT><A NAME="1317"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Double">double</FONT> m_delta = <FONT ID="FloatPointLiteral">0.05</FONT>;
<FONT ID="LN">1318</FONT><A NAME="1318"></A>  
<FONT ID="LN">1319</FONT><A NAME="1319"></A>  <FONT ID="FormalComment">/** 
<FONT ID="LN">1320</FONT><A NAME="1320"></A>   * If true, just all rules meeting the lower bound on the minimum
<FONT ID="LN">1321</FONT><A NAME="1321"></A>   * support will be found. The number of rules to find will be
<FONT ID="LN">1322</FONT><A NAME="1322"></A>   * ignored and the iterative reduction of support will not
<FONT ID="LN">1323</FONT><A NAME="1323"></A>   * be done. 
<FONT ID="LN">1324</FONT><A NAME="1324"></A>   */</FONT>
<FONT ID="LN">1325</FONT><A NAME="1325"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Boolean">boolean</FONT> m_findAllRulesForSupportLevel = <FONT ID="False">false</FONT>;
<FONT ID="LN">1326</FONT><A NAME="1326"></A>  
<FONT ID="LN">1327</FONT><A NAME="1327"></A>  <FONT ID="SingleLineComment">//protected double m_lowerBoundMinSupport = 0.0;
<FONT ID="LN">1328</FONT><A NAME="1328"></A></FONT>  
<FONT ID="LN">1329</FONT><A NAME="1329"></A>  <FONT ID="FormalComment">/** The index (1 based) of binary attributes to treat as the positive value */</FONT>
<FONT ID="LN">1330</FONT><A NAME="1330"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_positiveIndex = <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">1331</FONT><A NAME="1331"></A>  
<FONT ID="LN">1332</FONT><A NAME="1332"></A>  <FONT ID="Protected">protected</FONT> AssociationRule.METRIC_TYPE m_metric = 
<FONT ID="LN">1333</FONT><A NAME="1333"></A>    AssociationRule.METRIC_TYPE.CONFIDENCE;
<FONT ID="LN">1334</FONT><A NAME="1334"></A>  
<FONT ID="LN">1335</FONT><A NAME="1335"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Double">double</FONT> m_metricThreshold = <FONT ID="FloatPointLiteral">0.9</FONT>;
<FONT ID="LN">1336</FONT><A NAME="1336"></A>  
<FONT ID="LN">1337</FONT><A NAME="1337"></A>  <FONT ID="FormalComment">/** Holds the large item sets found */</FONT>
<FONT ID="LN">1338</FONT><A NAME="1338"></A>  <FONT ID="Protected">protected</FONT> FrequentItemSets m_largeItemSets;
<FONT ID="LN">1339</FONT><A NAME="1339"></A>  
<FONT ID="LN">1340</FONT><A NAME="1340"></A>  <FONT ID="FormalComment">/** Holds the rules */</FONT>
<FONT ID="LN">1341</FONT><A NAME="1341"></A>  <FONT ID="Protected">protected</FONT> List&lt;AssociationRule&gt; m_rules;
<FONT ID="LN">1342</FONT><A NAME="1342"></A>  
<FONT ID="LN">1343</FONT><A NAME="1343"></A>  <FONT ID="SingleLineComment">// maximum number of items in a large item set (zero means no limit)
<FONT ID="LN">1344</FONT><A NAME="1344"></A></FONT>  <FONT ID="Protected">protected</FONT> <FONT ID="Int">int</FONT> m_maxItems = -<FONT ID="IntegerLiteral">1</FONT>;
<FONT ID="LN">1345</FONT><A NAME="1345"></A>  
<FONT ID="LN">1346</FONT><A NAME="1346"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1347</FONT><A NAME="1347"></A>   * Returns default capabilities of the classifier.
<FONT ID="LN">1348</FONT><A NAME="1348"></A>   *
<FONT ID="LN">1349</FONT><A NAME="1349"></A>   * @return      the capabilities of this classifier
<FONT ID="LN">1350</FONT><A NAME="1350"></A>   */</FONT>
<FONT ID="LN">1351</FONT><A NAME="1351"></A>  <FONT ID="Public">public</FONT> <A HREF="../../weka/core/Capabilities.java.html">Capabilities</A> getCapabilities() {
<FONT ID="LN">1352</FONT><A NAME="1352"></A>    <A HREF="../../weka/core/Capabilities.java.html">Capabilities</A> result = <FONT ID="Super">super</FONT>.getCapabilities();
<FONT ID="LN">1353</FONT><A NAME="1353"></A>    result.disableAll();
<FONT ID="LN">1354</FONT><A NAME="1354"></A>
<FONT ID="LN">1355</FONT><A NAME="1355"></A>    <FONT ID="SingleLineComment">// enable what we can handle
<FONT ID="LN">1356</FONT><A NAME="1356"></A></FONT>    
<FONT ID="LN">1357</FONT><A NAME="1357"></A>    <FONT ID="SingleLineComment">// attributes
<FONT ID="LN">1358</FONT><A NAME="1358"></A></FONT>    result.enable(Capability.UNARY_ATTRIBUTES);
<FONT ID="LN">1359</FONT><A NAME="1359"></A>    result.enable(Capability.BINARY_ATTRIBUTES);
<FONT ID="LN">1360</FONT><A NAME="1360"></A>    result.enable(Capability.MISSING_VALUES);
<FONT ID="LN">1361</FONT><A NAME="1361"></A>
<FONT ID="LN">1362</FONT><A NAME="1362"></A>    result.enable(Capability.NO_CLASS);
<FONT ID="LN">1363</FONT><A NAME="1363"></A>    
<FONT ID="LN">1364</FONT><A NAME="1364"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">1365</FONT><A NAME="1365"></A>  }
<FONT ID="LN">1366</FONT><A NAME="1366"></A>  
<FONT ID="LN">1367</FONT><A NAME="1367"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1368</FONT><A NAME="1368"></A>   * Returns a string describing this associator
<FONT ID="LN">1369</FONT><A NAME="1369"></A>   * 
<FONT ID="LN">1370</FONT><A NAME="1370"></A>   * @return a description of the evaluator suitable for
<FONT ID="LN">1371</FONT><A NAME="1371"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">1372</FONT><A NAME="1372"></A>   */</FONT>
<FONT ID="LN">1373</FONT><A NAME="1373"></A>  <FONT ID="Public">public</FONT> String globalInfo() {
<FONT ID="LN">1374</FONT><A NAME="1374"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Class implementing the FP-growth algorithm for finding"</FONT> +
<FONT ID="LN">1375</FONT><A NAME="1375"></A>            <FONT ID="StringLiteral">" large item sets without candidate generation. Iteratively"</FONT> +
<FONT ID="LN">1376</FONT><A NAME="1376"></A>            <FONT ID="StringLiteral">" reduces the minimum support until it finds the required"</FONT> +
<FONT ID="LN">1377</FONT><A NAME="1377"></A>            <FONT ID="StringLiteral">" number of rules with the given minimum metric."</FONT> +
<FONT ID="LN">1378</FONT><A NAME="1378"></A>            <FONT ID="StringLiteral">" For more information see:\n\n"</FONT> +
<FONT ID="LN">1379</FONT><A NAME="1379"></A>            getTechnicalInformation().toString();
<FONT ID="LN">1380</FONT><A NAME="1380"></A>  }
<FONT ID="LN">1381</FONT><A NAME="1381"></A>  
<FONT ID="LN">1382</FONT><A NAME="1382"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1383</FONT><A NAME="1383"></A>   * Returns an instance of a TechnicalInformation object, containing 
<FONT ID="LN">1384</FONT><A NAME="1384"></A>   * detailed information about the technical background of this class,
<FONT ID="LN">1385</FONT><A NAME="1385"></A>   * e.g., paper reference or book this class is based on.
<FONT ID="LN">1386</FONT><A NAME="1386"></A>   * 
<FONT ID="LN">1387</FONT><A NAME="1387"></A>   * @return the technical information about this class
<FONT ID="LN">1388</FONT><A NAME="1388"></A>   */</FONT>
<FONT ID="LN">1389</FONT><A NAME="1389"></A>  <FONT ID="Public">public</FONT> <A HREF="../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A> getTechnicalInformation() {
<FONT ID="LN">1390</FONT><A NAME="1390"></A>    <A HREF="../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A>        result;
<FONT ID="LN">1391</FONT><A NAME="1391"></A>    
<FONT ID="LN">1392</FONT><A NAME="1392"></A>    result = <FONT ID="New">new</FONT> <A HREF="../../weka/core/TechnicalInformation.java.html">TechnicalInformation</A>(Type.INPROCEEDINGS);
<FONT ID="LN">1393</FONT><A NAME="1393"></A>    result.setValue(Field.AUTHOR, <FONT ID="StringLiteral">"J. Han and J.Pei and Y. Yin"</FONT>);
<FONT ID="LN">1394</FONT><A NAME="1394"></A>    result.setValue(Field.TITLE, <FONT ID="StringLiteral">"Mining frequent patterns without candidate generation"</FONT>);
<FONT ID="LN">1395</FONT><A NAME="1395"></A>    result.setValue(Field.BOOKTITLE, <FONT ID="StringLiteral">"Proceedings of the 2000 ACM-SIGMID International"</FONT> +
<FONT ID="LN">1396</FONT><A NAME="1396"></A>            <FONT ID="StringLiteral">" Conference on Management of Data"</FONT>);
<FONT ID="LN">1397</FONT><A NAME="1397"></A>    result.setValue(Field.YEAR, <FONT ID="StringLiteral">"2000"</FONT>);
<FONT ID="LN">1398</FONT><A NAME="1398"></A>    result.setValue(Field.PAGES, <FONT ID="StringLiteral">"1-12"</FONT>);
<FONT ID="LN">1399</FONT><A NAME="1399"></A>    
<FONT ID="LN">1400</FONT><A NAME="1400"></A>    <FONT ID="Return">return</FONT> result;
<FONT ID="LN">1401</FONT><A NAME="1401"></A>  }
<FONT ID="LN">1402</FONT><A NAME="1402"></A>  
<FONT ID="LN">1403</FONT><A NAME="1403"></A>  
<FONT ID="LN">1404</FONT><A NAME="1404"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1405</FONT><A NAME="1405"></A>   * Get the singleton items in the data
<FONT ID="LN">1406</FONT><A NAME="1406"></A>   * 
<FONT ID="LN">1407</FONT><A NAME="1407"></A>   * @param data the Instances to process
<FONT ID="LN">1408</FONT><A NAME="1408"></A>   * @return a list of singleton item sets
<FONT ID="LN">1409</FONT><A NAME="1409"></A>   * @throws Exception if the singletons can't be found for some reason
<FONT ID="LN">1410</FONT><A NAME="1410"></A>   */</FONT>
<FONT ID="LN">1411</FONT><A NAME="1411"></A>  <FONT ID="Protected">protected</FONT> ArrayList&lt;BinaryItem&gt; getSingletons(<A HREF="../../weka/core/Instances.java.html">Instances</A> data) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">1412</FONT><A NAME="1412"></A>    ArrayList&lt;BinaryItem&gt; singletons = <FONT ID="New">new</FONT> ArrayList&lt;BinaryItem&gt;();
<FONT ID="LN">1413</FONT><A NAME="1413"></A>    
<FONT ID="LN">1414</FONT><A NAME="1414"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; data.numAttributes(); i++) {
<FONT ID="LN">1415</FONT><A NAME="1415"></A>      singletons.add(<FONT ID="New">new</FONT> BinaryItem(data.attribute(i), m_positiveIndex - <FONT ID="IntegerLiteral">1</FONT>));
<FONT ID="LN">1416</FONT><A NAME="1416"></A>    }
<FONT ID="LN">1417</FONT><A NAME="1417"></A>    
<FONT ID="LN">1418</FONT><A NAME="1418"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; data.numInstances(); i++) {
<FONT ID="LN">1419</FONT><A NAME="1419"></A>      <A HREF="../../weka/core/Instance.java.html">Instance</A> current = data.instance(i);
<FONT ID="LN">1420</FONT><A NAME="1420"></A>      <FONT ID="If">if</FONT> (current <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../weka/core/SparseInstance.java.html">SparseInstance</A>) {
<FONT ID="LN">1421</FONT><A NAME="1421"></A>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; current.numValues(); j++) {
<FONT ID="LN">1422</FONT><A NAME="1422"></A>          <FONT ID="Int">int</FONT> attIndex = current.index(j);
<FONT ID="LN">1423</FONT><A NAME="1423"></A>          singletons.get(attIndex).increaseFrequency();
<FONT ID="LN">1424</FONT><A NAME="1424"></A>        }
<FONT ID="LN">1425</FONT><A NAME="1425"></A>      } <FONT ID="Else">else</FONT> {
<FONT ID="LN">1426</FONT><A NAME="1426"></A>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; data.numAttributes(); j++) {
<FONT ID="LN">1427</FONT><A NAME="1427"></A>          <FONT ID="If">if</FONT> (!current.isMissing(j)) {
<FONT ID="LN">1428</FONT><A NAME="1428"></A>            <FONT ID="If">if</FONT> (current.attribute(j).numValues() == <FONT ID="IntegerLiteral">1</FONT> 
<FONT ID="LN">1429</FONT><A NAME="1429"></A>                || current.value(j) == m_positiveIndex - <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1430</FONT><A NAME="1430"></A>              singletons.get(j).increaseFrequency();
<FONT ID="LN">1431</FONT><A NAME="1431"></A>            }
<FONT ID="LN">1432</FONT><A NAME="1432"></A>          }
<FONT ID="LN">1433</FONT><A NAME="1433"></A>        }
<FONT ID="LN">1434</FONT><A NAME="1434"></A>      }
<FONT ID="LN">1435</FONT><A NAME="1435"></A>    }
<FONT ID="LN">1436</FONT><A NAME="1436"></A>    
<FONT ID="LN">1437</FONT><A NAME="1437"></A>    <FONT ID="Return">return</FONT> singletons;
<FONT ID="LN">1438</FONT><A NAME="1438"></A>  }
<FONT ID="LN">1439</FONT><A NAME="1439"></A>  
<FONT ID="LN">1440</FONT><A NAME="1440"></A>  <FONT ID="MultiLineComment">/*protected ArrayList&lt;BinaryItem&gt; getFrequent(ArrayList&lt;BinaryItem&gt; items, int minSupport) {
<FONT ID="LN">1441</FONT><A NAME="1441"></A>    ArrayList&lt;BinaryItem&gt; frequent = new ArrayList&lt;BinaryItem&gt;();
<FONT ID="LN">1442</FONT><A NAME="1442"></A>    for (BinaryItem b : items) {
<FONT ID="LN">1443</FONT><A NAME="1443"></A>      if (b.getFrequency() &gt; minSupport) {
<FONT ID="LN">1444</FONT><A NAME="1444"></A>        frequent.add(b);
<FONT ID="LN">1445</FONT><A NAME="1445"></A>      }
<FONT ID="LN">1446</FONT><A NAME="1446"></A>    }
<FONT ID="LN">1447</FONT><A NAME="1447"></A>    
<FONT ID="LN">1448</FONT><A NAME="1448"></A>    // sort in descending order of support
<FONT ID="LN">1449</FONT><A NAME="1449"></A>    Collections.sort(frequent);
<FONT ID="LN">1450</FONT><A NAME="1450"></A>    return frequent;
<FONT ID="LN">1451</FONT><A NAME="1451"></A>  } */</FONT>
<FONT ID="LN">1452</FONT><A NAME="1452"></A>  
<FONT ID="LN">1453</FONT><A NAME="1453"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1454</FONT><A NAME="1454"></A>   * Construct the frequent pattern tree by inserting each transaction
<FONT ID="LN">1455</FONT><A NAME="1455"></A>   * in the data into the tree. Only those items from each transaction that
<FONT ID="LN">1456</FONT><A NAME="1456"></A>   * meet the minimum support threshold are inserted.
<FONT ID="LN">1457</FONT><A NAME="1457"></A>   * 
<FONT ID="LN">1458</FONT><A NAME="1458"></A>   * @param singletons the singleton item sets
<FONT ID="LN">1459</FONT><A NAME="1459"></A>   * @param data the Instances containing the transactions
<FONT ID="LN">1460</FONT><A NAME="1460"></A>   * @param minSupport the minimum support
<FONT ID="LN">1461</FONT><A NAME="1461"></A>   * @return the root of the tree
<FONT ID="LN">1462</FONT><A NAME="1462"></A>   */</FONT>
<FONT ID="LN">1463</FONT><A NAME="1463"></A>  <FONT ID="Protected">protected</FONT> FPTreeRoot buildFPTree(ArrayList&lt;BinaryItem&gt; singletons, 
<FONT ID="LN">1464</FONT><A NAME="1464"></A>      <A HREF="../../weka/core/Instances.java.html">Instances</A> data, <FONT ID="Int">int</FONT> minSupport) {
<FONT ID="LN">1465</FONT><A NAME="1465"></A>    
<FONT ID="LN">1466</FONT><A NAME="1466"></A>    FPTreeRoot tree = <FONT ID="New">new</FONT> FPTreeRoot();
<FONT ID="LN">1467</FONT><A NAME="1467"></A>   
<FONT ID="LN">1468</FONT><A NAME="1468"></A>    <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> i = <FONT ID="IntegerLiteral">0</FONT>; i &lt; data.numInstances(); i++) {
<FONT ID="LN">1469</FONT><A NAME="1469"></A>      <A HREF="../../weka/core/Instance.java.html">Instance</A> current = data.instance(i);
<FONT ID="LN">1470</FONT><A NAME="1470"></A>      ArrayList&lt;BinaryItem&gt; transaction = <FONT ID="New">new</FONT> ArrayList&lt;BinaryItem&gt;();
<FONT ID="LN">1471</FONT><A NAME="1471"></A>      <FONT ID="If">if</FONT> (current <FONT ID="InstanceOf">instanceof</FONT> <A HREF="../../weka/core/SparseInstance.java.html">SparseInstance</A>) {
<FONT ID="LN">1472</FONT><A NAME="1472"></A>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; current.numValues(); j++) {
<FONT ID="LN">1473</FONT><A NAME="1473"></A>          <FONT ID="Int">int</FONT> attIndex = current.index(j);
<FONT ID="LN">1474</FONT><A NAME="1474"></A>          <FONT ID="If">if</FONT> (singletons.get(attIndex).getFrequency() &gt;= minSupport) {
<FONT ID="LN">1475</FONT><A NAME="1475"></A>            transaction.add(singletons.get(attIndex));
<FONT ID="LN">1476</FONT><A NAME="1476"></A>          }
<FONT ID="LN">1477</FONT><A NAME="1477"></A>        }
<FONT ID="LN">1478</FONT><A NAME="1478"></A>        Collections.sort(transaction);
<FONT ID="LN">1479</FONT><A NAME="1479"></A>        tree.addItemSet(transaction, <FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">1480</FONT><A NAME="1480"></A>      } <FONT ID="Else">else</FONT> {
<FONT ID="LN">1481</FONT><A NAME="1481"></A>        <FONT ID="For">for</FONT> (<FONT ID="Int">int</FONT> j = <FONT ID="IntegerLiteral">0</FONT>; j &lt; data.numAttributes(); j++) {
<FONT ID="LN">1482</FONT><A NAME="1482"></A>          <FONT ID="If">if</FONT> (!current.isMissing(j)) {
<FONT ID="LN">1483</FONT><A NAME="1483"></A>            <FONT ID="If">if</FONT> (current.attribute(j).numValues() == <FONT ID="IntegerLiteral">1</FONT> 
<FONT ID="LN">1484</FONT><A NAME="1484"></A>                || current.value(j) == m_positiveIndex - <FONT ID="IntegerLiteral">1</FONT>) {
<FONT ID="LN">1485</FONT><A NAME="1485"></A>              <FONT ID="If">if</FONT> (singletons.get(j).getFrequency() &gt;= minSupport) {
<FONT ID="LN">1486</FONT><A NAME="1486"></A>                transaction.add(singletons.get(j));
<FONT ID="LN">1487</FONT><A NAME="1487"></A>              }
<FONT ID="LN">1488</FONT><A NAME="1488"></A>            }
<FONT ID="LN">1489</FONT><A NAME="1489"></A>          }
<FONT ID="LN">1490</FONT><A NAME="1490"></A>        }
<FONT ID="LN">1491</FONT><A NAME="1491"></A>        Collections.sort(transaction);
<FONT ID="LN">1492</FONT><A NAME="1492"></A>        tree.addItemSet(transaction, <FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">1493</FONT><A NAME="1493"></A>      }
<FONT ID="LN">1494</FONT><A NAME="1494"></A>    }
<FONT ID="LN">1495</FONT><A NAME="1495"></A>    
<FONT ID="LN">1496</FONT><A NAME="1496"></A>    <FONT ID="Return">return</FONT> tree;
<FONT ID="LN">1497</FONT><A NAME="1497"></A>  }
<FONT ID="LN">1498</FONT><A NAME="1498"></A>  
<FONT ID="LN">1499</FONT><A NAME="1499"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1500</FONT><A NAME="1500"></A>   * Find large item sets in the FP-tree.
<FONT ID="LN">1501</FONT><A NAME="1501"></A>   * 
<FONT ID="LN">1502</FONT><A NAME="1502"></A>   * @param tree the root of the tree to mine
<FONT ID="LN">1503</FONT><A NAME="1503"></A>   * @param largeItemSets holds the large item sets found
<FONT ID="LN">1504</FONT><A NAME="1504"></A>   * @param recursionLevel the recursion level for the current projected
<FONT ID="LN">1505</FONT><A NAME="1505"></A>   * counts
<FONT ID="LN">1506</FONT><A NAME="1506"></A>   * @param conditionalItems the current set of items that the current
<FONT ID="LN">1507</FONT><A NAME="1507"></A>   * (projected) tree is conditional on
<FONT ID="LN">1508</FONT><A NAME="1508"></A>   * @param minSupport the minimum acceptable support
<FONT ID="LN">1509</FONT><A NAME="1509"></A>   */</FONT>
<FONT ID="LN">1510</FONT><A NAME="1510"></A>  <FONT ID="Protected">protected</FONT> <FONT ID="Void">void</FONT> mineTree(FPTreeRoot tree, FrequentItemSets largeItemSets, 
<FONT ID="LN">1511</FONT><A NAME="1511"></A>      <FONT ID="Int">int</FONT> recursionLevel, FrequentBinaryItemSet conditionalItems, <FONT ID="Int">int</FONT> minSupport) {
<FONT ID="LN">1512</FONT><A NAME="1512"></A>    
<FONT ID="LN">1513</FONT><A NAME="1513"></A>    <FONT ID="If">if</FONT> (!tree.isEmpty(recursionLevel)) {
<FONT ID="LN">1514</FONT><A NAME="1514"></A>      <FONT ID="If">if</FONT> (m_maxItems &gt; <FONT ID="IntegerLiteral">0</FONT> &amp;&amp; recursionLevel &gt;= m_maxItems) {
<FONT ID="LN">1515</FONT><A NAME="1515"></A>        <FONT ID="SingleLineComment">// don't mine any further
<FONT ID="LN">1516</FONT><A NAME="1516"></A></FONT>        <FONT ID="Return">return</FONT>;
<FONT ID="LN">1517</FONT><A NAME="1517"></A>      }
<FONT ID="LN">1518</FONT><A NAME="1518"></A>      
<FONT ID="LN">1519</FONT><A NAME="1519"></A>      Map&lt;BinaryItem, FPTreeRoot.Header&gt; headerTable = tree.getHeaderTable();
<FONT ID="LN">1520</FONT><A NAME="1520"></A>      Set&lt;BinaryItem&gt; keys = headerTable.keySet();
<FONT ID="LN">1521</FONT><A NAME="1521"></A><FONT ID="SingleLineComment">//      System.err.println("Number of freq item sets collected " + largeItemSets.size());
<FONT ID="LN">1522</FONT><A NAME="1522"></A></FONT>      Iterator&lt;BinaryItem&gt; i = keys.iterator();
<FONT ID="LN">1523</FONT><A NAME="1523"></A>      <FONT ID="While">while</FONT> (i.hasNext()) {
<FONT ID="LN">1524</FONT><A NAME="1524"></A>        BinaryItem item = i.next();
<FONT ID="LN">1525</FONT><A NAME="1525"></A>        FPTreeRoot.Header itemHeader = headerTable.get(item);
<FONT ID="LN">1526</FONT><A NAME="1526"></A>        
<FONT ID="LN">1527</FONT><A NAME="1527"></A>        <FONT ID="SingleLineComment">// check for minimum support at this level
<FONT ID="LN">1528</FONT><A NAME="1528"></A></FONT>        <FONT ID="Int">int</FONT> support = itemHeader.getProjectedCounts().getCount(recursionLevel);
<FONT ID="LN">1529</FONT><A NAME="1529"></A>        <FONT ID="If">if</FONT> (support &gt;= minSupport) {          
<FONT ID="LN">1530</FONT><A NAME="1530"></A>          <FONT ID="SingleLineComment">// process header list at this recursion level
<FONT ID="LN">1531</FONT><A NAME="1531"></A></FONT>          <FONT ID="For">for</FONT> (FPTreeNode n : itemHeader.getHeaderList()) {
<FONT ID="LN">1532</FONT><A NAME="1532"></A>            <FONT ID="SingleLineComment">// push count up path to root
<FONT ID="LN">1533</FONT><A NAME="1533"></A></FONT>            <FONT ID="Int">int</FONT> currentCount = n.getProjectedCount(recursionLevel);
<FONT ID="LN">1534</FONT><A NAME="1534"></A>            <FONT ID="If">if</FONT> (currentCount &gt; <FONT ID="IntegerLiteral">0</FONT>) {                            
<FONT ID="LN">1535</FONT><A NAME="1535"></A>              FPTreeNode temp = n.getParent();
<FONT ID="LN">1536</FONT><A NAME="1536"></A>              <FONT ID="While">while</FONT> (temp != tree) {
<FONT ID="LN">1537</FONT><A NAME="1537"></A>                <FONT ID="SingleLineComment">// set/increase for the node
<FONT ID="LN">1538</FONT><A NAME="1538"></A></FONT>                temp.increaseProjectedCount(recursionLevel + <FONT ID="IntegerLiteral">1</FONT>, currentCount);
<FONT ID="LN">1539</FONT><A NAME="1539"></A>
<FONT ID="LN">1540</FONT><A NAME="1540"></A>                <FONT ID="SingleLineComment">// set/increase for the header table
<FONT ID="LN">1541</FONT><A NAME="1541"></A></FONT>                headerTable.get(temp.getItem()).
<FONT ID="LN">1542</FONT><A NAME="1542"></A>                getProjectedCounts().increaseCount(recursionLevel + <FONT ID="IntegerLiteral">1</FONT>, currentCount);
<FONT ID="LN">1543</FONT><A NAME="1543"></A>                
<FONT ID="LN">1544</FONT><A NAME="1544"></A>                temp = temp.getParent();
<FONT ID="LN">1545</FONT><A NAME="1545"></A>              }
<FONT ID="LN">1546</FONT><A NAME="1546"></A>            }
<FONT ID="LN">1547</FONT><A NAME="1547"></A>          }
<FONT ID="LN">1548</FONT><A NAME="1548"></A>          
<FONT ID="LN">1549</FONT><A NAME="1549"></A>          FrequentBinaryItemSet newConditional = 
<FONT ID="LN">1550</FONT><A NAME="1550"></A>            (FrequentBinaryItemSet) conditionalItems.clone();
<FONT ID="LN">1551</FONT><A NAME="1551"></A>          
<FONT ID="LN">1552</FONT><A NAME="1552"></A>          <FONT ID="SingleLineComment">// this item gets added to the conditional items
<FONT ID="LN">1553</FONT><A NAME="1553"></A></FONT>          newConditional.addItem(item);
<FONT ID="LN">1554</FONT><A NAME="1554"></A>          newConditional.setSupport(support);
<FONT ID="LN">1555</FONT><A NAME="1555"></A>          
<FONT ID="LN">1556</FONT><A NAME="1556"></A>          <FONT ID="SingleLineComment">// now add this conditional item set to the list of large item sets
<FONT ID="LN">1557</FONT><A NAME="1557"></A></FONT>          largeItemSets.addItemSet(newConditional);
<FONT ID="LN">1558</FONT><A NAME="1558"></A>          
<FONT ID="LN">1559</FONT><A NAME="1559"></A>          <FONT ID="SingleLineComment">// now recursively process the new tree
<FONT ID="LN">1560</FONT><A NAME="1560"></A></FONT>          mineTree(tree, largeItemSets, recursionLevel + <FONT ID="IntegerLiteral">1</FONT>, newConditional,
<FONT ID="LN">1561</FONT><A NAME="1561"></A>              minSupport);
<FONT ID="LN">1562</FONT><A NAME="1562"></A>          
<FONT ID="LN">1563</FONT><A NAME="1563"></A>          <FONT ID="SingleLineComment">// reverse the propagated counts
<FONT ID="LN">1564</FONT><A NAME="1564"></A></FONT>          <FONT ID="For">for</FONT> (FPTreeNode n : itemHeader.getHeaderList()) {
<FONT ID="LN">1565</FONT><A NAME="1565"></A>            FPTreeNode temp = n.getParent();
<FONT ID="LN">1566</FONT><A NAME="1566"></A>            <FONT ID="While">while</FONT> (temp != tree) {
<FONT ID="LN">1567</FONT><A NAME="1567"></A>              temp.removeProjectedCount(recursionLevel + <FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">1568</FONT><A NAME="1568"></A>              temp = temp.getParent();
<FONT ID="LN">1569</FONT><A NAME="1569"></A>            }
<FONT ID="LN">1570</FONT><A NAME="1570"></A>          }
<FONT ID="LN">1571</FONT><A NAME="1571"></A>          
<FONT ID="LN">1572</FONT><A NAME="1572"></A>          <FONT ID="SingleLineComment">// reverse the propagated counts in the header list
<FONT ID="LN">1573</FONT><A NAME="1573"></A></FONT>          <FONT ID="SingleLineComment">// at this recursion level
<FONT ID="LN">1574</FONT><A NAME="1574"></A></FONT>          <FONT ID="For">for</FONT> (FPTreeRoot.Header h : headerTable.values()) {
<FONT ID="LN">1575</FONT><A NAME="1575"></A>            h.getProjectedCounts().removeCount(recursionLevel + <FONT ID="IntegerLiteral">1</FONT>);
<FONT ID="LN">1576</FONT><A NAME="1576"></A>          }          
<FONT ID="LN">1577</FONT><A NAME="1577"></A>        }
<FONT ID="LN">1578</FONT><A NAME="1578"></A>      }
<FONT ID="LN">1579</FONT><A NAME="1579"></A>    }
<FONT ID="LN">1580</FONT><A NAME="1580"></A>  }
<FONT ID="LN">1581</FONT><A NAME="1581"></A>  
<FONT ID="LN">1582</FONT><A NAME="1582"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1583</FONT><A NAME="1583"></A>   * Construct a new FPGrowth object.
<FONT ID="LN">1584</FONT><A NAME="1584"></A>   */</FONT>
<FONT ID="LN">1585</FONT><A NAME="1585"></A>  <FONT ID="Public">public</FONT> FPGrowth() {
<FONT ID="LN">1586</FONT><A NAME="1586"></A>    resetOptions();
<FONT ID="LN">1587</FONT><A NAME="1587"></A>  }
<FONT ID="LN">1588</FONT><A NAME="1588"></A>  
<FONT ID="LN">1589</FONT><A NAME="1589"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1590</FONT><A NAME="1590"></A>   * Reset all options to their default values.
<FONT ID="LN">1591</FONT><A NAME="1591"></A>   */</FONT>
<FONT ID="LN">1592</FONT><A NAME="1592"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> resetOptions() {
<FONT ID="LN">1593</FONT><A NAME="1593"></A>    m_delta = <FONT ID="FloatPointLiteral">0.05</FONT>;
<FONT ID="LN">1594</FONT><A NAME="1594"></A>    m_metricThreshold = <FONT ID="FloatPointLiteral">0.9</FONT>;
<FONT ID="LN">1595</FONT><A NAME="1595"></A>    m_numRulesToFind = <FONT ID="IntegerLiteral">10</FONT>;
<FONT ID="LN">1596</FONT><A NAME="1596"></A>    m_lowerBoundMinSupport = <FONT ID="FloatPointLiteral">0.1</FONT>;
<FONT ID="LN">1597</FONT><A NAME="1597"></A>    m_upperBoundMinSupport = <FONT ID="FloatPointLiteral">1.0</FONT>;
<FONT ID="LN">1598</FONT><A NAME="1598"></A><FONT ID="SingleLineComment">//    m_minSupport = -1;
<FONT ID="LN">1599</FONT><A NAME="1599"></A></FONT>    m_positiveIndex = <FONT ID="IntegerLiteral">2</FONT>;
<FONT ID="LN">1600</FONT><A NAME="1600"></A>  }
<FONT ID="LN">1601</FONT><A NAME="1601"></A>  
<FONT ID="LN">1602</FONT><A NAME="1602"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1603</FONT><A NAME="1603"></A>   * Tip text for this property suitable for displaying
<FONT ID="LN">1604</FONT><A NAME="1604"></A>   * in the GUI.
<FONT ID="LN">1605</FONT><A NAME="1605"></A>   * 
<FONT ID="LN">1606</FONT><A NAME="1606"></A>   * @return the tip text for this property.
<FONT ID="LN">1607</FONT><A NAME="1607"></A>   */</FONT>
<FONT ID="LN">1608</FONT><A NAME="1608"></A>  <FONT ID="Public">public</FONT> String positiveIndexTipText() {
<FONT ID="LN">1609</FONT><A NAME="1609"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Set the index of binary valued attributes that is to be considered"</FONT> +
<FONT ID="LN">1610</FONT><A NAME="1610"></A>            <FONT ID="StringLiteral">" the positive index. Has no effect for sparse data (in this case"</FONT> +
<FONT ID="LN">1611</FONT><A NAME="1611"></A>            <FONT ID="StringLiteral">" the first index (i.e. non-zero values) is always treated as "</FONT> +
<FONT ID="LN">1612</FONT><A NAME="1612"></A>            <FONT ID="StringLiteral">" positive. Also has no effect for unary valued attributes (i.e."</FONT> +
<FONT ID="LN">1613</FONT><A NAME="1613"></A>            <FONT ID="StringLiteral">" when using the Weka Apriori-style format for market basket data,"</FONT> +
<FONT ID="LN">1614</FONT><A NAME="1614"></A>            <FONT ID="StringLiteral">" which uses missing value \"?\" to indicate"</FONT> +
<FONT ID="LN">1615</FONT><A NAME="1615"></A>            <FONT ID="StringLiteral">" absence of an item."</FONT>;
<FONT ID="LN">1616</FONT><A NAME="1616"></A>  }
<FONT ID="LN">1617</FONT><A NAME="1617"></A>  
<FONT ID="LN">1618</FONT><A NAME="1618"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1619</FONT><A NAME="1619"></A>   * Set the index of the attribute value to consider as positive
<FONT ID="LN">1620</FONT><A NAME="1620"></A>   * for binary attributes in normal dense instances. Index 1 is always
<FONT ID="LN">1621</FONT><A NAME="1621"></A>   * used for sparse instances.
<FONT ID="LN">1622</FONT><A NAME="1622"></A>   * 
<FONT ID="LN">1623</FONT><A NAME="1623"></A>   * @param index the index to use for positive values in binary attributes.
<FONT ID="LN">1624</FONT><A NAME="1624"></A>   */</FONT>
<FONT ID="LN">1625</FONT><A NAME="1625"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setPositiveIndex(<FONT ID="Int">int</FONT> index) {
<FONT ID="LN">1626</FONT><A NAME="1626"></A>    m_positiveIndex = index;
<FONT ID="LN">1627</FONT><A NAME="1627"></A>  }
<FONT ID="LN">1628</FONT><A NAME="1628"></A>  
<FONT ID="LN">1629</FONT><A NAME="1629"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1630</FONT><A NAME="1630"></A>   * Get the index of the attribute value to consider as positive
<FONT ID="LN">1631</FONT><A NAME="1631"></A>   * for binary attributes in normal dense instances. Index 1 is always
<FONT ID="LN">1632</FONT><A NAME="1632"></A>   * used for sparse instances.
<FONT ID="LN">1633</FONT><A NAME="1633"></A>   * 
<FONT ID="LN">1634</FONT><A NAME="1634"></A>   * @return the index to use for positive values in binary attributes.
<FONT ID="LN">1635</FONT><A NAME="1635"></A>   */</FONT>
<FONT ID="LN">1636</FONT><A NAME="1636"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getPositiveIndex() {
<FONT ID="LN">1637</FONT><A NAME="1637"></A>    <FONT ID="Return">return</FONT> m_positiveIndex;
<FONT ID="LN">1638</FONT><A NAME="1638"></A>  }
<FONT ID="LN">1639</FONT><A NAME="1639"></A>  
<FONT ID="LN">1640</FONT><A NAME="1640"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1641</FONT><A NAME="1641"></A>   * Set the desired number of rules to find.
<FONT ID="LN">1642</FONT><A NAME="1642"></A>   * 
<FONT ID="LN">1643</FONT><A NAME="1643"></A>   * @param numR the number of rules to find.
<FONT ID="LN">1644</FONT><A NAME="1644"></A>   */</FONT>
<FONT ID="LN">1645</FONT><A NAME="1645"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setNumRulesToFind(<FONT ID="Int">int</FONT> numR) {
<FONT ID="LN">1646</FONT><A NAME="1646"></A>    m_numRulesToFind = numR;
<FONT ID="LN">1647</FONT><A NAME="1647"></A>  }
<FONT ID="LN">1648</FONT><A NAME="1648"></A>  
<FONT ID="LN">1649</FONT><A NAME="1649"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1650</FONT><A NAME="1650"></A>   * Get the number of rules to find.
<FONT ID="LN">1651</FONT><A NAME="1651"></A>   * 
<FONT ID="LN">1652</FONT><A NAME="1652"></A>   * @return the number of rules to find.
<FONT ID="LN">1653</FONT><A NAME="1653"></A>   */</FONT>
<FONT ID="LN">1654</FONT><A NAME="1654"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getNumRulesToFind() {
<FONT ID="LN">1655</FONT><A NAME="1655"></A>    <FONT ID="Return">return</FONT> m_numRulesToFind;
<FONT ID="LN">1656</FONT><A NAME="1656"></A>  }
<FONT ID="LN">1657</FONT><A NAME="1657"></A>  
<FONT ID="LN">1658</FONT><A NAME="1658"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1659</FONT><A NAME="1659"></A>   * Tip text for this property suitable for displaying
<FONT ID="LN">1660</FONT><A NAME="1660"></A>   * in the GUI.
<FONT ID="LN">1661</FONT><A NAME="1661"></A>   * 
<FONT ID="LN">1662</FONT><A NAME="1662"></A>   * @return the tip text for this property.
<FONT ID="LN">1663</FONT><A NAME="1663"></A>   */</FONT>
<FONT ID="LN">1664</FONT><A NAME="1664"></A>  <FONT ID="Public">public</FONT> String numRulesToFindTipText() {
<FONT ID="LN">1665</FONT><A NAME="1665"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The number of rules to output"</FONT>;
<FONT ID="LN">1666</FONT><A NAME="1666"></A>  }
<FONT ID="LN">1667</FONT><A NAME="1667"></A>  
<FONT ID="LN">1668</FONT><A NAME="1668"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1669</FONT><A NAME="1669"></A>   * Set the metric type to use.
<FONT ID="LN">1670</FONT><A NAME="1670"></A>   * 
<FONT ID="LN">1671</FONT><A NAME="1671"></A>   * @param d the metric type
<FONT ID="LN">1672</FONT><A NAME="1672"></A>   */</FONT>
<FONT ID="LN">1673</FONT><A NAME="1673"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setMetricType(<A HREF="../../weka/core/SelectedTag.java.html">SelectedTag</A> d) {
<FONT ID="LN">1674</FONT><A NAME="1674"></A>    <FONT ID="Int">int</FONT> ordinal =  d.getSelectedTag().getID();
<FONT ID="LN">1675</FONT><A NAME="1675"></A>    <FONT ID="For">for</FONT> (AssociationRule.METRIC_TYPE m : AssociationRule.METRIC_TYPE.values()) {
<FONT ID="LN">1676</FONT><A NAME="1676"></A>      <FONT ID="If">if</FONT> (m.ordinal() == ordinal) {
<FONT ID="LN">1677</FONT><A NAME="1677"></A>        m_metric = m;
<FONT ID="LN">1678</FONT><A NAME="1678"></A>        <FONT ID="Break">break</FONT>;
<FONT ID="LN">1679</FONT><A NAME="1679"></A>      }
<FONT ID="LN">1680</FONT><A NAME="1680"></A>    }
<FONT ID="LN">1681</FONT><A NAME="1681"></A>  }
<FONT ID="LN">1682</FONT><A NAME="1682"></A>  
<FONT ID="LN">1683</FONT><A NAME="1683"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1684</FONT><A NAME="1684"></A>   * Set the maximum number of items to include in large items sets.
<FONT ID="LN">1685</FONT><A NAME="1685"></A>   * 
<FONT ID="LN">1686</FONT><A NAME="1686"></A>   * @param max the maxim number of items to include in large item sets.
<FONT ID="LN">1687</FONT><A NAME="1687"></A>   */</FONT>
<FONT ID="LN">1688</FONT><A NAME="1688"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setMaxNumberOfItems(<FONT ID="Int">int</FONT> max) {
<FONT ID="LN">1689</FONT><A NAME="1689"></A>    m_maxItems = max;
<FONT ID="LN">1690</FONT><A NAME="1690"></A>  }
<FONT ID="LN">1691</FONT><A NAME="1691"></A>  
<FONT ID="LN">1692</FONT><A NAME="1692"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1693</FONT><A NAME="1693"></A>   * Gets the maximum number of items to be included in large item sets.
<FONT ID="LN">1694</FONT><A NAME="1694"></A>   * 
<FONT ID="LN">1695</FONT><A NAME="1695"></A>   * @return the maximum number of items to be included in large items sets.
<FONT ID="LN">1696</FONT><A NAME="1696"></A>   */</FONT>
<FONT ID="LN">1697</FONT><A NAME="1697"></A>  <FONT ID="Public">public</FONT> <FONT ID="Int">int</FONT> getMaxNumberOfItems() {
<FONT ID="LN">1698</FONT><A NAME="1698"></A>    <FONT ID="Return">return</FONT> m_maxItems;
<FONT ID="LN">1699</FONT><A NAME="1699"></A>  }
<FONT ID="LN">1700</FONT><A NAME="1700"></A>  
<FONT ID="LN">1701</FONT><A NAME="1701"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1702</FONT><A NAME="1702"></A>   * Tip text for this property suitable for displaying
<FONT ID="LN">1703</FONT><A NAME="1703"></A>   * in the GUI.
<FONT ID="LN">1704</FONT><A NAME="1704"></A>   * 
<FONT ID="LN">1705</FONT><A NAME="1705"></A>   * @return the tip text for this property.
<FONT ID="LN">1706</FONT><A NAME="1706"></A>   */</FONT>
<FONT ID="LN">1707</FONT><A NAME="1707"></A>  <FONT ID="Public">public</FONT> String maxNumberOfItemsTipText() {
<FONT ID="LN">1708</FONT><A NAME="1708"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"The maximum number of items to include in frequent item sets. -1 "</FONT> +
<FONT ID="LN">1709</FONT><A NAME="1709"></A>            <FONT ID="StringLiteral">"means no limit."</FONT>;
<FONT ID="LN">1710</FONT><A NAME="1710"></A>  }
<FONT ID="LN">1711</FONT><A NAME="1711"></A>  
<FONT ID="LN">1712</FONT><A NAME="1712"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1713</FONT><A NAME="1713"></A>   * Get the metric type to use.
<FONT ID="LN">1714</FONT><A NAME="1714"></A>   * 
<FONT ID="LN">1715</FONT><A NAME="1715"></A>   * @return the metric type to use.
<FONT ID="LN">1716</FONT><A NAME="1716"></A>   */</FONT>
<FONT ID="LN">1717</FONT><A NAME="1717"></A>  <FONT ID="Public">public</FONT> <A HREF="../../weka/core/SelectedTag.java.html">SelectedTag</A> getMetricType() {
<FONT ID="LN">1718</FONT><A NAME="1718"></A>    <FONT ID="Return">return</FONT> <FONT ID="New">new</FONT> <A HREF="../../weka/core/SelectedTag.java.html">SelectedTag</A>(m_metric.ordinal(), AssociationRule.TAGS_SELECTION);
<FONT ID="LN">1719</FONT><A NAME="1719"></A>  }
<FONT ID="LN">1720</FONT><A NAME="1720"></A>  
<FONT ID="LN">1721</FONT><A NAME="1721"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1722</FONT><A NAME="1722"></A>   * Tip text for this property suitable for displaying
<FONT ID="LN">1723</FONT><A NAME="1723"></A>   * in the GUI.
<FONT ID="LN">1724</FONT><A NAME="1724"></A>   * 
<FONT ID="LN">1725</FONT><A NAME="1725"></A>   * @return the tip text for this property.
<FONT ID="LN">1726</FONT><A NAME="1726"></A>   */</FONT>
<FONT ID="LN">1727</FONT><A NAME="1727"></A>  <FONT ID="Public">public</FONT> String metricTypeTipText() {
<FONT ID="LN">1728</FONT><A NAME="1728"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Set the type of metric by which to rank rules. Confidence is "</FONT>
<FONT ID="LN">1729</FONT><A NAME="1729"></A>    +<FONT ID="StringLiteral">"the proportion of the examples covered by the premise that are also "</FONT>
<FONT ID="LN">1730</FONT><A NAME="1730"></A>    +<FONT ID="StringLiteral">"covered by the consequence(Class association rules can only be mined using confidence). Lift is confidence divided by the "</FONT>
<FONT ID="LN">1731</FONT><A NAME="1731"></A>    +<FONT ID="StringLiteral">"proportion of all examples that are covered by the consequence. This "</FONT>
<FONT ID="LN">1732</FONT><A NAME="1732"></A>    +<FONT ID="StringLiteral">"is a measure of the importance of the association that is independent "</FONT>
<FONT ID="LN">1733</FONT><A NAME="1733"></A>    +<FONT ID="StringLiteral">"of support. Leverage is the proportion of additional examples covered "</FONT>
<FONT ID="LN">1734</FONT><A NAME="1734"></A>    +<FONT ID="StringLiteral">"by both the premise and consequence above those expected if the "</FONT>
<FONT ID="LN">1735</FONT><A NAME="1735"></A>    +<FONT ID="StringLiteral">"premise and consequence were independent of each other. The total "</FONT>
<FONT ID="LN">1736</FONT><A NAME="1736"></A>    +<FONT ID="StringLiteral">"number of examples that this represents is presented in brackets "</FONT>
<FONT ID="LN">1737</FONT><A NAME="1737"></A>    +<FONT ID="StringLiteral">"following the leverage. Conviction is "</FONT>
<FONT ID="LN">1738</FONT><A NAME="1738"></A>    +<FONT ID="StringLiteral">"another measure of departure from independence."</FONT>;
<FONT ID="LN">1739</FONT><A NAME="1739"></A>  }
<FONT ID="LN">1740</FONT><A NAME="1740"></A>  
<FONT ID="LN">1741</FONT><A NAME="1741"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1742</FONT><A NAME="1742"></A>   * Returns the tip text for this property
<FONT ID="LN">1743</FONT><A NAME="1743"></A>   * 
<FONT ID="LN">1744</FONT><A NAME="1744"></A>   * @return tip text for this property suitable for
<FONT ID="LN">1745</FONT><A NAME="1745"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">1746</FONT><A NAME="1746"></A>   */</FONT>
<FONT ID="LN">1747</FONT><A NAME="1747"></A>  <FONT ID="Public">public</FONT> String minMetricTipText() {
<FONT ID="LN">1748</FONT><A NAME="1748"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Minimum metric score. Consider only rules with scores higher than "</FONT>
<FONT ID="LN">1749</FONT><A NAME="1749"></A>      +<FONT ID="StringLiteral">"this value."</FONT>;
<FONT ID="LN">1750</FONT><A NAME="1750"></A>  }
<FONT ID="LN">1751</FONT><A NAME="1751"></A>
<FONT ID="LN">1752</FONT><A NAME="1752"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1753</FONT><A NAME="1753"></A>   * Get the value of minConfidence.
<FONT ID="LN">1754</FONT><A NAME="1754"></A>   *
<FONT ID="LN">1755</FONT><A NAME="1755"></A>   * @return Value of minConfidence.
<FONT ID="LN">1756</FONT><A NAME="1756"></A>   */</FONT>
<FONT ID="LN">1757</FONT><A NAME="1757"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getMinMetric() {
<FONT ID="LN">1758</FONT><A NAME="1758"></A>    
<FONT ID="LN">1759</FONT><A NAME="1759"></A>    <FONT ID="Return">return</FONT> m_metricThreshold;
<FONT ID="LN">1760</FONT><A NAME="1760"></A>  }
<FONT ID="LN">1761</FONT><A NAME="1761"></A>  
<FONT ID="LN">1762</FONT><A NAME="1762"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1763</FONT><A NAME="1763"></A>   * Set the value of minConfidence.
<FONT ID="LN">1764</FONT><A NAME="1764"></A>   *
<FONT ID="LN">1765</FONT><A NAME="1765"></A>   * @param v  Value to assign to minConfidence.
<FONT ID="LN">1766</FONT><A NAME="1766"></A>   */</FONT>
<FONT ID="LN">1767</FONT><A NAME="1767"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setMinMetric(<FONT ID="Double">double</FONT> v) {
<FONT ID="LN">1768</FONT><A NAME="1768"></A>    
<FONT ID="LN">1769</FONT><A NAME="1769"></A>    m_metricThreshold = v;
<FONT ID="LN">1770</FONT><A NAME="1770"></A>  }
<FONT ID="LN">1771</FONT><A NAME="1771"></A>  
<FONT ID="LN">1772</FONT><A NAME="1772"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1773</FONT><A NAME="1773"></A>   * Returns the tip text for this property
<FONT ID="LN">1774</FONT><A NAME="1774"></A>   * @return tip text for this property suitable for
<FONT ID="LN">1775</FONT><A NAME="1775"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">1776</FONT><A NAME="1776"></A>   */</FONT>
<FONT ID="LN">1777</FONT><A NAME="1777"></A>  <FONT ID="Public">public</FONT> String deltaTipText() {
<FONT ID="LN">1778</FONT><A NAME="1778"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Iteratively decrease support by this factor. Reduces support "</FONT>
<FONT ID="LN">1779</FONT><A NAME="1779"></A>      +<FONT ID="StringLiteral">"until min support is reached or required number of rules has been "</FONT>
<FONT ID="LN">1780</FONT><A NAME="1780"></A>      +<FONT ID="StringLiteral">"generated."</FONT>;
<FONT ID="LN">1781</FONT><A NAME="1781"></A>  }
<FONT ID="LN">1782</FONT><A NAME="1782"></A>    
<FONT ID="LN">1783</FONT><A NAME="1783"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1784</FONT><A NAME="1784"></A>   * Get the value of delta.
<FONT ID="LN">1785</FONT><A NAME="1785"></A>   *
<FONT ID="LN">1786</FONT><A NAME="1786"></A>   * @return Value of delta.
<FONT ID="LN">1787</FONT><A NAME="1787"></A>   */</FONT>
<FONT ID="LN">1788</FONT><A NAME="1788"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getDelta() {
<FONT ID="LN">1789</FONT><A NAME="1789"></A>    
<FONT ID="LN">1790</FONT><A NAME="1790"></A>    <FONT ID="Return">return</FONT> m_delta;
<FONT ID="LN">1791</FONT><A NAME="1791"></A>  }
<FONT ID="LN">1792</FONT><A NAME="1792"></A>  
<FONT ID="LN">1793</FONT><A NAME="1793"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1794</FONT><A NAME="1794"></A>   * Set the value of delta.
<FONT ID="LN">1795</FONT><A NAME="1795"></A>   *
<FONT ID="LN">1796</FONT><A NAME="1796"></A>   * @param v  Value to assign to delta.
<FONT ID="LN">1797</FONT><A NAME="1797"></A>   */</FONT>
<FONT ID="LN">1798</FONT><A NAME="1798"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setDelta(<FONT ID="Double">double</FONT> v) {
<FONT ID="LN">1799</FONT><A NAME="1799"></A>    
<FONT ID="LN">1800</FONT><A NAME="1800"></A>    m_delta = v;
<FONT ID="LN">1801</FONT><A NAME="1801"></A>  }
<FONT ID="LN">1802</FONT><A NAME="1802"></A>  
<FONT ID="LN">1803</FONT><A NAME="1803"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1804</FONT><A NAME="1804"></A>   * Returns the tip text for this property
<FONT ID="LN">1805</FONT><A NAME="1805"></A>   * @return tip text for this property suitable for
<FONT ID="LN">1806</FONT><A NAME="1806"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">1807</FONT><A NAME="1807"></A>   */</FONT>
<FONT ID="LN">1808</FONT><A NAME="1808"></A>  <FONT ID="Public">public</FONT> String lowerBoundMinSupportTipText() {
<FONT ID="LN">1809</FONT><A NAME="1809"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Lower bound for minimum support."</FONT>;
<FONT ID="LN">1810</FONT><A NAME="1810"></A>  }
<FONT ID="LN">1811</FONT><A NAME="1811"></A>
<FONT ID="LN">1812</FONT><A NAME="1812"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1813</FONT><A NAME="1813"></A>   * Get the value of lowerBoundMinSupport.
<FONT ID="LN">1814</FONT><A NAME="1814"></A>   *
<FONT ID="LN">1815</FONT><A NAME="1815"></A>   * @return Value of lowerBoundMinSupport.
<FONT ID="LN">1816</FONT><A NAME="1816"></A>   */</FONT>
<FONT ID="LN">1817</FONT><A NAME="1817"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getLowerBoundMinSupport() {
<FONT ID="LN">1818</FONT><A NAME="1818"></A>    
<FONT ID="LN">1819</FONT><A NAME="1819"></A>    <FONT ID="Return">return</FONT> m_lowerBoundMinSupport;
<FONT ID="LN">1820</FONT><A NAME="1820"></A>  }
<FONT ID="LN">1821</FONT><A NAME="1821"></A>  
<FONT ID="LN">1822</FONT><A NAME="1822"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1823</FONT><A NAME="1823"></A>   * Set the value of lowerBoundMinSupport.
<FONT ID="LN">1824</FONT><A NAME="1824"></A>   *
<FONT ID="LN">1825</FONT><A NAME="1825"></A>   * @param v  Value to assign to lowerBoundMinSupport.
<FONT ID="LN">1826</FONT><A NAME="1826"></A>   */</FONT>
<FONT ID="LN">1827</FONT><A NAME="1827"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setLowerBoundMinSupport(<FONT ID="Double">double</FONT> v) {
<FONT ID="LN">1828</FONT><A NAME="1828"></A>    
<FONT ID="LN">1829</FONT><A NAME="1829"></A>    m_lowerBoundMinSupport = v;
<FONT ID="LN">1830</FONT><A NAME="1830"></A>  }
<FONT ID="LN">1831</FONT><A NAME="1831"></A>  
<FONT ID="LN">1832</FONT><A NAME="1832"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1833</FONT><A NAME="1833"></A>   * Returns the tip text for this property
<FONT ID="LN">1834</FONT><A NAME="1834"></A>   * @return tip text for this property suitable for
<FONT ID="LN">1835</FONT><A NAME="1835"></A>   * displaying in the explorer/experimenter gui
<FONT ID="LN">1836</FONT><A NAME="1836"></A>   */</FONT>
<FONT ID="LN">1837</FONT><A NAME="1837"></A>  <FONT ID="Public">public</FONT> String upperBoundMinSupportTipText() {
<FONT ID="LN">1838</FONT><A NAME="1838"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Upper bound for minimum support. Start iteratively decreasing "</FONT>
<FONT ID="LN">1839</FONT><A NAME="1839"></A>      +<FONT ID="StringLiteral">"minimum support from this value."</FONT>;
<FONT ID="LN">1840</FONT><A NAME="1840"></A>  }
<FONT ID="LN">1841</FONT><A NAME="1841"></A>
<FONT ID="LN">1842</FONT><A NAME="1842"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1843</FONT><A NAME="1843"></A>   * Get the value of upperBoundMinSupport.
<FONT ID="LN">1844</FONT><A NAME="1844"></A>   *
<FONT ID="LN">1845</FONT><A NAME="1845"></A>   * @return Value of upperBoundMinSupport.
<FONT ID="LN">1846</FONT><A NAME="1846"></A>   */</FONT>
<FONT ID="LN">1847</FONT><A NAME="1847"></A>  <FONT ID="Public">public</FONT> <FONT ID="Double">double</FONT> getUpperBoundMinSupport() {
<FONT ID="LN">1848</FONT><A NAME="1848"></A>    
<FONT ID="LN">1849</FONT><A NAME="1849"></A>    <FONT ID="Return">return</FONT> m_upperBoundMinSupport;
<FONT ID="LN">1850</FONT><A NAME="1850"></A>  }
<FONT ID="LN">1851</FONT><A NAME="1851"></A>  
<FONT ID="LN">1852</FONT><A NAME="1852"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1853</FONT><A NAME="1853"></A>   * Set the value of upperBoundMinSupport.
<FONT ID="LN">1854</FONT><A NAME="1854"></A>   *
<FONT ID="LN">1855</FONT><A NAME="1855"></A>   * @param v  Value to assign to upperBoundMinSupport.
<FONT ID="LN">1856</FONT><A NAME="1856"></A>   */</FONT>
<FONT ID="LN">1857</FONT><A NAME="1857"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setUpperBoundMinSupport(<FONT ID="Double">double</FONT> v) {
<FONT ID="LN">1858</FONT><A NAME="1858"></A>    
<FONT ID="LN">1859</FONT><A NAME="1859"></A>    m_upperBoundMinSupport = v;
<FONT ID="LN">1860</FONT><A NAME="1860"></A>  }
<FONT ID="LN">1861</FONT><A NAME="1861"></A>  
<FONT ID="LN">1862</FONT><A NAME="1862"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1863</FONT><A NAME="1863"></A>   * Tip text for this property suitable for displaying
<FONT ID="LN">1864</FONT><A NAME="1864"></A>   * in the GUI.
<FONT ID="LN">1865</FONT><A NAME="1865"></A>   * 
<FONT ID="LN">1866</FONT><A NAME="1866"></A>   * @return the tip text for this property.
<FONT ID="LN">1867</FONT><A NAME="1867"></A>   */</FONT>
<FONT ID="LN">1868</FONT><A NAME="1868"></A>  <FONT ID="Public">public</FONT> String findAllRulesForSupportLevelTipText() {
<FONT ID="LN">1869</FONT><A NAME="1869"></A>    <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"Find all rules that meet "</FONT> +
<FONT ID="LN">1870</FONT><A NAME="1870"></A>    <FONT ID="StringLiteral">"the lower bound on minimum support and the minimum metric constraint. "</FONT> +
<FONT ID="LN">1871</FONT><A NAME="1871"></A>    <FONT ID="StringLiteral">"Turning this mode on will disable the iterative support reduction "</FONT> +
<FONT ID="LN">1872</FONT><A NAME="1872"></A>    <FONT ID="StringLiteral">"procedure to find the specified number of rules."</FONT>;
<FONT ID="LN">1873</FONT><A NAME="1873"></A>  }
<FONT ID="LN">1874</FONT><A NAME="1874"></A>  
<FONT ID="LN">1875</FONT><A NAME="1875"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1876</FONT><A NAME="1876"></A>   * If true then turn off the iterative support reduction method
<FONT ID="LN">1877</FONT><A NAME="1877"></A>   * of finding x rules that meet the minimum support and metric
<FONT ID="LN">1878</FONT><A NAME="1878"></A>   * thresholds and just return all the rules that meet the
<FONT ID="LN">1879</FONT><A NAME="1879"></A>   * lower bound on minimum support and the minimum metric.
<FONT ID="LN">1880</FONT><A NAME="1880"></A>   * 
<FONT ID="LN">1881</FONT><A NAME="1881"></A>   * @param s true if all rules meeting the lower bound on the support
<FONT ID="LN">1882</FONT><A NAME="1882"></A>   * and minimum metric thresholds are to be found.
<FONT ID="LN">1883</FONT><A NAME="1883"></A>   */</FONT>
<FONT ID="LN">1884</FONT><A NAME="1884"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setFindAllRulesForSupportLevel(<FONT ID="Boolean">boolean</FONT> s) {
<FONT ID="LN">1885</FONT><A NAME="1885"></A>    m_findAllRulesForSupportLevel = s;
<FONT ID="LN">1886</FONT><A NAME="1886"></A>  }
<FONT ID="LN">1887</FONT><A NAME="1887"></A>  
<FONT ID="LN">1888</FONT><A NAME="1888"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1889</FONT><A NAME="1889"></A>   * Get whether all rules meeting the lower bound on min support
<FONT ID="LN">1890</FONT><A NAME="1890"></A>   * and the minimum metric threshold are to be found.
<FONT ID="LN">1891</FONT><A NAME="1891"></A>   * 
<FONT ID="LN">1892</FONT><A NAME="1892"></A>   * @return true if all rules meeting the lower bound on min
<FONT ID="LN">1893</FONT><A NAME="1893"></A>   * support and the min metric threshold are to be found.
<FONT ID="LN">1894</FONT><A NAME="1894"></A>   */</FONT>
<FONT ID="LN">1895</FONT><A NAME="1895"></A>  <FONT ID="Public">public</FONT> <FONT ID="Boolean">boolean</FONT> getFindAllRulesForSupportLevel() {
<FONT ID="LN">1896</FONT><A NAME="1896"></A>    <FONT ID="Return">return</FONT> m_findAllRulesForSupportLevel;
<FONT ID="LN">1897</FONT><A NAME="1897"></A>  }
<FONT ID="LN">1898</FONT><A NAME="1898"></A>  
<FONT ID="LN">1899</FONT><A NAME="1899"></A>  <FONT ID="MultiLineComment">/* public void setMinimumSupport(double minSupp) {
<FONT ID="LN">1900</FONT><A NAME="1900"></A>    m_minSupport = minSupp;
<FONT ID="LN">1901</FONT><A NAME="1901"></A>  }
<FONT ID="LN">1902</FONT><A NAME="1902"></A>  
<FONT ID="LN">1903</FONT><A NAME="1903"></A>  public double getMinimumSupport() {
<FONT ID="LN">1904</FONT><A NAME="1904"></A>    return m_minSupport;
<FONT ID="LN">1905</FONT><A NAME="1905"></A>  } */</FONT>    
<FONT ID="LN">1906</FONT><A NAME="1906"></A>  
<FONT ID="LN">1907</FONT><A NAME="1907"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1908</FONT><A NAME="1908"></A>   * Gets the list of mined association rules.
<FONT ID="LN">1909</FONT><A NAME="1909"></A>   * 
<FONT ID="LN">1910</FONT><A NAME="1910"></A>   * @return the list of association rules discovered during mining.
<FONT ID="LN">1911</FONT><A NAME="1911"></A>   * Returns null if mining hasn't been performed yet.
<FONT ID="LN">1912</FONT><A NAME="1912"></A>   */</FONT>
<FONT ID="LN">1913</FONT><A NAME="1913"></A>  <FONT ID="Public">public</FONT> List&lt;AssociationRule&gt; getAssociationRules() {
<FONT ID="LN">1914</FONT><A NAME="1914"></A>    <FONT ID="Return">return</FONT> m_rules;
<FONT ID="LN">1915</FONT><A NAME="1915"></A>  }
<FONT ID="LN">1916</FONT><A NAME="1916"></A>  
<FONT ID="LN">1917</FONT><A NAME="1917"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1918</FONT><A NAME="1918"></A>   * Returns an enumeration describing the available options.
<FONT ID="LN">1919</FONT><A NAME="1919"></A>   *
<FONT ID="LN">1920</FONT><A NAME="1920"></A>   * @return an enumeration of all the available options.
<FONT ID="LN">1921</FONT><A NAME="1921"></A>   */</FONT>
<FONT ID="LN">1922</FONT><A NAME="1922"></A>  <FONT ID="Public">public</FONT> Enumeration&lt;<A HREF="../../weka/core/Option.java.html">Option</A>&gt; listOptions() {
<FONT ID="LN">1923</FONT><A NAME="1923"></A>    Vector&lt;<A HREF="../../weka/core/Option.java.html">Option</A>&gt; newVector = <FONT ID="New">new</FONT> Vector&lt;<A HREF="../../weka/core/Option.java.html">Option</A>&gt;();
<FONT ID="LN">1924</FONT><A NAME="1924"></A>    
<FONT ID="LN">1925</FONT><A NAME="1925"></A>    String string00 = <FONT ID="StringLiteral">"\tSet the index of the attribute value to consider as 'positive'\n\t"</FONT>
<FONT ID="LN">1926</FONT><A NAME="1926"></A>   + <FONT ID="StringLiteral">"for binary attributes in normal dense instances. Index 2 is always\n\t"</FONT>
<FONT ID="LN">1927</FONT><A NAME="1927"></A>   + <FONT ID="StringLiteral">"used for sparse instances. (default = 2)"</FONT>;    
<FONT ID="LN">1928</FONT><A NAME="1928"></A>    String string0 = <FONT ID="StringLiteral">"\tThe maximum number of items to include "</FONT> +
<FONT ID="LN">1929</FONT><A NAME="1929"></A>            <FONT ID="StringLiteral">"in large items sets (and rules). (default "</FONT> +
<FONT ID="LN">1930</FONT><A NAME="1930"></A>            <FONT ID="StringLiteral">"= -1, i.e. no limit.)"</FONT>; 
<FONT ID="LN">1931</FONT><A NAME="1931"></A>      
<FONT ID="LN">1932</FONT><A NAME="1932"></A>    String string1 = <FONT ID="StringLiteral">"\tThe required number of rules. (default = "</FONT> 
<FONT ID="LN">1933</FONT><A NAME="1933"></A>      + m_numRulesToFind + <FONT ID="StringLiteral">")"</FONT>;
<FONT ID="LN">1934</FONT><A NAME="1934"></A>    String string2 = <FONT ID="StringLiteral">"\tThe minimum metric score of a rule. (default"</FONT> +
<FONT ID="LN">1935</FONT><A NAME="1935"></A>            <FONT ID="StringLiteral">" = "</FONT> + m_metricThreshold + <FONT ID="StringLiteral">")"</FONT>;
<FONT ID="LN">1936</FONT><A NAME="1936"></A>    String string3 = <FONT ID="StringLiteral">"\tThe metric by which to rank rules. (default"</FONT>
<FONT ID="LN">1937</FONT><A NAME="1937"></A>      + <FONT ID="StringLiteral">" = confidence)"</FONT>;
<FONT ID="LN">1938</FONT><A NAME="1938"></A>    String string4 = <FONT ID="StringLiteral">"\tThe lower bound for the minimum support. (default = "</FONT>
<FONT ID="LN">1939</FONT><A NAME="1939"></A>      + m_lowerBoundMinSupport + <FONT ID="StringLiteral">")"</FONT>;
<FONT ID="LN">1940</FONT><A NAME="1940"></A>    String string5 = <FONT ID="StringLiteral">"\tUpper bound for minimum support. "</FONT>
<FONT ID="LN">1941</FONT><A NAME="1941"></A>      + <FONT ID="StringLiteral">"(default = 1.0)"</FONT>;
<FONT ID="LN">1942</FONT><A NAME="1942"></A>    String string6 = <FONT ID="StringLiteral">"\tThe delta by which the minimum support is decreased in\n"</FONT>
<FONT ID="LN">1943</FONT><A NAME="1943"></A>     + <FONT ID="StringLiteral">"\teach iteration. (default = "</FONT> + m_delta + <FONT ID="StringLiteral">")"</FONT>;
<FONT ID="LN">1944</FONT><A NAME="1944"></A>    String string7 = <FONT ID="StringLiteral">"\tFind all rules that meet the lower bound on\n\t"</FONT> +
<FONT ID="LN">1945</FONT><A NAME="1945"></A>            <FONT ID="StringLiteral">"minimum support and the minimum metric constraint.\n\t"</FONT> +
<FONT ID="LN">1946</FONT><A NAME="1946"></A>            <FONT ID="StringLiteral">"Turning this mode on will disable the iterative support reduction\n\t"</FONT> +
<FONT ID="LN">1947</FONT><A NAME="1947"></A>            <FONT ID="StringLiteral">"procedure to find the specified number of rules."</FONT>;
<FONT ID="LN">1948</FONT><A NAME="1948"></A>    
<FONT ID="LN">1949</FONT><A NAME="1949"></A>    newVector.add(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(string00, <FONT ID="StringLiteral">"P"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-P &lt;attribute index of positive value&gt;"</FONT>));
<FONT ID="LN">1950</FONT><A NAME="1950"></A>    newVector.add(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(string0, <FONT ID="StringLiteral">"I"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-I &lt;max items&gt;"</FONT>));
<FONT ID="LN">1951</FONT><A NAME="1951"></A>    newVector.add(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(string1, <FONT ID="StringLiteral">"N"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-N &lt;require number of rules&gt;"</FONT>));
<FONT ID="LN">1952</FONT><A NAME="1952"></A>    newVector.add(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(string3, <FONT ID="StringLiteral">"T"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-T &lt;0=confidence | 1=lift | "</FONT>
<FONT ID="LN">1953</FONT><A NAME="1953"></A>                                    + <FONT ID="StringLiteral">"2=leverage | 3=Conviction&gt;"</FONT>));
<FONT ID="LN">1954</FONT><A NAME="1954"></A>    newVector.add(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(string2, <FONT ID="StringLiteral">"C"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-C &lt;minimum metric score of a rule&gt;"</FONT>));
<FONT ID="LN">1955</FONT><A NAME="1955"></A>    newVector.add(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(string5, <FONT ID="StringLiteral">"U"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-U &lt;upper bound for minimum support&gt;"</FONT>));
<FONT ID="LN">1956</FONT><A NAME="1956"></A>    newVector.add(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(string4, <FONT ID="StringLiteral">"M"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-M &lt;lower bound for minimum support&gt;"</FONT>));
<FONT ID="LN">1957</FONT><A NAME="1957"></A>    newVector.add(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(string6, <FONT ID="StringLiteral">"D"</FONT>, <FONT ID="IntegerLiteral">1</FONT>, <FONT ID="StringLiteral">"-D &lt;delta for minimum support&gt;"</FONT>));
<FONT ID="LN">1958</FONT><A NAME="1958"></A>    newVector.add(<FONT ID="New">new</FONT> <A HREF="../../weka/core/Option.java.html">Option</A>(string7, <FONT ID="StringLiteral">"S"</FONT>, <FONT ID="IntegerLiteral">0</FONT>, <FONT ID="StringLiteral">"-S"</FONT>));
<FONT ID="LN">1959</FONT><A NAME="1959"></A>    
<FONT ID="LN">1960</FONT><A NAME="1960"></A>    <FONT ID="Return">return</FONT> newVector.elements();
<FONT ID="LN">1961</FONT><A NAME="1961"></A>  }
<FONT ID="LN">1962</FONT><A NAME="1962"></A>  
<FONT ID="LN">1963</FONT><A NAME="1963"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">1964</FONT><A NAME="1964"></A>   * 
<FONT ID="LN">1965</FONT><A NAME="1965"></A>   * Parses a given list of options. &lt;p/&gt;
<FONT ID="LN">1966</FONT><A NAME="1966"></A>   * 
<FONT ID="LN">1967</FONT><A NAME="1967"></A>   &lt;!-- options-start --&gt;
<FONT ID="LN">1968</FONT><A NAME="1968"></A>   * Valid options are: &lt;p/&gt;
<FONT ID="LN">1969</FONT><A NAME="1969"></A>   * 
<FONT ID="LN">1970</FONT><A NAME="1970"></A>   * &lt;pre&gt; -P &amp;lt;attribute index of positive value&amp;gt;
<FONT ID="LN">1971</FONT><A NAME="1971"></A>   *  Set the index of the attribute value to consider as 'positive'
<FONT ID="LN">1972</FONT><A NAME="1972"></A>   *  for binary attributes in normal dense instances. Index 2 is always
<FONT ID="LN">1973</FONT><A NAME="1973"></A>   *  used for sparse instances. (default = 2)&lt;/pre&gt;
<FONT ID="LN">1974</FONT><A NAME="1974"></A>   * 
<FONT ID="LN">1975</FONT><A NAME="1975"></A>   * &lt;pre&gt; -I &amp;lt;max items&amp;gt;
<FONT ID="LN">1976</FONT><A NAME="1976"></A>   *  The maximum number of items to include in large items sets (and rules). (default = -1, i.e. no limit.)&lt;/pre&gt;
<FONT ID="LN">1977</FONT><A NAME="1977"></A>   * 
<FONT ID="LN">1978</FONT><A NAME="1978"></A>   * &lt;pre&gt; -N &amp;lt;require number of rules&amp;gt;
<FONT ID="LN">1979</FONT><A NAME="1979"></A>   *  The required number of rules. (default = 10)&lt;/pre&gt;
<FONT ID="LN">1980</FONT><A NAME="1980"></A>   * 
<FONT ID="LN">1981</FONT><A NAME="1981"></A>   * &lt;pre&gt; -T &amp;lt;0=confidence | 1=lift | 2=leverage | 3=Conviction&amp;gt;
<FONT ID="LN">1982</FONT><A NAME="1982"></A>   *  The metric by which to rank rules. (default = confidence)&lt;/pre&gt;
<FONT ID="LN">1983</FONT><A NAME="1983"></A>   * 
<FONT ID="LN">1984</FONT><A NAME="1984"></A>   * &lt;pre&gt; -C &amp;lt;minimum metric score of a rule&amp;gt;
<FONT ID="LN">1985</FONT><A NAME="1985"></A>   *  The minimum metric score of a rule. (default = 0.9)&lt;/pre&gt;
<FONT ID="LN">1986</FONT><A NAME="1986"></A>   * 
<FONT ID="LN">1987</FONT><A NAME="1987"></A>   * &lt;pre&gt; -U &amp;lt;upper bound for minimum support&amp;gt;
<FONT ID="LN">1988</FONT><A NAME="1988"></A>   *  Upper bound for minimum support. (default = 1.0)&lt;/pre&gt;
<FONT ID="LN">1989</FONT><A NAME="1989"></A>   * 
<FONT ID="LN">1990</FONT><A NAME="1990"></A>   * &lt;pre&gt; -M &amp;lt;lower bound for minimum support&amp;gt;
<FONT ID="LN">1991</FONT><A NAME="1991"></A>   *  The lower bound for the minimum support. (default = 0.1)&lt;/pre&gt;
<FONT ID="LN">1992</FONT><A NAME="1992"></A>   * 
<FONT ID="LN">1993</FONT><A NAME="1993"></A>   * &lt;pre&gt; -D &amp;lt;delta for minimum support&amp;gt;
<FONT ID="LN">1994</FONT><A NAME="1994"></A>   *  The delta by which the minimum support is decreased in
<FONT ID="LN">1995</FONT><A NAME="1995"></A>   *  each iteration. (default = 0.05)&lt;/pre&gt;
<FONT ID="LN">1996</FONT><A NAME="1996"></A>   * 
<FONT ID="LN">1997</FONT><A NAME="1997"></A>   * &lt;pre&gt; -S
<FONT ID="LN">1998</FONT><A NAME="1998"></A>   *  Find all rules that meet the lower bound on
<FONT ID="LN">1999</FONT><A NAME="1999"></A>   *  minimum support and the minimum metric constraint.
<FONT ID="LN">2000</FONT><A NAME="2000"></A>   *  Turning this mode on will disable the iterative support reduction
<FONT ID="LN">2001</FONT><A NAME="2001"></A>   *  procedure to find the specified number of rules.&lt;/pre&gt;
<FONT ID="LN">2002</FONT><A NAME="2002"></A>   * 
<FONT ID="LN">2003</FONT><A NAME="2003"></A>   &lt;!-- options-end --&gt;
<FONT ID="LN">2004</FONT><A NAME="2004"></A>   *
<FONT ID="LN">2005</FONT><A NAME="2005"></A>   * @param options the list of options as an array of strings
<FONT ID="LN">2006</FONT><A NAME="2006"></A>   * @throws Exception if an option is not supported
<FONT ID="LN">2007</FONT><A NAME="2007"></A>   */</FONT>
<FONT ID="LN">2008</FONT><A NAME="2008"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> setOptions(String[] options) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">2009</FONT><A NAME="2009"></A>    resetOptions();
<FONT ID="LN">2010</FONT><A NAME="2010"></A>    String positiveIndexString = Utils.getOption(<FONT ID="CharacerLiteral">'P'</FONT>, options);
<FONT ID="LN">2011</FONT><A NAME="2011"></A>    String maxItemsString = Utils.getOption(<FONT ID="CharacerLiteral">'I'</FONT>, options);
<FONT ID="LN">2012</FONT><A NAME="2012"></A>    String numRulesString = Utils.getOption(<FONT ID="CharacerLiteral">'N'</FONT>, options);
<FONT ID="LN">2013</FONT><A NAME="2013"></A>    String minMetricString = Utils.getOption(<FONT ID="CharacerLiteral">'C'</FONT>, options);
<FONT ID="LN">2014</FONT><A NAME="2014"></A>    String metricTypeString = Utils.getOption(<FONT ID="StringLiteral">"T"</FONT>, options);
<FONT ID="LN">2015</FONT><A NAME="2015"></A>    String lowerBoundSupportString = Utils.getOption(<FONT ID="StringLiteral">"M"</FONT>, options);
<FONT ID="LN">2016</FONT><A NAME="2016"></A>    String upperBoundSupportString = Utils.getOption(<FONT ID="StringLiteral">"U"</FONT>, options);
<FONT ID="LN">2017</FONT><A NAME="2017"></A>    String deltaString = Utils.getOption(<FONT ID="StringLiteral">"D"</FONT>, options);
<FONT ID="LN">2018</FONT><A NAME="2018"></A>
<FONT ID="LN">2019</FONT><A NAME="2019"></A>    <FONT ID="If">if</FONT> (positiveIndexString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2020</FONT><A NAME="2020"></A>      setPositiveIndex(Integer.parseInt(positiveIndexString));
<FONT ID="LN">2021</FONT><A NAME="2021"></A>    }
<FONT ID="LN">2022</FONT><A NAME="2022"></A>    
<FONT ID="LN">2023</FONT><A NAME="2023"></A>    <FONT ID="If">if</FONT> (maxItemsString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2024</FONT><A NAME="2024"></A>      setMaxNumberOfItems(Integer.parseInt(maxItemsString));
<FONT ID="LN">2025</FONT><A NAME="2025"></A>    }
<FONT ID="LN">2026</FONT><A NAME="2026"></A>    
<FONT ID="LN">2027</FONT><A NAME="2027"></A>    <FONT ID="If">if</FONT> (metricTypeString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2028</FONT><A NAME="2028"></A>      setMetricType(<FONT ID="New">new</FONT> <A HREF="../../weka/core/SelectedTag.java.html">SelectedTag</A>(Integer.parseInt(metricTypeString),
<FONT ID="LN">2029</FONT><A NAME="2029"></A>          AssociationRule.TAGS_SELECTION));
<FONT ID="LN">2030</FONT><A NAME="2030"></A>    }
<FONT ID="LN">2031</FONT><A NAME="2031"></A>    
<FONT ID="LN">2032</FONT><A NAME="2032"></A>    <FONT ID="If">if</FONT> (numRulesString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2033</FONT><A NAME="2033"></A>      setNumRulesToFind(Integer.parseInt(numRulesString));
<FONT ID="LN">2034</FONT><A NAME="2034"></A>    }
<FONT ID="LN">2035</FONT><A NAME="2035"></A>    
<FONT ID="LN">2036</FONT><A NAME="2036"></A>    <FONT ID="If">if</FONT> (minMetricString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2037</FONT><A NAME="2037"></A>      setMinMetric(Double.parseDouble(minMetricString));
<FONT ID="LN">2038</FONT><A NAME="2038"></A>    }
<FONT ID="LN">2039</FONT><A NAME="2039"></A>    
<FONT ID="LN">2040</FONT><A NAME="2040"></A>    <FONT ID="If">if</FONT> (deltaString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2041</FONT><A NAME="2041"></A>      setDelta(Double.parseDouble(deltaString));
<FONT ID="LN">2042</FONT><A NAME="2042"></A>    }
<FONT ID="LN">2043</FONT><A NAME="2043"></A>    
<FONT ID="LN">2044</FONT><A NAME="2044"></A>    <FONT ID="If">if</FONT> (lowerBoundSupportString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2045</FONT><A NAME="2045"></A>      setLowerBoundMinSupport(Double.parseDouble(lowerBoundSupportString));
<FONT ID="LN">2046</FONT><A NAME="2046"></A>    }
<FONT ID="LN">2047</FONT><A NAME="2047"></A>    
<FONT ID="LN">2048</FONT><A NAME="2048"></A>    <FONT ID="If">if</FONT> (upperBoundSupportString.length() != <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2049</FONT><A NAME="2049"></A>      setUpperBoundMinSupport(Double.parseDouble(upperBoundSupportString));
<FONT ID="LN">2050</FONT><A NAME="2050"></A>    }
<FONT ID="LN">2051</FONT><A NAME="2051"></A>    
<FONT ID="LN">2052</FONT><A NAME="2052"></A>    setFindAllRulesForSupportLevel(Utils.getFlag(<FONT ID="CharacerLiteral">'S'</FONT>, options));
<FONT ID="LN">2053</FONT><A NAME="2053"></A>  }
<FONT ID="LN">2054</FONT><A NAME="2054"></A>  
<FONT ID="LN">2055</FONT><A NAME="2055"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2056</FONT><A NAME="2056"></A>   * Gets the current settings of the classifier.
<FONT ID="LN">2057</FONT><A NAME="2057"></A>   *
<FONT ID="LN">2058</FONT><A NAME="2058"></A>   * @return an array of strings suitable for passing to setOptions
<FONT ID="LN">2059</FONT><A NAME="2059"></A>   */</FONT>
<FONT ID="LN">2060</FONT><A NAME="2060"></A>  <FONT ID="Public">public</FONT> String[] getOptions() {
<FONT ID="LN">2061</FONT><A NAME="2061"></A>    ArrayList&lt;String&gt; options = <FONT ID="New">new</FONT> ArrayList&lt;String&gt;();
<FONT ID="LN">2062</FONT><A NAME="2062"></A>    
<FONT ID="LN">2063</FONT><A NAME="2063"></A>    options.add(<FONT ID="StringLiteral">"-P"</FONT>); options.add(<FONT ID="StringLiteral">""</FONT> + getPositiveIndex());
<FONT ID="LN">2064</FONT><A NAME="2064"></A>    options.add(<FONT ID="StringLiteral">"-I"</FONT>); options.add(<FONT ID="StringLiteral">""</FONT> + getMaxNumberOfItems());
<FONT ID="LN">2065</FONT><A NAME="2065"></A>    options.add(<FONT ID="StringLiteral">"-N"</FONT>); options.add(<FONT ID="StringLiteral">""</FONT> + getNumRulesToFind());
<FONT ID="LN">2066</FONT><A NAME="2066"></A>    options.add(<FONT ID="StringLiteral">"-T"</FONT>); options.add(<FONT ID="StringLiteral">""</FONT> + getMetricType().getSelectedTag().getID());
<FONT ID="LN">2067</FONT><A NAME="2067"></A>    options.add(<FONT ID="StringLiteral">"-C"</FONT>); options.add(<FONT ID="StringLiteral">""</FONT> + getMinMetric());
<FONT ID="LN">2068</FONT><A NAME="2068"></A>    options.add(<FONT ID="StringLiteral">"-D"</FONT>); options.add(<FONT ID="StringLiteral">""</FONT> + getDelta());
<FONT ID="LN">2069</FONT><A NAME="2069"></A>    options.add(<FONT ID="StringLiteral">"-U"</FONT>); options.add(<FONT ID="StringLiteral">""</FONT> + getUpperBoundMinSupport());
<FONT ID="LN">2070</FONT><A NAME="2070"></A>    options.add(<FONT ID="StringLiteral">"-M"</FONT>); options.add(<FONT ID="StringLiteral">""</FONT> + getLowerBoundMinSupport());
<FONT ID="LN">2071</FONT><A NAME="2071"></A>    <FONT ID="If">if</FONT> (getFindAllRulesForSupportLevel()) {
<FONT ID="LN">2072</FONT><A NAME="2072"></A>      options.add(<FONT ID="StringLiteral">"-S"</FONT>);
<FONT ID="LN">2073</FONT><A NAME="2073"></A>    }
<FONT ID="LN">2074</FONT><A NAME="2074"></A>    
<FONT ID="LN">2075</FONT><A NAME="2075"></A>    <FONT ID="Return">return</FONT> options.toArray(<FONT ID="New">new</FONT> String[<FONT ID="IntegerLiteral">1</FONT>]);
<FONT ID="LN">2076</FONT><A NAME="2076"></A>  }
<FONT ID="LN">2077</FONT><A NAME="2077"></A>
<FONT ID="LN">2078</FONT><A NAME="2078"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2079</FONT><A NAME="2079"></A>   * Method that generates all large item sets with a minimum support, and from
<FONT ID="LN">2080</FONT><A NAME="2080"></A>   * these all association rules with a minimum metric (i.e. confidence, 
<FONT ID="LN">2081</FONT><A NAME="2081"></A>   * lift etc.).
<FONT ID="LN">2082</FONT><A NAME="2082"></A>   *
<FONT ID="LN">2083</FONT><A NAME="2083"></A>   * @param data the instances to be used for generating the associations
<FONT ID="LN">2084</FONT><A NAME="2084"></A>   * @throws Exception if rules can't be built successfully
<FONT ID="LN">2085</FONT><A NAME="2085"></A>   */</FONT>
<FONT ID="LN">2086</FONT><A NAME="2086"></A>  <FONT ID="Public">public</FONT> <FONT ID="Void">void</FONT> buildAssociations(<A HREF="../../weka/core/Instances.java.html">Instances</A> data) <FONT ID="Throws">throws</FONT> Exception {
<FONT ID="LN">2087</FONT><A NAME="2087"></A>    
<FONT ID="LN">2088</FONT><A NAME="2088"></A>    <FONT ID="SingleLineComment">// can we handle the data?
<FONT ID="LN">2089</FONT><A NAME="2089"></A></FONT>    getCapabilities().testWithFail(data);
<FONT ID="LN">2090</FONT><A NAME="2090"></A>    
<FONT ID="LN">2091</FONT><A NAME="2091"></A>    <FONT ID="Double">double</FONT> currentSupport = m_upperBoundMinSupport;
<FONT ID="LN">2092</FONT><A NAME="2092"></A>    
<FONT ID="LN">2093</FONT><A NAME="2093"></A>    <FONT ID="If">if</FONT> (m_findAllRulesForSupportLevel) {
<FONT ID="LN">2094</FONT><A NAME="2094"></A>      currentSupport = m_lowerBoundMinSupport;
<FONT ID="LN">2095</FONT><A NAME="2095"></A>    }
<FONT ID="LN">2096</FONT><A NAME="2096"></A>    <FONT ID="SingleLineComment">// first compute singletons
<FONT ID="LN">2097</FONT><A NAME="2097"></A></FONT>    ArrayList&lt;BinaryItem&gt; singletons = getSingletons(data);
<FONT ID="LN">2098</FONT><A NAME="2098"></A>    <FONT ID="SingleLineComment">//ArrayList&lt;BinaryItem&gt; singletonsCopy = new ArrayList&lt;BinaryItem&gt;(singletons);
<FONT ID="LN">2099</FONT><A NAME="2099"></A></FONT><FONT ID="MultiLineComment">/*    Collections.sort(singletonsCopy);
<FONT ID="LN">2100</FONT><A NAME="2100"></A>    for (int i = 0; i &lt; singletonsCopy.size(); i++) {
<FONT ID="LN">2101</FONT><A NAME="2101"></A>      System.out.println(singletonsCopy.get(i).toString(true));
<FONT ID="LN">2102</FONT><A NAME="2102"></A>    }
<FONT ID="LN">2103</FONT><A NAME="2103"></A>    System.out.println("---------"); */</FONT>
<FONT ID="LN">2104</FONT><A NAME="2104"></A><FONT ID="SingleLineComment">//    System.out.println("Finished finding singletons...");
<FONT ID="LN">2105</FONT><A NAME="2105"></A></FONT>    
<FONT ID="LN">2106</FONT><A NAME="2106"></A>    <FONT ID="SingleLineComment">// while not enough rules
<FONT ID="LN">2107</FONT><A NAME="2107"></A></FONT>    <FONT ID="Do">do</FONT> {
<FONT ID="LN">2108</FONT><A NAME="2108"></A>      <FONT ID="Int">int</FONT> currentSupportAsInstances = (currentSupport &gt; <FONT ID="IntegerLiteral">1</FONT>)
<FONT ID="LN">2109</FONT><A NAME="2109"></A>      ? (<FONT ID="Int">int</FONT>)currentSupport
<FONT ID="LN">2110</FONT><A NAME="2110"></A>      : (<FONT ID="Int">int</FONT>)Math.ceil(currentSupport * data.numInstances());
<FONT ID="LN">2111</FONT><A NAME="2111"></A>      
<FONT ID="LN">2112</FONT><A NAME="2112"></A>      <FONT ID="SingleLineComment">//System.err.println("Current support " + currentSupportAsInstances);
<FONT ID="LN">2113</FONT><A NAME="2113"></A></FONT>      <FONT ID="SingleLineComment">//ArrayList&lt;BinaryItem&gt; prunedSingletons = removeNonFrequent(singletons);
<FONT ID="LN">2114</FONT><A NAME="2114"></A></FONT>
<FONT ID="LN">2115</FONT><A NAME="2115"></A>      <FONT ID="SingleLineComment">// build the FPTree
<FONT ID="LN">2116</FONT><A NAME="2116"></A></FONT>      FPTreeRoot tree = buildFPTree(singletons, data, currentSupportAsInstances);
<FONT ID="LN">2117</FONT><A NAME="2117"></A><FONT ID="SingleLineComment">//      System.out.println("Finished building tree...");
<FONT ID="LN">2118</FONT><A NAME="2118"></A></FONT><FONT ID="SingleLineComment">//      System.out.println(tree.toString(0));
<FONT ID="LN">2119</FONT><A NAME="2119"></A></FONT>    <FONT ID="MultiLineComment">/*System.out.println(tree.printHeaderTable(0)); */</FONT>
<FONT ID="LN">2120</FONT><A NAME="2120"></A>
<FONT ID="LN">2121</FONT><A NAME="2121"></A>      FrequentItemSets largeItemSets = <FONT ID="New">new</FONT> FrequentItemSets(data.numInstances());
<FONT ID="LN">2122</FONT><A NAME="2122"></A>
<FONT ID="LN">2123</FONT><A NAME="2123"></A>      <FONT ID="SingleLineComment">// mine the tree
<FONT ID="LN">2124</FONT><A NAME="2124"></A></FONT>      FrequentBinaryItemSet conditionalItems = 
<FONT ID="LN">2125</FONT><A NAME="2125"></A>        <FONT ID="New">new</FONT> FrequentBinaryItemSet(<FONT ID="New">new</FONT> ArrayList&lt;BinaryItem&gt;(), <FONT ID="IntegerLiteral">0</FONT>);
<FONT ID="LN">2126</FONT><A NAME="2126"></A>      mineTree(tree, largeItemSets, <FONT ID="IntegerLiteral">0</FONT>, conditionalItems, currentSupportAsInstances);
<FONT ID="LN">2127</FONT><A NAME="2127"></A>
<FONT ID="LN">2128</FONT><A NAME="2128"></A>      m_largeItemSets = largeItemSets;
<FONT ID="LN">2129</FONT><A NAME="2129"></A><FONT ID="SingleLineComment">//         System.err.println("Number of large item sets: " + m_largeItemSets.size());
<FONT ID="LN">2130</FONT><A NAME="2130"></A></FONT>  <FONT ID="SingleLineComment">//    System.err.println(m_largeItemSets.toString(100));
<FONT ID="LN">2131</FONT><A NAME="2131"></A></FONT>
<FONT ID="LN">2132</FONT><A NAME="2132"></A>      <FONT ID="SingleLineComment">//    m_largeItemSets.sort(compF);
<FONT ID="LN">2133</FONT><A NAME="2133"></A></FONT><FONT ID="SingleLineComment">//      System.err.println("Finished mining tree...");
<FONT ID="LN">2134</FONT><A NAME="2134"></A></FONT>      
<FONT ID="LN">2135</FONT><A NAME="2135"></A>      <FONT ID="SingleLineComment">// save memory
<FONT ID="LN">2136</FONT><A NAME="2136"></A></FONT>      tree = <FONT ID="Null">null</FONT>;
<FONT ID="LN">2137</FONT><A NAME="2137"></A>      
<FONT ID="LN">2138</FONT><A NAME="2138"></A>      m_rules = 
<FONT ID="LN">2139</FONT><A NAME="2139"></A>        AssociationRule.generateRulesBruteForce(m_largeItemSets, m_metric, 
<FONT ID="LN">2140</FONT><A NAME="2140"></A>            m_metricThreshold, data.numInstances());
<FONT ID="LN">2141</FONT><A NAME="2141"></A>      
<FONT ID="LN">2142</FONT><A NAME="2142"></A>      <FONT ID="If">if</FONT> (!m_findAllRulesForSupportLevel) {
<FONT ID="LN">2143</FONT><A NAME="2143"></A>        currentSupport -= m_delta;
<FONT ID="LN">2144</FONT><A NAME="2144"></A>        <FONT ID="If">if</FONT> (currentSupport &lt; m_lowerBoundMinSupport) {
<FONT ID="LN">2145</FONT><A NAME="2145"></A>          <FONT ID="If">if</FONT> (currentSupport + m_delta &gt; m_lowerBoundMinSupport) {
<FONT ID="LN">2146</FONT><A NAME="2146"></A>            <FONT ID="SingleLineComment">// ensure that the lower bound does get evaluated
<FONT ID="LN">2147</FONT><A NAME="2147"></A></FONT>            currentSupport = m_lowerBoundMinSupport;
<FONT ID="LN">2148</FONT><A NAME="2148"></A>          } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2149</FONT><A NAME="2149"></A>            <FONT ID="Break">break</FONT>;
<FONT ID="LN">2150</FONT><A NAME="2150"></A>          }
<FONT ID="LN">2151</FONT><A NAME="2151"></A>        }
<FONT ID="LN">2152</FONT><A NAME="2152"></A>      } <FONT ID="Else">else</FONT> {
<FONT ID="LN">2153</FONT><A NAME="2153"></A>        <FONT ID="SingleLineComment">// just break out of the loop as we are just finding all rules
<FONT ID="LN">2154</FONT><A NAME="2154"></A></FONT>        <FONT ID="SingleLineComment">// with a minimum support + metric
<FONT ID="LN">2155</FONT><A NAME="2155"></A></FONT>        <FONT ID="Break">break</FONT>;
<FONT ID="LN">2156</FONT><A NAME="2156"></A>      }
<FONT ID="LN">2157</FONT><A NAME="2157"></A>    } <FONT ID="While">while</FONT> (m_rules.size() &lt; m_numRulesToFind);
<FONT ID="LN">2158</FONT><A NAME="2158"></A>    
<FONT ID="LN">2159</FONT><A NAME="2159"></A>    Collections.sort(m_rules);
<FONT ID="LN">2160</FONT><A NAME="2160"></A><FONT ID="SingleLineComment">//    for (AssociationRule)
<FONT ID="LN">2161</FONT><A NAME="2161"></A></FONT>    
<FONT ID="LN">2162</FONT><A NAME="2162"></A><FONT ID="SingleLineComment">//    System.out.println(graph(tree));
<FONT ID="LN">2163</FONT><A NAME="2163"></A></FONT>  }
<FONT ID="LN">2164</FONT><A NAME="2164"></A>    
<FONT ID="LN">2165</FONT><A NAME="2165"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2166</FONT><A NAME="2166"></A>   * Output the association rules.
<FONT ID="LN">2167</FONT><A NAME="2167"></A>   * 
<FONT ID="LN">2168</FONT><A NAME="2168"></A>   * @return a string representation of the model.
<FONT ID="LN">2169</FONT><A NAME="2169"></A>   */</FONT>
<FONT ID="LN">2170</FONT><A NAME="2170"></A>  <FONT ID="Public">public</FONT> String toString() {
<FONT ID="LN">2171</FONT><A NAME="2171"></A><FONT ID="SingleLineComment">//    return m_largeItemSets.toString(m_numItemSetsToFind);
<FONT ID="LN">2172</FONT><A NAME="2172"></A></FONT>    <FONT ID="If">if</FONT> (m_rules == <FONT ID="Null">null</FONT>) {
<FONT ID="LN">2173</FONT><A NAME="2173"></A>      <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"FPGrowth hasn't been trained yet!"</FONT>;
<FONT ID="LN">2174</FONT><A NAME="2174"></A>    }
<FONT ID="LN">2175</FONT><A NAME="2175"></A>
<FONT ID="LN">2176</FONT><A NAME="2176"></A>    StringBuffer result = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">2177</FONT><A NAME="2177"></A>    <FONT ID="Int">int</FONT> numRules = (m_rules.size() &lt; m_numRulesToFind)
<FONT ID="LN">2178</FONT><A NAME="2178"></A>      ? m_rules.size()
<FONT ID="LN">2179</FONT><A NAME="2179"></A>      : m_numRulesToFind;
<FONT ID="LN">2180</FONT><A NAME="2180"></A>      
<FONT ID="LN">2181</FONT><A NAME="2181"></A>    <FONT ID="If">if</FONT> (m_rules.size() == <FONT ID="IntegerLiteral">0</FONT>) {
<FONT ID="LN">2182</FONT><A NAME="2182"></A>      <FONT ID="Return">return</FONT> <FONT ID="StringLiteral">"No rules found!"</FONT>;
<FONT ID="LN">2183</FONT><A NAME="2183"></A>    } <FONT ID="Else">else</FONT> {      
<FONT ID="LN">2184</FONT><A NAME="2184"></A>      result.append(<FONT ID="StringLiteral">"FPGrowth found "</FONT> + m_rules.size() + <FONT ID="StringLiteral">" rules"</FONT>);
<FONT ID="LN">2185</FONT><A NAME="2185"></A>      <FONT ID="If">if</FONT> (!m_findAllRulesForSupportLevel) {
<FONT ID="LN">2186</FONT><A NAME="2186"></A>        result.append(<FONT ID="StringLiteral">" (displaying top "</FONT> + numRules + <FONT ID="StringLiteral">")"</FONT>);
<FONT ID="LN">2187</FONT><A NAME="2187"></A>      }
<FONT ID="LN">2188</FONT><A NAME="2188"></A>      result.append(<FONT ID="StringLiteral">"\n\n"</FONT>);
<FONT ID="LN">2189</FONT><A NAME="2189"></A>    }
<FONT ID="LN">2190</FONT><A NAME="2190"></A>
<FONT ID="LN">2191</FONT><A NAME="2191"></A>    <FONT ID="Int">int</FONT> count = <FONT ID="IntegerLiteral">0</FONT>;
<FONT ID="LN">2192</FONT><A NAME="2192"></A>    <FONT ID="For">for</FONT> (AssociationRule r : m_rules) {
<FONT ID="LN">2193</FONT><A NAME="2193"></A>      result.append(Utils.doubleToString((<FONT ID="Double">double</FONT>)count+<FONT ID="IntegerLiteral">1</FONT>,
<FONT ID="LN">2194</FONT><A NAME="2194"></A>          (<FONT ID="Int">int</FONT>)(Math.log(numRules)/Math.log(<FONT ID="IntegerLiteral">10</FONT>)+<FONT ID="IntegerLiteral">1</FONT>), <FONT ID="IntegerLiteral">0</FONT>) + <FONT ID="StringLiteral">". "</FONT>);
<FONT ID="LN">2195</FONT><A NAME="2195"></A>      result.append(r + <FONT ID="StringLiteral">"\n"</FONT>);
<FONT ID="LN">2196</FONT><A NAME="2196"></A>      count++;
<FONT ID="LN">2197</FONT><A NAME="2197"></A>      <FONT ID="If">if</FONT> (!m_findAllRulesForSupportLevel &amp;&amp; count == m_numRulesToFind) {
<FONT ID="LN">2198</FONT><A NAME="2198"></A>        <FONT ID="Break">break</FONT>;
<FONT ID="LN">2199</FONT><A NAME="2199"></A>      }
<FONT ID="LN">2200</FONT><A NAME="2200"></A>    }
<FONT ID="LN">2201</FONT><A NAME="2201"></A>    <FONT ID="Return">return</FONT> result.toString();
<FONT ID="LN">2202</FONT><A NAME="2202"></A>  }
<FONT ID="LN">2203</FONT><A NAME="2203"></A>  
<FONT ID="LN">2204</FONT><A NAME="2204"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2205</FONT><A NAME="2205"></A>   * Assemble a dot graph representation of the FP-tree.
<FONT ID="LN">2206</FONT><A NAME="2206"></A>   * 
<FONT ID="LN">2207</FONT><A NAME="2207"></A>   * @param tree the root of the FP-tree
<FONT ID="LN">2208</FONT><A NAME="2208"></A>   * @return a graph representation as a String in dot format.
<FONT ID="LN">2209</FONT><A NAME="2209"></A>   */</FONT>
<FONT ID="LN">2210</FONT><A NAME="2210"></A>  <FONT ID="Public">public</FONT> String graph(FPTreeRoot tree) {
<FONT ID="LN">2211</FONT><A NAME="2211"></A>    <FONT ID="SingleLineComment">//int maxID = tree.assignIDs(-1);
<FONT ID="LN">2212</FONT><A NAME="2212"></A></FONT>    
<FONT ID="LN">2213</FONT><A NAME="2213"></A>    
<FONT ID="LN">2214</FONT><A NAME="2214"></A>    StringBuffer text = <FONT ID="New">new</FONT> StringBuffer();
<FONT ID="LN">2215</FONT><A NAME="2215"></A>    text.append(<FONT ID="StringLiteral">"digraph FPTree {\n"</FONT>);
<FONT ID="LN">2216</FONT><A NAME="2216"></A>    text.append(<FONT ID="StringLiteral">"N0 [label=\"ROOT\"]\n"</FONT>);
<FONT ID="LN">2217</FONT><A NAME="2217"></A>    tree.graphFPTree(text);
<FONT ID="LN">2218</FONT><A NAME="2218"></A>    
<FONT ID="LN">2219</FONT><A NAME="2219"></A><FONT ID="SingleLineComment">//    tree.graphHeaderTable(text, maxID+1);
<FONT ID="LN">2220</FONT><A NAME="2220"></A></FONT>    text.append(<FONT ID="StringLiteral">"}\n"</FONT>);
<FONT ID="LN">2221</FONT><A NAME="2221"></A>    
<FONT ID="LN">2222</FONT><A NAME="2222"></A>    <FONT ID="Return">return</FONT> text.toString();
<FONT ID="LN">2223</FONT><A NAME="2223"></A>  }
<FONT ID="LN">2224</FONT><A NAME="2224"></A>  
<FONT ID="LN">2225</FONT><A NAME="2225"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2226</FONT><A NAME="2226"></A>   * Returns the revision string.
<FONT ID="LN">2227</FONT><A NAME="2227"></A>   * 
<FONT ID="LN">2228</FONT><A NAME="2228"></A>   * @return            the revision
<FONT ID="LN">2229</FONT><A NAME="2229"></A>   */</FONT>
<FONT ID="LN">2230</FONT><A NAME="2230"></A>  <FONT ID="Public">public</FONT> String getRevision() {
<FONT ID="LN">2231</FONT><A NAME="2231"></A>    <FONT ID="Return">return</FONT> RevisionUtils.extract(<FONT ID="StringLiteral">"$Revision: 6158 $"</FONT>);
<FONT ID="LN">2232</FONT><A NAME="2232"></A>  }
<FONT ID="LN">2233</FONT><A NAME="2233"></A>  
<FONT ID="LN">2234</FONT><A NAME="2234"></A>  <FONT ID="FormalComment">/**
<FONT ID="LN">2235</FONT><A NAME="2235"></A>   * Main method.
<FONT ID="LN">2236</FONT><A NAME="2236"></A>   * 
<FONT ID="LN">2237</FONT><A NAME="2237"></A>   * @param args the commandline options
<FONT ID="LN">2238</FONT><A NAME="2238"></A>   */</FONT>
<FONT ID="LN">2239</FONT><A NAME="2239"></A>  <FONT ID="Public">public</FONT> <FONT ID="Static">static</FONT> <FONT ID="Void">void</FONT> main(String[] args) {
<FONT ID="LN">2240</FONT><A NAME="2240"></A>    runAssociator(<FONT ID="New">new</FONT> <A HREF="../../weka/associations/FPGrowth.java.html">FPGrowth</A>(), args);
<FONT ID="LN">2241</FONT><A NAME="2241"></A>  }
<FONT ID="LN">2242</FONT><A NAME="2242"></A>}
<FONT ID="LN">2243</FONT><A NAME="2243"></A>
<FONT ID="LN">2244</FONT><A NAME="2244"></A></pre><TABLE id="Header" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2" width="33%">&nbsp;</td>
<td align="center" colspan="2" width="33%">
<font size="4">FPGrowth.java</font>
</td>
<td align="right" colspan="2" width="33%">&nbsp;</td>
</tr>
</TABLE>

</BODY>
</HTML>